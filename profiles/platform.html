<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="version" content="20251128204757">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Empire FGA - Intelligence Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap');
        * { font-family: 'Inter', sans-serif; }
        
        .gradient-text {
            background: linear-gradient(to right, #60a5fa, #22d3ee, #3b82f6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .tab-button {
            position: relative;
            transition: all 0.3s ease;
        }
        
        .tab-button.active {
            color: #60a5fa;
        }
        
        .tab-button.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(to right, #60a5fa, #22d3ee);
            border-radius: 3px 3px 0 0;
        }
        
        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease-in;
        }
        
        .tab-content.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .stat-card {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(37, 99, 235, 0.05) 100%);
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(59, 130, 246, 0.2);
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: 900;
            background: linear-gradient(to right, #60a5fa, #3b82f6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .stat-label {
            color: #94a3b8;
            font-size: 0.875rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-top: 8px;
        }
        
        .player-card {
            background: linear-gradient(135deg, rgba(30, 58, 138, 0.1) 0%, rgba(17, 24, 39, 0.8) 100%);
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .player-card:hover {
            border-color: #60a5fa;
            transform: translateY(-4px);
            box-shadow: 0 12px 24px rgba(59, 130, 246, 0.3);
        }
        
        .player-card.selected {
            border-color: #22d3ee;
            background: linear-gradient(135deg, rgba(34, 211, 238, 0.15) 0%, rgba(17, 24, 39, 0.9) 100%);
            box-shadow: 0 0 20px rgba(34, 211, 238, 0.4);
        }
        
        .filter-pill {
            display: inline-block;
            padding: 6px 14px;
            border-radius: 20px;
            background-color: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.3);
            color: #60a5fa;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.875rem;
            font-weight: 600;
        }
        
        .filter-pill:hover, .filter-pill.active {
            background-color: #3b82f6;
            color: white;
            border-color: #3b82f6;
        }
        
        .pagination-btn {
            background-color: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.3);
            color: #60a5fa;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            margin: 0 4px;
        }
        
        .pagination-btn:hover:not(:disabled) {
            background-color: rgba(59, 130, 246, 0.2);
            border-color: rgba(59, 130, 246, 0.5);
        }
        
        .pagination-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }
        
        .pagination-btn.active {
            background-color: #3b82f6;
            color: white;
            border-color: #3b82f6;
        }
        
        .search-input {
            background-color: #1e293b;
            border: 1px solid #334155;
            color: #e2e8f0;
            border-radius: 0.375rem;
            padding: 10px 16px;
            width: 100%;
            transition: all 0.2s;
        }
        
        .search-input:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .database-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .database-table th {
            background-color: rgba(30, 58, 138, 0.3);
            color: #93c5fd;
            text-align: left;
            font-weight: 600;
            padding: 12px 15px;
            border-bottom: 1px solid rgba(59, 130, 246, 0.2);
            cursor: pointer;
            user-select: none;
        }
        
        .database-table th:hover {
            background-color: rgba(30, 58, 138, 0.5);
        }
        
        .database-table td {
            padding: 12px 15px;
            border-bottom: 1px solid rgba(59, 130, 246, 0.2);
        }
        
        .database-table tbody tr:hover {
            background-color: rgba(59, 130, 246, 0.1);
        }
        
        .database-table a {
            color: #60a5fa;
            text-decoration: none;
            font-weight: 500;
        }
        
        .database-table a:hover {
            text-decoration: underline;
        }
        
        .value-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 700;
        }
        
        .value-badge.undervalued {
            background: rgba(34, 197, 94, 0.2);
            border: 1px solid rgba(34, 197, 94, 0.4);
            color: #22c55e;
        }
        
        .heatmap-cell {
            cursor: pointer;
            transition: all 0.2s;
            display: inline-block;
            padding: 8px 12px;
            border-radius: 8px;
            min-width: 50px;
            font-weight: 700;
        }
        
        .heatmap-cell:hover {
            transform: scale(1.1);
        }
        
        .pitch-background {
            background: linear-gradient(180deg, #0f5132 0%, #0a3622 100%);
            position: relative;
            border: 3px solid white;
            border-radius: 8px;
        }
        
        .pitch-position {
            position: absolute;
            width: 60px;
            height: 60px;
            background: rgba(59, 130, 246, 0.3);
            border: 2px solid #60a5fa;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: 700;
            color: white;
            cursor: pointer;
            transition: all 0.2s;
            flex-direction: column;
            text-align: center;
            padding: 4px;
        }
        
        .pitch-position:hover {
            transform: scale(1.05);
            background: rgba(59, 130, 246, 0.5);
        }
        
        .pitch-position.filled {
            background: rgba(34, 197, 94, 0.6);
            border-color: #22c55e;
        }
        
        .formation-selector {
            display: inline-block;
            padding: 10px 20px;
            border: 2px solid rgba(59, 130, 246, 0.3);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            margin: 0 8px 8px 0;
        }
        
        .formation-selector:hover, .formation-selector.active {
            border-color: #60a5fa;
            background: rgba(59, 130, 246, 0.1);
        }
        
        /* Login Modal Styles */
        .login-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
        }
        
        .login-modal {
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            border: 2px solid rgba(59, 130, 246, 0.3);
            border-radius: 16px;
            padding: 40px;
            max-width: 450px;
            width: 90%;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.8);
        }
        
        .login-input {
            background: #0f172a;
            border: 1px solid rgba(59, 130, 246, 0.3);
            color: #e2e8f0;
            padding: 12px 16px;
            border-radius: 8px;
            width: 100%;
            font-size: 16px;
            transition: all 0.2s;
        }
        
        .login-input:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .login-button {
            background: linear-gradient(to right, #3b82f6, #2563eb);
            color: white;
            padding: 14px 24px;
            border-radius: 8px;
            font-weight: 600;
            width: 100%;
            border: none;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.2s;
        }
        
        .login-button:hover {
            background: linear-gradient(to right, #2563eb, #1d4ed8);
            transform: translateY(-1px);
            box-shadow: 0 8px 16px rgba(59, 130, 246, 0.3);
        }
        
        .login-error {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            color: #fca5a5;
            padding: 12px;
            border-radius: 8px;
            font-size: 14px;
            margin-bottom: 16px;
            display: none;
        }
        
        .platform-content {
            display: none;
        }
        
        /* ==========================================
           PLAYER AVATAR STYLES FOR TABLE
           ========================================== */
        .player-avatar-small {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid rgba(59, 130, 246, 0.5);
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            transition: all 0.3s ease;
            display: inline-block;
            vertical-align: middle;
        }

        .player-avatar-small:hover {
            transform: scale(1.1);
            border-color: rgba(59, 130, 246, 1);
            box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);
        }

        .player-avatar-placeholder {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #475569 0%, #64748b 100%);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            color: white;
            border: 2px solid rgba(100, 116, 139, 0.5);
            font-weight: bold;
            font-size: 0.875rem;
            vertical-align: middle;
        }

        tbody tr:hover {
            background-color: rgba(30, 41, 59, 0.5) !important;
        }
        
        .player-name-cell {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
    </style>
</head>
<body class="bg-slate-950 text-white">

    <!-- Login Overlay -->
    <div id="loginOverlay" class="login-overlay">
        <div class="login-modal">
            <div class="text-center mb-8">
                <img src="https://media.licdn.com/dms/image/v2/D4E12AQEjuDAF0uOTrw/article-cover_image-shrink_720_1280/B4EZiOwG01GwAI-/0/1754741632806?e=2147483647&v=beta&t=L9ct0jEaWdSp7vfTI0urIqPPig0MspEd-6RtzxaQzzQ" 
                     alt="Empire FGA" 
                     class="h-16 w-auto mx-auto mb-4">
                <h1 class="text-3xl font-bold gradient-text mb-2">Empire FGA Platform</h1>
                <p class="text-slate-400">Secure Access Required</p>
            </div>
            
            <div id="loginError" class="login-error">
                <i class="fas fa-exclamation-circle"></i> Invalid credentials. Please try again.
            </div>
            
            <form id="loginForm" onsubmit="handleLogin(event)">
                <div class="mb-4">
                    <label class="block text-slate-300 mb-2 font-semibold">
                        <i class="fas fa-user"></i> Username
                    </label>
                    <input 
                        type="text" 
                        id="username" 
                        class="login-input" 
                        placeholder="Enter username" 
                        required
                        autocomplete="username">
                </div>
                
                <div class="mb-6">
                    <label class="block text-slate-300 mb-2 font-semibold">
                        <i class="fas fa-lock"></i> Password
                    </label>
                    <input 
                        type="password" 
                        id="password" 
                        class="login-input" 
                        placeholder="Enter password" 
                        required
                        autocomplete="current-password">
                </div>
                
                <button type="submit" class="login-button">
                    <i class="fas fa-sign-in-alt"></i> Access Platform
                </button>
            </form>
            
            <div class="mt-6 text-center text-slate-500 text-sm">
                <i class="fas fa-shield-alt"></i> Secured by Empire FGA
            </div>
        </div>
    </div>

    <!-- Client Login Modal -->
    <div id="clientLoginModal" class="login-overlay" style="display:none;">
        <div class="login-modal">
            <button onclick="closeClientLogin()" class="absolute top-4 right-4 text-slate-400 hover:text-white text-2xl">
                <i class="fas fa-times"></i>
            </button>
            
            <div class="text-center mb-8">
                <img src="https://media.licdn.com/dms/image/v2/D4E12AQEjuDAF0uOTrw/article-cover_image-shrink_720_1280/B4EZiOwG01GwAI-/0/1754741632806?e=2147483647&v=beta&t=L9ct0jEaWdSp7vfTI0urIqPPig0MspEd-6RtzxaQzzQ" 
                     alt="Empire FGA" 
                     class="h-16 w-auto mx-auto mb-4">
                <h1 class="text-3xl font-bold gradient-text mb-2">Client Portal</h1>
                <p class="text-slate-400">Premium Access for Valued Clients</p>
            </div>
            
            <div id="clientLoginError" class="login-error">
                <i class="fas fa-exclamation-circle"></i> Invalid credentials. Please contact support@empirefga.com
            </div>
            
            <form id="clientLoginForm" onsubmit="handleClientLogin(event)">
                <div class="mb-4">
                    <label class="block text-slate-300 mb-2 font-semibold">
                        <i class="fas fa-building"></i> Club Name or Email
                    </label>
                    <input 
                        type="text" 
                        id="clientUsername" 
                        class="login-input" 
                        placeholder="Enter club name or email" 
                        required
                        autocomplete="username">
                </div>
                
                <div class="mb-6">
                    <label class="block text-slate-300 mb-2 font-semibold">
                        <i class="fas fa-key"></i> Access Code
                    </label>
                    <input 
                        type="password" 
                        id="clientPassword" 
                        class="login-input" 
                        placeholder="Enter your access code" 
                        required
                        autocomplete="current-password">
                </div>
                
                <button type="submit" class="login-button">
                    <i class="fas fa-sign-in-alt"></i> Access Client Portal
                </button>
            </form>
            
            <div class="mt-6 text-center">
                <p class="text-slate-400 text-sm mb-4">
                    <i class="fas fa-info-circle"></i> Client Portal Features:
                </p>
                <div class="grid grid-cols-2 gap-2 text-xs text-slate-500">
                    <div class="flex items-center gap-2">
                        <i class="fas fa-check text-green-400"></i> Player Database Access
                    </div>
                    <div class="flex items-center gap-2">
                        <i class="fas fa-check text-green-400"></i> Comparison Tool
                    </div>
                    <div class="flex items-center gap-2">
                        <i class="fas fa-check text-green-400"></i> Market Intelligence
                    </div>
                    <div class="flex items-center gap-2">
                        <i class="fas fa-check text-green-400"></i> Export Reports
                    </div>
                </div>
            </div>
            
            <div class="mt-6 text-center text-slate-500 text-sm border-t border-slate-700 pt-4">
                <p class="mb-2">Don't have access yet?</p>
                <a href="https://www.empirescoutingnetwork.com/demo" target="_blank" class="text-blue-400 hover:text-blue-300 font-semibold">
                    <i class="fas fa-calendar"></i> Request a Demo
                </a>
            </div>
        </div>
    </div>

    <!-- Platform Content (Hidden until authenticated) -->
    <div id="platformContent" class="platform-content">

    <!-- Navigation -->
    <nav class="sticky top-0 w-full bg-slate-950/90 backdrop-blur-md z-50 border-b border-blue-500/20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-3">
                    <img src="https://media.licdn.com/dms/image/v2/D4E12AQEjuDAF0uOTrw/article-cover_image-shrink_720_1280/B4EZiOwG01GwAI-/0/1754741632806?e=2147483647&v=beta&t=L9ct0jEaWdSp7vfTI0urIqPPig0MspEd-6RtzxaQzzQ" 
                         alt="Empire Scouting Network" 
                         class="h-10 w-auto">
                    <span class="text-xl font-bold gradient-text">Empire FGA Platform</span>
                </div>
                
                <div class="flex items-center space-x-4">
                    <button onclick="exportToPDF()" class="text-yellow-400 hover:text-yellow-300 px-4 py-2 rounded-lg font-semibold transition border border-yellow-500 hover:bg-yellow-500/10 flex items-center gap-2">
                        <i class="fas fa-file-pdf"></i> Export PDF
                    </button>
                    <a href="client_login.html" class="text-blue-400 hover:text-blue-300 px-4 py-2 rounded-lg font-semibold transition border border-blue-500 hover:bg-blue-500/10 flex items-center gap-2">
                        <i class="fas fa-user"></i> <span id="clientLoginText">Client Login</span>
                    </a>
                    <a href="https://www.empirescoutingnetwork.com/demo" target="_blank" class="bg-blue-600 hover:bg-blue-700 px-6 py-2 rounded-lg font-semibold transition flex items-center gap-2">
                        <i class="fas fa-calendar"></i> Request Demo
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Tab Navigation -->
    <div class="bg-slate-900/50 border-b border-blue-500/20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex space-x-8 overflow-x-auto">
                <button class="tab-button active py-4 px-2 font-semibold whitespace-nowrap" onclick="switchTab('database')">
                    <i class="fas fa-database"></i> Player Database
                </button>
                <button class="tab-button py-4 px-2 font-semibold whitespace-nowrap" onclick="switchTab('comparison')">
                    <i class="fas fa-balance-scale"></i> Player Comparison
                </button>
                <button class="tab-button py-4 px-2 font-semibold whitespace-nowrap" onclick="switchTab('market')">
                    <i class="fas fa-chart-line"></i> Market Intelligence
                </button>
                <button class="tab-button py-4 px-2 font-semibold whitespace-nowrap" onclick="switchTab('philosophy')">
                    <i class="fas fa-brain"></i> Philosophy Heatmap
                </button>
                <button class="tab-button py-4 px-2 font-semibold whitespace-nowrap" onclick="switchTab('squad')">
                    <i class="fas fa-users"></i> Squad Builder
                </button>
                <button class="tab-button py-4 px-2 font-semibold whitespace-nowrap" onclick="switchTab('agents')">
                    <i class="fas fa-user-tie"></i> Scouting Tool
                </button>
            </div>
        </div>
    </div>

    <main class="pt-8 pb-20 px-4">
        <div class="max-w-7xl mx-auto">
            
            <!-- DATABASE TAB -->
            <div id="database-tab" class="tab-content active">
                <div class="text-center mb-8">
                    <h1 class="text-4xl font-bold mb-4 gradient-text">Player Database</h1>
                    <p class="text-xl text-slate-300">Search 5000 players analyzed with 779 metrics and 60 tactical philosophies</p>
                </div>

                <!-- Stats Dashboard -->
                <div class="grid grid-cols-2 md:grid-cols-5 gap-4 mb-8">
                    <div class="stat-card">
                        <div id="stat-total" class="stat-value">521</div>
                        <div class="stat-label">Total Players</div>
                    </div>
                    <div class="stat-card">
                        <div id="stat-avg-fga" class="stat-value">0.0</div>
                        <div class="stat-label">Avg FGA</div>
                    </div>
                    <div class="stat-card">
                        <div id="stat-legends" class="stat-value">0</div>
                        <div class="stat-label">Legends (90+)</div>
                    </div>
                    <div class="stat-card">
                        <div id="stat-elite" class="stat-value">0</div>
                        <div class="stat-label">Elite (85+)</div>
                    </div>
                    <div class="stat-card">
                        <div id="stat-showing" class="stat-value">0</div>
                        <div class="stat-label">Showing</div>
                    </div>
                </div>

                <!-- Quick Filters -->
                <div class="bg-slate-900/50 border border-blue-500/20 rounded-xl p-6 mb-8">
                    <h3 class="text-lg font-bold mb-3 text-blue-300">Quick Filters</h3>
                    <div class="flex flex-wrap gap-2">
                        <span class="filter-pill" onclick="quickFilter('all')">All Players</span>
                        <span class="filter-pill" onclick="quickFilter('legends')">Legends (90+)</span>
                        <span class="filter-pill" onclick="quickFilter('elite')">Elite (85-90)</span>
                        <span class="filter-pill" onclick="quickFilter('prospects')">Prospects (U21)</span>
                        <span class="filter-pill" onclick="quickFilter('active')">Active Players Only</span>
                        <span class="filter-pill" onclick="quickFilter('strikers')">Strikers</span>
                        <span class="filter-pill" onclick="quickFilter('midfielders')">Midfielders</span>
                        <span class="filter-pill" onclick="quickFilter('defenders')">Defenders</span>
                        <span class="filter-pill" onclick="quickFilter('goalkeepers')">Goalkeepers</span>
                    </div>
                </div>

                <!-- Search -->
                <div class="mb-6">
                    <input type="text" 
                           id="search-name" 
                           placeholder="Search player by name..." 
                           class="search-input"
                           oninput="filterAndRender()">
                </div>

                <!-- Player Table -->
                <div class="bg-slate-900/50 border border-blue-500/20 rounded-xl overflow-hidden mb-6">
                    <div class="overflow-x-auto">
                        <table class="database-table">
                            <thead>
                                <tr>
                                    <th onclick="sortTable('name')">Player Name ‚áÖ</th>
                                    <th onclick="sortTable('position')">Position ‚áÖ</th>
                                    <th onclick="sortTable('age')">Age ‚áÖ</th>
                                    <th onclick="sortTable('nationality')">Nationality ‚áÖ</th>
                                    <th onclick="sortTable('fga')">FGA Rating ‚áÖ</th>
                                    <th onclick="sortTable('bestPhilosophy')">Top Philosophy ‚áÖ</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="database-table-body">
                                <!-- Populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Pagination -->
                <div id="pagination-container" class="flex justify-center items-center gap-2 flex-wrap">
                    <!-- Pagination populated by JavaScript -->
                </div>
            </div>

            <!-- COMPARISON TAB -->
            <div id="comparison-tab" class="tab-content">
                <div class="text-center mb-8">
                    <h1 class="text-4xl font-bold mb-4 gradient-text">Player Comparison Tool</h1>
                    <p class="text-xl text-slate-300">Compare players across FGA ratings, positions, age profiles, and tactical philosophies</p>
                </div>

                <div class="grid md:grid-cols-2 gap-8 mb-8">
                    <div class="bg-slate-900/50 border border-blue-500/20 rounded-xl p-6">
                        <h3 class="text-lg font-bold mb-4 text-blue-300">Search & Select Players</h3>
                        <input type="text" 
                               id="comparison-search" 
                               placeholder="Search players to compare..." 
                               class="search-input mb-4"
                               oninput="searchForComparison(this.value)">
                        <div id="comparison-search-results" class="space-y-2 max-h-96 overflow-y-auto">
                            <p class="text-slate-400 text-sm">Start typing to search players...</p>
                        </div>
                    </div>

                    <div class="bg-slate-900/50 border border-blue-500/20 rounded-xl p-6">
                        <h3 class="text-lg font-bold mb-4 text-blue-300">Selected Players (<span id="selected-count">0</span>/4)</h3>
                        <div id="selected-players" class="space-y-2 mb-4">
                            <p class="text-slate-400 text-sm">Select players from the search results to compare</p>
                        </div>
                        <button onclick="generateComparison()" 
                                class="w-full bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded-lg font-semibold transition">
                            Generate Comparison
                        </button>
                    </div>
                </div>

                <div id="comparison-results" class="hidden">
                    <!-- Comparison results will appear here -->
                </div>
            </div>

           <!-- MARKET INTELLIGENCE TAB -->
            <div id="market-tab" class="tab-content">
                <!-- HERO SECTION -->
                <div class="text-center mb-8">
                    <h1 class="text-5xl font-bold mb-4 gradient-text">üíé Market Intelligence Dashboard</h1>
                    <p class="text-2xl text-slate-300 mb-2">The ONLY platform that tells you WHO IS SIGNABLE</p>
                    <p class="text-sm text-slate-400">Performance Data + Financial Intelligence + Deal Feasibility = Smart Scouting</p>
                </div>

                <!-- QUICK STATS OVERVIEW -->
                <div class="grid grid-cols-2 md:grid-cols-5 gap-4 mb-8">
                    <div class="stat-card">
                        <div class="text-3xl mb-2">üéØ</div>
                        <div class="stat-value">9</div>
                        <div class="stat-label">Data Sources</div>
                    </div>
                    <div class="stat-card">
                        <div class="text-3xl mb-2">üí∞</div>
                        <div class="stat-value">‚Ç¨3.5B</div>
                        <div class="stat-label">Annual Transfer Volume</div>
                    </div>
                    <div class="stat-card">
                        <div class="text-3xl mb-2">üìä</div>
                        <div class="stat-value">120+</div>
                        <div class="stat-label">Leagues Covered</div>
                    </div>
                    <div class="stat-card">
                        <div class="text-3xl mb-2">üî•</div>
                        <div class="stat-value">76%</div>
                        <div class="stat-label">Prediction Accuracy</div>
                    </div>
                    <div class="stat-card">
                        <div class="text-3xl mb-2">‚ö°</div>
                        <div class="stat-value">5</div>
                        <div class="stat-label">Smart Features</div>
                    </div>
                </div>

                <!-- NAVIGATION TABS -->
                <div class="flex gap-2 mb-6 overflow-x-auto pb-2">
                    <button onclick="showMarketSection('data-sources', this)" class="market-sub-tab active bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg font-semibold whitespace-nowrap transition">
                        üìä Data Sources
                    </button>
                    <button onclick="showMarketSection('feasibility', this)" class="market-sub-tab bg-slate-800 hover:bg-slate-700 px-4 py-2 rounded-lg font-semibold whitespace-nowrap transition">
                        üéØ Feasibility Filter
                    </button>
                    <button onclick="showMarketSection('work-permit', this)" class="market-sub-tab bg-slate-800 hover:bg-slate-700 px-4 py-2 rounded-lg font-semibold whitespace-nowrap transition">
                        üõÇ Work Permit (GBE)
                    </button>
                    <button onclick="showMarketSection('league-conversion', this)" class="market-sub-tab bg-slate-800 hover:bg-slate-700 px-4 py-2 rounded-lg font-semibold whitespace-nowrap transition">
                        üåç League Conversion
                    </button>
                    <button onclick="showMarketSection('agent-network', this)" class="market-sub-tab bg-slate-800 hover:bg-slate-700 px-4 py-2 rounded-lg font-semibold whitespace-nowrap transition">
                        ü§ù Agent Network
                    </button>
                    <button onclick="showMarketSection('replacement', this)" class="market-sub-tab bg-slate-800 hover:bg-slate-700 px-4 py-2 rounded-lg font-semibold whitespace-nowrap transition">
                        üîÑ Replacement Engine
                    </button>
                </div>

                <!-- SECTION 1: DATA SOURCES -->
                <div id="market-data-sources" class="market-section">
                    <div class="bg-gradient-to-r from-blue-900/30 to-slate-900/30 border border-blue-500/30 rounded-xl p-6 mb-6">
                        <h2 class="text-2xl font-bold mb-4 text-blue-300">üìä Our 9 Data Sources - The Foundation</h2>
                        <p class="text-slate-300 mb-6">We integrate data from the world's leading providers to give you the complete picture</p>
                        
                        <!-- PERFORMANCE DATA -->
                        <div class="mb-8">
                            <h3 class="text-xl font-bold mb-4 text-cyan-400">‚öΩ Performance & Event Data</h3>
                            <div class="grid md:grid-cols-2 gap-4">
                                <!-- StatsBomb -->
                                <div class="bg-slate-800/50 rounded-lg p-5 border border-blue-500/20 hover:border-blue-500/40 transition">
                                    <div class="flex items-start justify-between mb-3">
                                        <div>
                                            <h4 class="text-lg font-bold text-white">StatsBomb (Hudl)</h4>
                                            <p class="text-xs text-blue-400">Gold Standard - Most Granular Data</p>
                                        </div>
                                        <span class="bg-green-500/20 text-green-400 px-2 py-1 rounded text-xs font-bold">ACTIVE</span>
                                    </div>
                                    <ul class="text-sm space-y-2 text-slate-300 mb-4">
                                        <li class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> 3,400+ events per match</li>
                                        <li class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> 360¬∞ player tracking included</li>
                                        <li class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> 170+ competitions</li>
                                        <li class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> Pressure data, freeze frames</li>
                                    </ul>
                                    <div class="flex items-center justify-between">
                                        <span class="text-xs text-slate-400">Coverage: 40+ leagues</span>
                                        <span class="text-xs font-bold text-yellow-400">‚Ç¨50K-100K/yr</span>
                                    </div>
                                </div>

                                <!-- Wyscout -->
                                <div class="bg-slate-800/50 rounded-lg p-5 border border-blue-500/20 hover:border-blue-500/40 transition">
                                    <div class="flex items-start justify-between mb-3">
                                        <div>
                                            <h4 class="text-lg font-bold text-white">Wyscout (Hudl)</h4>
                                            <p class="text-xs text-blue-400">Video + Data Linkage</p>
                                        </div>
                                        <span class="bg-green-500/20 text-green-400 px-2 py-1 rounded text-xs font-bold">ACTIVE</span>
                                    </div>
                                    <ul class="text-sm space-y-2 text-slate-300 mb-4">
                                        <li class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> 2,000 games/week</li>
                                        <li class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> Video clips linked to data</li>
                                        <li class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> 300+ competitions</li>
                                        <li class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> Youth tournament coverage</li>
                                    </ul>
                                    <div class="flex items-center justify-between">
                                        <span class="text-xs text-slate-400">Unique: Video integration</span>
                                        <span class="text-xs font-bold text-yellow-400">‚Ç¨30K-60K/yr</span>
                                    </div>
                                </div>

                                <!-- Opta -->
                                <div class="bg-slate-800/50 rounded-lg p-5 border border-slate-700/20 hover:border-slate-500/40 transition">
                                    <div class="flex items-start justify-between mb-3">
                                        <div>
                                            <h4 class="text-lg font-bold text-white">Opta (Stats Perform)</h4>
                                            <p class="text-xs text-slate-400">Broadest Global Coverage</p>
                                        </div>
                                        <span class="bg-slate-600 text-slate-300 px-2 py-1 rounded text-xs font-bold">OPTIONAL</span>
                                    </div>
                                    <ul class="text-sm space-y-2 text-slate-300 mb-4">
                                        <li class="flex items-center gap-2"><i class="fas fa-info-circle text-slate-400"></i> 80+ competitions</li>
                                        <li class="flex items-center gap-2"><i class="fas fa-info-circle text-slate-400"></i> Historical data (2000s+)</li>
                                        <li class="flex items-center gap-2"><i class="fas fa-info-circle text-slate-400"></i> Opta Vision tracking</li>
                                        <li class="flex items-center gap-2"><i class="fas fa-info-circle text-slate-400"></i> ProVision platform</li>
                                    </ul>
                                    <div class="flex items-center justify-between">
                                        <span class="text-xs text-slate-400">Most expensive option</span>
                                        <span class="text-xs font-bold text-red-400">‚Ç¨80K-150K/yr</span>
                                    </div>
                                </div>

                                <!-- Impect -->
                                <div class="bg-slate-800/50 rounded-lg p-5 border border-purple-500/20 hover:border-purple-500/40 transition">
                                    <div class="flex items-start justify-between mb-3">
                                        <div>
                                            <h4 class="text-lg font-bold text-white">Impect (Catapult)</h4>
                                            <p class="text-xs text-purple-400">Revolutionary Packing Data</p>
                                        </div>
                                        <span class="bg-purple-500/20 text-purple-400 px-2 py-1 rounded text-xs font-bold">PREMIUM</span>
                                    </div>
                                    <ul class="text-sm space-y-2 text-slate-300 mb-4">
                                        <li class="flex items-center gap-2"><i class="fas fa-star text-purple-400"></i> Packing¬Æ metric</li>
                                        <li class="flex items-center gap-2"><i class="fas fa-star text-purple-400"></i> 70+ competitions</li>
                                        <li class="flex items-center gap-2"><i class="fas fa-star text-purple-400"></i> 9+ Bundesliga clubs use it</li>
                                        <li class="flex items-center gap-2"><i class="fas fa-star text-purple-400"></i> Highest predictive power</li>
                                    </ul>
                                    <div class="flex items-center justify-between">
                                        <span class="text-xs text-slate-400">Used by Tuchel, Klopp</span>
                                        <span class="text-xs font-bold text-yellow-400">‚Ç¨20K-40K/yr</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- FINANCIAL DATA -->
                        <div class="mb-8">
                            <h3 class="text-xl font-bold mb-4 text-green-400">üí∞ Market & Financial Intelligence</h3>
                            <div class="grid md:grid-cols-3 gap-4">
                                <!-- Transfermarkt -->
                                <div class="bg-slate-800/50 rounded-lg p-5 border border-green-500/20 hover:border-green-500/40 transition">
                                    <div class="flex items-start justify-between mb-3">
                                        <div>
                                            <h4 class="text-lg font-bold text-white">Transfermarkt</h4>
                                            <p class="text-xs text-green-400">Market Values & Contracts</p>
                                        </div>
                                        <span class="bg-green-500/20 text-green-400 px-2 py-1 rounded text-xs font-bold">FREE</span>
                                    </div>
                                    <ul class="text-sm space-y-2 text-slate-300 mb-4">
                                        <li class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> Market values</li>
                                        <li class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> Contract expiry dates</li>
                                        <li class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> Agent information</li>
                                        <li class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> Injury records</li>
                                    </ul>
                                    <div class="text-xs text-slate-400">Via web scraping (worldfootballR)</div>
                                </div>

                                <!-- Capology -->
                                <div class="bg-slate-800/50 rounded-lg p-5 border border-green-500/20 hover:border-green-500/40 transition">
                                    <div class="flex items-start justify-between mb-3">
                                        <div>
                                            <h4 class="text-lg font-bold text-white">Capology</h4>
                                            <p class="text-xs text-green-400">Salary & Payroll Data</p>
                                        </div>
                                        <span class="bg-green-500/20 text-green-400 px-2 py-1 rounded text-xs font-bold">ACTIVE</span>
                                    </div>
                                    <ul class="text-sm space-y-2 text-slate-300 mb-4">
                                        <li class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> Player salaries (gross/net)</li>
                                        <li class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> Club wage bills</li>
                                        <li class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> 15+ European leagues</li>
                                        <li class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> Tax-adjusted estimates</li>
                                    </ul>
                                    <div class="flex items-center justify-between">
                                        <span class="text-xs text-slate-400">Best salary source</span>
                                        <span class="text-xs font-bold text-yellow-400">‚Ç¨5K-15K/yr</span>
                                    </div>
                                </div>

                                <!-- Off The Pitch -->
                                <div class="bg-slate-800/50 rounded-lg p-5 border border-green-500/20 hover:border-green-500/40 transition">
                                    <div class="flex items-start justify-between mb-3">
                                        <div>
                                            <h4 class="text-lg font-bold text-white">Off The Pitch</h4>
                                            <p class="text-xs text-green-400">Club Financial Health</p>
                                        </div>
                                        <span class="bg-green-500/20 text-green-400 px-2 py-1 rounded text-xs font-bold">ACTIVE</span>
                                    </div>
                                    <ul class="text-sm space-y-2 text-slate-300 mb-4">
                                        <li class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> P&L statements</li>
                                        <li class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> Debt levels</li>
                                        <li class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> 25 European leagues</li>
                                        <li class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> Motivated sellers ID</li>
                                    </ul>
                                    <div class="flex items-center justify-between">
                                        <span class="text-xs text-slate-400">Predict who MUST sell</span>
                                        <span class="text-xs font-bold text-yellow-400">‚Ç¨10K-25K/yr</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- PHYSICAL DATA -->
                        <div>
                            <h3 class="text-xl font-bold mb-4 text-cyan-400">üèÉ Physical & Tracking Data</h3>
                            <div class="bg-slate-800/50 rounded-lg p-5 border border-cyan-500/20 hover:border-cyan-500/40 transition max-w-2xl">
                                <div class="flex items-start justify-between mb-3">
                                    <div>
                                        <h4 class="text-lg font-bold text-white">SkillCorner</h4>
                                        <p class="text-xs text-cyan-400">AI Broadcast Tracking (No GPS Needed!)</p>
                                    </div>
                                    <span class="bg-cyan-500/20 text-cyan-400 px-2 py-1 rounded text-xs font-bold">ACTIVE</span>
                                </div>
                                <ul class="text-sm space-y-2 text-slate-300 mb-4">
                                    <li class="flex items-center gap-2"><i class="fas fa-check text-cyan-400"></i> Full 90-min tracking (all 22 players)</li>
                                    <li class="flex items-center gap-2"><i class="fas fa-check text-cyan-400"></i> Off-camera extrapolation (AI-powered)</li>
                                    <li class="flex items-center gap-2"><i class="fas fa-check text-cyan-400"></i> Speed, distance, work rate metrics</li>
                                    <li class="flex items-center gap-2"><i class="fas fa-check text-cyan-400"></i> 120+ competitions worldwide</li>
                                    <li class="flex items-center gap-2"><i class="fas fa-star text-yellow-400"></i> Scout players in ANY league with TV coverage</li>
                                </ul>
                                <div class="flex items-center justify-between">
                                    <span class="text-xs text-slate-400">230+ clubs use it</span>
                                    <span class="text-xs font-bold text-yellow-400">‚Ç¨15K-30K/yr</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- TOTAL INVESTMENT -->
                    <div class="bg-gradient-to-r from-yellow-900/30 to-slate-900/30 border border-yellow-500/30 rounded-xl p-6">
                        <h3 class="text-xl font-bold mb-4 text-yellow-400">üí∞ Total Annual Investment</h3>
                        <div class="grid md:grid-cols-3 gap-6">
                            <div class="bg-slate-800/50 rounded-lg p-6 text-center border border-green-500/20">
                                <div class="text-sm text-slate-400 mb-2">MINIMUM SETUP</div>
                                <div class="text-3xl font-bold text-green-400 mb-2">‚Ç¨310K</div>
                                <div class="text-xs text-slate-400">StatsBomb + Wyscout + Financial sources</div>
                            </div>
                            <div class="bg-slate-800/50 rounded-lg p-6 text-center border border-blue-500/20">
                                <div class="text-sm text-slate-400 mb-2">RECOMMENDED</div>
                                <div class="text-3xl font-bold text-blue-400 mb-2">‚Ç¨465K</div>
                                <div class="text-xs text-slate-400">+ Impect Packing + SkillCorner</div>
                            </div>
                            <div class="bg-slate-800/50 rounded-lg p-6 text-center border border-purple-500/20">
                                <div class="text-sm text-slate-400 mb-2">ENTERPRISE</div>
                                <div class="text-3xl font-bold text-purple-400 mb-2">‚Ç¨621K</div>
                                <div class="text-xs text-slate-400">+ Opta for maximum coverage</div>
                            </div>
                        </div>
                        <div class="mt-6 text-center">
                            <p class="text-sm text-slate-300">üí° <strong>ROI:</strong> Each prevented ‚Ç¨50M+ transfer disaster pays for the entire system</p>
                            <p class="text-xs text-slate-400 mt-2">Example: Avoiding an "Antony-type" mistake (‚Ç¨60M loss) = 10x ROI in Year 1</p>
                        </div>
                    </div>
                </div>

                <!-- SECTION 2: FEASIBILITY FILTER -->
                <div id="market-feasibility" class="market-section hidden">
                    <div class="bg-gradient-to-r from-green-900/30 to-slate-900/30 border border-green-500/30 rounded-xl p-6 mb-6">
                        <h2 class="text-2xl font-bold mb-4 text-green-300">üéØ Feasibility Filter - WHO IS SIGNABLE?</h2>
                        <p class="text-slate-300 mb-6">Most platforms show you good players. We show you good players YOU CAN ACTUALLY SIGN.</p>
                        
                        <!-- EXPLANATION -->
                        <div class="bg-slate-800/50 rounded-lg p-6 mb-6">
                            <h3 class="text-lg font-bold mb-4 text-white">How It Works: 3-Factor Deal Probability Score</h3>
                            <div class="grid md:grid-cols-3 gap-4">
                                <div class="bg-slate-900/50 rounded-lg p-4 border border-green-500/20">
                                    <div class="text-3xl mb-2">üìÖ</div>
                                    <h4 class="font-bold mb-2">1. Contract Context</h4>
                                    <p class="text-sm text-slate-300 mb-3">Time remaining on current contract</p>
                                    <ul class="text-xs space-y-1 text-slate-400">
                                        <li>‚Ä¢ <12 months = <span class="text-green-400 font-bold">HIGH</span> (40% weight)</li>
                                        <li>‚Ä¢ 1-2 years = <span class="text-yellow-400 font-bold">MEDIUM</span></li>
                                        <li>‚Ä¢ 3+ years = <span class="text-red-400 font-bold">LOW</span></li>
                                    </ul>
                                </div>
                                <div class="bg-slate-900/50 rounded-lg p-4 border border-green-500/20">
                                    <div class="text-3xl mb-2">üí∏</div>
                                    <h4 class="font-bold mb-2">2. Club Financial Health</h4>
                                    <p class="text-sm text-slate-300 mb-3">Selling club's financial status</p>
                                    <ul class="text-xs space-y-1 text-slate-400">
                                        <li>‚Ä¢ Negative cash flow = <span class="text-green-400 font-bold">MOTIVATED</span> (35% weight)</li>
                                        <li>‚Ä¢ Missing UCL = <span class="text-yellow-400 font-bold">NEED FUNDS</span></li>
                                        <li>‚Ä¢ Debt > Revenue = <span class="text-green-400 font-bold">DISCOUNT</span></li>
                                    </ul>
                                </div>
                                <div class="bg-slate-900/50 rounded-lg p-4 border border-green-500/20">
                                    <div class="text-3xl mb-2">üìä</div>
                                    <h4 class="font-bold mb-2">3. Hierarchy Status</h4>
                                    <p class="text-sm text-slate-300 mb-3">Player's role in current squad</p>
                                    <ul class="text-xs space-y-1 text-slate-400">
                                        <li>‚Ä¢ Bench (<25% mins) = <span class="text-green-400 font-bold">AVAILABLE</span> (25% weight)</li>
                                        <li>‚Ä¢ Rotation (25-75%) = <span class="text-yellow-400 font-bold">MEDIUM</span></li>
                                        <li>‚Ä¢ Starter (>75%) = <span class="text-red-400 font-bold">HARD</span></li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- INTERACTIVE CALCULATOR -->
                        <div class="bg-slate-800/50 rounded-lg p-6">
                            <h3 class="text-xl font-bold mb-4">Calculate Deal Probability</h3>
                            <div class="grid md:grid-cols-2 gap-6">
                                <div class="space-y-4">
                                    <div>
                                        <label class="block text-sm font-semibold mb-2">Select Player</label>
                                        <select id="feasibilityPlayer" class="w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2">
                                            <option value="">Choose player...</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-semibold mb-2">Contract Remaining (months)</label>
                                        <input type="number" id="feasibilityContract" class="w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2" placeholder="e.g., 18" min="0">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-semibold mb-2">Selling Club Financial Status</label>
                                        <select id="feasibilityFinance" class="w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2">
                                            <option value="distressed">Distressed (negative cash flow)</option>
                                            <option value="pressured">Pressured (no UCL)</option>
                                            <option value="stable" selected>Stable</option>
                                            <option value="strong">Strong (UCL club)</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-semibold mb-2">Minutes Played (% of season)</label>
                                        <input type="number" id="feasibilityMinutes" class="w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2" placeholder="e.g., 65" min="0" max="100">
                                    </div>
                                    <button onclick="calculateFeasibility()" class="w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 px-6 py-3 rounded-lg font-bold transition">
                                        Calculate Deal Probability
                                    </button>
                                </div>
                                <div id="feasibilityResults" class="hidden">
                                    <div class="bg-slate-900/50 rounded-lg p-6 border-2" id="feasibilityCard">
                                        <div class="text-center mb-6">
                                            <div class="text-sm text-slate-400 mb-2">DEAL PROBABILITY</div>
                                            <div id="feasibilityScore" class="text-6xl font-bold mb-2">0%</div>
                                            <div id="feasibilityLabel" class="text-lg font-semibold"></div>
                                        </div>
                                        <div class="space-y-3">
                                            <div class="flex items-center justify-between text-sm">
                                                <span class="text-slate-400">Contract Factor:</span>
                                                <span id="contractFactor" class="font-bold"></span>
                                            </div>
                                            <div class="flex items-center justify-between text-sm">
                                                <span class="text-slate-400">Financial Factor:</span>
                                                <span id="financialFactor" class="font-bold"></span>
                                            </div>
                                            <div class="flex items-center justify-between text-sm">
                                                <span class="text-slate-400">Hierarchy Factor:</span>
                                                <span id="hierarchyFactor" class="font-bold"></span>
                                            </div>
                                        </div>
                                        <div class="mt-6 p-4 bg-slate-800/50 rounded-lg">
                                            <div class="text-sm font-semibold mb-2">Recommendation:</div>
                                            <p id="feasibilityRecommendation" class="text-sm text-slate-300"></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- EXAMPLES -->
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="bg-green-900/20 border border-green-500/30 rounded-lg p-5">
                            <div class="flex items-center gap-3 mb-3">
                                <div class="text-3xl">‚úÖ</div>
                                <div>
                                    <h4 class="font-bold text-green-400">HIGH Probability Example</h4>
                                    <p class="text-xs text-slate-400">Score: 78% - STRONG TARGET</p>
                                </div>
                            </div>
                            <div class="space-y-2 text-sm">
                                <div class="flex justify-between"><span class="text-slate-400">Contract:</span><span class="text-green-400 font-bold">8 months left</span></div>
                                <div class="flex justify-between"><span class="text-slate-400">Club:</span><span class="text-green-400 font-bold">Relegated, ‚Ç¨50M debt</span></div>
                                <div class="flex justify-between"><span class="text-slate-400">Role:</span><span class="text-green-400 font-bold">Bench player (15% mins)</span></div>
                                <div class="mt-3 p-3 bg-green-500/20 rounded text-xs">
                                    <strong>Action:</strong> Immediate approach recommended. Club is motivated seller.
                                </div>
                            </div>
                        </div>
                        <div class="bg-red-900/20 border border-red-500/30 rounded-lg p-5">
                            <div class="flex items-center gap-3 mb-3">
                                <div class="text-3xl">‚ùå</div>
                                <div>
                                    <h4 class="font-bold text-red-400">LOW Probability Example</h4>
                                    <p class="text-xs text-slate-400">Score: 12% - AVOID</p>
                                </div>
                            </div>
                            <div class="space-y-2 text-sm">
                                <div class="flex justify-between"><span class="text-slate-400">Contract:</span><span class="text-red-400 font-bold">4 years left</span></div>
                                <div class="flex justify-between"><span class="text-slate-400">Club:</span><span class="text-red-400 font-bold">UCL qualified, ‚Ç¨200M revenue</span></div>
                                <div class="flex justify-between"><span class="text-slate-400">Role:</span><span class="text-red-400 font-bold">Key starter (92% mins)</span></div>
                                <div class="mt-3 p-3 bg-red-500/20 rounded text-xs">
                                    <strong>Action:</strong> Club has no reason to sell. Extremely difficult and expensive.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- SECTION 3: WORK PERMIT CALCULATOR -->
                <div id="market-work-permit" class="market-section hidden">
                    <div class="bg-gradient-to-r from-blue-900/30 to-slate-900/30 border border-blue-500/30 rounded-xl p-6">
                        <h2 class="text-2xl font-bold mb-4 text-blue-300">üõÇ GBE Calculator - Post-Brexit Work Permits</h2>
                        <p class="text-slate-300 mb-6">Automated work permit checks for UK Premier League signings (15+ points = GRANTED)</p>
                        
                        <!-- UK SYSTEM EXPLANATION -->
                        <div class="bg-slate-800/50 rounded-lg p-6 mb-6">
                            <h3 class="text-lg font-bold mb-4">How the UK Points System Works</h3>
                            <div class="grid md:grid-cols-2 gap-6">
                                <div>
                                    <h4 class="font-semibold mb-3 text-cyan-400">International Appearances</h4>
                                    <div class="space-y-2 text-sm">
                                        <div class="bg-slate-900/50 rounded p-3">
                                            <div class="flex justify-between mb-1">
                                                <span>75%+ caps (Top 50 FIFA)</span>
                                                <span class="font-bold text-green-400">15 pts</span>
                                            </div>
                                            <div class="text-xs text-slate-400">Automatic approval</div>
                                        </div>
                                        <div class="bg-slate-900/50 rounded p-3">
                                            <div class="flex justify-between mb-1">
                                                <span>50-74% caps</span>
                                                <span class="font-bold text-yellow-400">10 pts</span>
                                            </div>
                                            <div class="text-xs text-slate-400">Strong candidate</div>
                                        </div>
                                        <div class="bg-slate-900/50 rounded p-3">
                                            <div class="flex justify-between mb-1">
                                                <span>30-49% caps</span>
                                                <span class="font-bold text-orange-400">5 pts</span>
                                            </div>
                                            <div class="text-xs text-slate-400">Needs club minutes</div>
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <h4 class="font-semibold mb-3 text-cyan-400">Club Competition Points</h4>
                                    <div class="space-y-2 text-sm">
                                        <div class="bg-slate-900/50 rounded p-3">
                                            <div class="flex justify-between mb-1">
                                                <span>Champions League</span>
                                                <span class="font-bold text-purple-400">+4 pts/match</span>
                                            </div>
                                            <div class="text-xs text-slate-400">Per match played</div>
                                        </div>
                                        <div class="bg-slate-900/50 rounded p-3">
                                            <div class="flex justify-between mb-1">
                                                <span>Europa/Conference</span>
                                                <span class="font-bold text-blue-400">+2 pts/match</span>
                                            </div>
                                            <div class="text-xs text-slate-400">Per match played</div>
                                        </div>
                                        <div class="bg-slate-900/50 rounded p-3">
                                            <div class="flex justify-between mb-1">
                                                <span>Top Domestic League</span>
                                                <span class="font-bold text-green-400">0-6 pts</span>
                                            </div>
                                            <div class="text-xs text-slate-400">Based on league tier</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-4 p-4 bg-green-500/20 rounded-lg border border-green-500/30">
                                <div class="font-bold text-green-400 mb-2">‚úÖ Approval Threshold: 15+ Points</div>
                                <p class="text-sm text-slate-300">Players with 15 or more points automatically qualify for a GBE (Governing Body Endorsement)</p>
                            </div>
                        </div>

                        <!-- INTERACTIVE CALCULATOR -->
                        <div class="bg-slate-800/50 rounded-lg p-6">
                            <h3 class="text-xl font-bold mb-4">Calculate GBE Points</h3>
                            <div class="grid md:grid-cols-2 gap-6">
                                <div class="space-y-4">
                                    <div>
                                        <label class="block text-sm font-semibold mb-2">Player Name</label>
                                        <input type="text" id="gbePlayerName" class="w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2" placeholder="Enter player name">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-semibold mb-2">National Team (FIFA Ranking)</label>
                                        <select id="gbeFifaRank" class="w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2">
                                            <option value="50">Top 50 (e.g., Brazil, Spain, Germany)</option>
                                            <option value="70">51-70 (e.g., Serbia, Ukraine)</option>
                                            <option value="100">71-100</option>
                                            <option value="150">100+</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-semibold mb-2">International Caps (% in last 2 years)</label>
                                        <input type="number" id="gbeIntCaps" class="w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2" placeholder="e.g., 75" min="0" max="100">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-semibold mb-2">Champions League Matches Played</label>
                                        <input type="number" id="gbeUclMatches" class="w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2" placeholder="e.g., 6" min="0">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-semibold mb-2">Europa/Conference Matches</label>
                                        <input type="number" id="gbeEuropaMatches" class="w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2" placeholder="e.g., 10" min="0">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-semibold mb-2">Current League Quality</label>
                                        <select id="gbeLeagueQuality" class="w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2">
                                            <option value="6">Tier 1: PL, La Liga, Serie A, Bundesliga, Ligue 1</option>
                                            <option value="4">Tier 2: Eredivisie, Liga NOS, Pro League</option>
                                            <option value="2">Tier 3: Championship, Liga MX</option>
                                            <option value="0">Tier 4: Other leagues</option>
                                        </select>
                                    </div>
                                    <button onclick="calculateGBE()" class="w-full bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 px-6 py-3 rounded-lg font-bold transition">
                                        Calculate GBE Points
                                    </button>
                                </div>
                                <div id="gbeResults" class="hidden">
                                    <div class="bg-slate-900/50 rounded-lg p-6 border-2" id="gbeCard">
                                        <div class="text-center mb-6">
                                            <div id="gbeIcon" class="text-6xl mb-4"></div>
                                            <div class="text-sm text-slate-400 mb-2">TOTAL GBE POINTS</div>
                                            <div id="gbeScore" class="text-6xl font-bold mb-2">0</div>
                                            <div id="gbeStatus" class="text-lg font-semibold"></div>
                                        </div>
                                        <div class="space-y-3 mb-6">
                                            <div class="flex items-center justify-between text-sm">
                                                <span class="text-slate-400">International:</span>
                                                <span id="gbeIntPoints" class="font-bold"></span>
                                            </div>
                                            <div class="flex items-center justify-between text-sm">
                                                <span class="text-slate-400">Champions League:</span>
                                                <span id="gbeUclPoints" class="font-bold"></span>
                                            </div>
                                            <div class="flex items-center justify-between text-sm">
                                                <span class="text-slate-400">Europa/Conference:</span>
                                                <span id="gbeEuropaPoints" class="font-bold"></span>
                                            </div>
                                            <div class="flex items-center justify-between text-sm">
                                                <span class="text-slate-400">League Quality:</span>
                                                <span id="gbeLeaguePoints" class="font-bold"></span>
                                            </div>
                                        </div>
                                        <div class="p-4 bg-slate-800/50 rounded-lg">
                                            <div class="text-sm font-semibold mb-2">Recommendation:</div>
                                            <p id="gbeRecommendation" class="text-sm text-slate-300"></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- SECTION 4: LEAGUE CONVERSION -->
                <div id="market-league-conversion" class="market-section hidden">
                    <div class="bg-gradient-to-r from-purple-900/30 to-slate-900/30 border border-purple-500/30 rounded-xl p-6">
                        <h2 class="text-2xl font-bold mb-4 text-purple-300">üåç League Conversion Translator</h2>
                        <p class="text-slate-300 mb-6">20 goals in Austrian Bundesliga ‚â† 20 goals in Premier League. Adjust expectations by league difficulty.</p>
                        
                        <!-- CONVERSION TABLE -->
                        <div class="bg-slate-800/50 rounded-lg p-6 mb-6">
                            <h3 class="text-lg font-bold mb-4">League Difficulty Coefficients</h3>
                            <div class="overflow-x-auto">
                                <table class="w-full text-sm">
                                    <thead class="bg-slate-900">
                                        <tr>
                                            <th class="px-4 py-3 text-left">League</th>
                                            <th class="px-4 py-3 text-center">Coefficient</th>
                                            <th class="px-4 py-3 text-center">Example Conversion</th>
                                        </tr>
                                    </thead>
                                    <tbody class="divide-y divide-slate-700">
                                        <tr class="hover:bg-slate-700/30">
                                            <td class="px-4 py-3 font-semibold text-blue-400">üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø Premier League</td>
                                            <td class="px-4 py-3 text-center font-bold">1.00</td>
                                            <td class="px-4 py-3 text-center text-slate-400">Baseline</td>
                                        </tr>
                                        <tr class="hover:bg-slate-700/30">
                                            <td class="px-4 py-3">üá™üá∏ La Liga</td>
                                            <td class="px-4 py-3 text-center font-bold">0.95</td>
                                            <td class="px-4 py-3 text-center">20 goals ‚Üí <span class="text-green-400 font-bold">21 PL goals</span></td>
                                        </tr>
                                        <tr class="hover:bg-slate-700/30">
                                            <td class="px-4 py-3">üá©üá™ Bundesliga</td>
                                            <td class="px-4 py-3 text-center font-bold">0.92</td>
                                            <td class="px-4 py-3 text-center">20 goals ‚Üí <span class="text-green-400 font-bold">18 PL goals</span></td>
                                        </tr>
                                        <tr class="hover:bg-slate-700/30">
                                            <td class="px-4 py-3">üáÆüáπ Serie A</td>
                                            <td class="px-4 py-3 text-center font-bold">0.90</td>
                                            <td class="px-4 py-3 text-center">20 goals ‚Üí <span class="text-green-400 font-bold">18 PL goals</span></td>
                                        </tr>
                                        <tr class="hover:bg-slate-700/30">
                                            <td class="px-4 py-3">üá´üá∑ Ligue 1</td>
                                            <td class="px-4 py-3 text-center font-bold">0.87</td>
                                            <td class="px-4 py-3 text-center">20 goals ‚Üí <span class="text-yellow-400 font-bold">17 PL goals</span></td>
                                        </tr>
                                        <tr class="hover:bg-slate-700/30">
                                            <td class="px-4 py-3">üá≥üá± Eredivisie</td>
                                            <td class="px-4 py-3 text-center font-bold">0.78</td>
                                            <td class="px-4 py-3 text-center">20 goals ‚Üí <span class="text-yellow-400 font-bold">16 PL goals</span></td>
                                        </tr>
                                        <tr class="hover:bg-slate-700/30">
                                            <td class="px-4 py-3">üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø Championship</td>
                                            <td class="px-4 py-3 text-center font-bold">0.75</td>
                                            <td class="px-4 py-3 text-center">20 goals ‚Üí <span class="text-yellow-400 font-bold">15 PL goals</span></td>
                                        </tr>
                                        <tr class="hover:bg-slate-700/30">
                                            <td class="px-4 py-3">üá¶üáπ Austrian Bundesliga</td>
                                            <td class="px-4 py-3 text-center font-bold">0.65</td>
                                            <td class="px-4 py-3 text-center">20 goals ‚Üí <span class="text-red-400 font-bold">13 PL goals</span></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- CALCULATOR -->
                        <div class="bg-slate-800/50 rounded-lg p-6">
                            <h3 class="text-xl font-bold mb-4">Calculate Premier League Equivalent</h3>
                            <div class="grid md:grid-cols-2 gap-6">
                                <div class="space-y-4">
                                    <div>
                                        <label class="block text-sm font-semibold mb-2">Current League</label>
                                        <select id="conversionCurrentLeague" class="w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2">
                                            <option value="1.00">Premier League</option>
                                            <option value="0.95">La Liga</option>
                                            <option value="0.92">Bundesliga</option>
                                            <option value="0.90">Serie A</option>
                                            <option value="0.87">Ligue 1</option>
                                            <option value="0.78">Eredivisie</option>
                                            <option value="0.75">Championship</option>
                                            <option value="0.65">Austrian Bundesliga</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-semibold mb-2">Stat Type</label>
                                        <select id="conversionStatType" class="w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2">
                                            <option value="goals">Goals</option>
                                            <option value="assists">Assists</option>
                                            <option value="g+a">Goals + Assists</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-semibold mb-2">Current Season Performance</label>
                                        <input type="number" id="conversionValue" class="w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2" placeholder="e.g., 20" min="0">
                                    </div>
                                    <button onclick="calculateConversion()" class="w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-6 py-3 rounded-lg font-bold transition">
                                        Calculate PL Equivalent
                                    </button>
                                </div>
                                <div id="conversionResults" class="hidden">
                                    <div class="bg-slate-900/50 rounded-lg p-6 border-2 border-purple-500">
                                        <div class="text-center mb-6">
                                            <div class="text-sm text-slate-400 mb-2">PREMIER LEAGUE EQUIVALENT</div>
                                            <div id="conversionEquivalent" class="text-6xl font-bold text-purple-400 mb-2">0</div>
                                            <div id="conversionStatLabel" class="text-lg text-slate-300"></div>
                                        </div>
                                        <div class="space-y-4">
                                            <div class="bg-slate-800/50 rounded-lg p-4">
                                                <div class="flex justify-between items-center mb-2">
                                                    <span class="text-sm text-slate-400">Current League:</span>
                                                    <span id="conversionCurrentLeagueLabel" class="font-bold"></span>
                                                </div>
                                                <div class="flex justify-between items-center">
                                                    <span class="text-sm text-slate-400">Current Stats:</span>
                                                    <span id="conversionCurrentValue" class="font-bold text-white"></span>
                                                </div>
                                            </div>
                                            <div class="p-4 bg-purple-500/20 rounded-lg border border-purple-500/30">
                                                <div class="text-sm font-semibold mb-2 text-purple-300">Reality Check:</div>
                                                <p id="conversionExplanation" class="text-sm text-slate-300"></p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- SECTION 5: AGENT NETWORK -->
                <div id="market-agent-network" class="market-section hidden">
                    <div class="bg-gradient-to-r from-orange-900/30 to-slate-900/30 border border-orange-500/30 rounded-xl p-6">
                        <h2 class="text-2xl font-bold mb-4 text-orange-300">ü§ù Agent Network Mapping</h2>
                        <p class="text-slate-300 mb-6">If you want Player X, which agent represents him? Who else do they represent? Package deals and relationship leverage.</p>
                        
                        <!-- VISUAL GRAPH REPRESENTATION -->
                        <div class="bg-slate-800/50 rounded-lg p-6 mb-6">
                            <h3 class="text-lg font-bold mb-4">How Agent Networks Work</h3>
                            <div class="grid md:grid-cols-3 gap-6">
                                <div class="bg-slate-900/50 rounded-lg p-5 border border-orange-500/20">
                                    <div class="text-3xl mb-3 text-center">üë§</div>
                                    <h4 class="font-bold text-center mb-3">Target Player</h4>
                                    <p class="text-sm text-slate-300 text-center mb-4">The player you want to sign</p>
                                    <div class="bg-blue-500/20 rounded p-3 text-center">
                                        <div class="font-bold text-blue-400">Example:</div>
                                        <div class="text-sm">Player A (CB, age 23)</div>
                                    </div>
                                </div>
                                <div class="bg-slate-900/50 rounded-lg p-5 border border-orange-500/20">
                                    <div class="text-3xl mb-3 text-center">ü§µ</div>
                                    <h4 class="font-bold text-center mb-3">Agent/Agency</h4>
                                    <p class="text-sm text-slate-300 text-center mb-4">Who represents them</p>
                                    <div class="bg-orange-500/20 rounded p-3 text-center">
                                        <div class="font-bold text-orange-400">Example:</div>
                                        <div class="text-sm">Jorge Mendes (GestiFute)</div>
                                        <div class="text-xs text-slate-400 mt-1">Represents 50+ players</div>
                                    </div>
                                </div>
                                <div class="bg-slate-900/50 rounded-lg p-5 border border-orange-500/20">
                                    <div class="text-3xl mb-3 text-center">üë•</div>
                                    <h4 class="font-bold text-center mb-3">Other Clients</h4>
                                    <p class="text-sm text-slate-300 text-center mb-4">Package deal opportunities</p>
                                    <div class="bg-green-500/20 rounded p-3 text-center">
                                        <div class="font-bold text-green-400">Example:</div>
                                        <div class="text-sm">Player B (ST), Player C (GK)</div>
                                        <div class="text-xs text-slate-400 mt-1">Also available</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- AGENT DATABASE -->
                        <div class="bg-slate-800/50 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Top Agents in Our Database</h3>
                            <div class="grid md:grid-cols-2 gap-4">
                                <div class="bg-slate-900/50 rounded-lg p-4 border border-orange-500/20">
                                    <div class="flex items-start justify-between mb-3">
                                        <div>
                                            <h4 class="font-bold">Jorge Mendes</h4>
                                            <p class="text-xs text-slate-400">GestiFute Agency</p>
                                        </div>
                                        <span class="bg-purple-500/20 text-purple-400 px-2 py-1 rounded text-xs">VIP</span>
                                    </div>
                                    <div class="text-sm text-slate-300 mb-3">
                                        <div class="flex justify-between"><span>Total Clients:</span><span class="font-bold">50+</span></div>
                                        <div class="flex justify-between"><span>Combined Value:</span><span class="font-bold">‚Ç¨2.5B+</span></div>
                                        <div class="flex justify-between"><span>Notable:</span><span class="text-xs">Ronaldo, F√©lix, Dias</span></div>
                                    </div>
                                    <button class="w-full bg-orange-600 hover:bg-orange-700 px-3 py-2 rounded text-sm font-semibold transition">
                                        View Full Network
                                    </button>
                                </div>

                                <div class="bg-slate-900/50 rounded-lg p-4 border border-orange-500/20">
                                    <div class="flex items-start justify-between mb-3">
                                        <div>
                                            <h4 class="font-bold">Mino Raiola Estate</h4>
                                            <p class="text-xs text-slate-400">Raiola Agency</p>
                                        </div>
                                        <span class="bg-blue-500/20 text-blue-400 px-2 py-1 rounded text-xs">TOP</span>
                                    </div>
                                    <div class="text-sm text-slate-300 mb-3">
                                        <div class="flex justify-between"><span>Total Clients:</span><span class="font-bold">40+</span></div>
                                        <div class="flex justify-between"><span>Combined Value:</span><span class="font-bold">‚Ç¨1.8B+</span></div>
                                        <div class="flex justify-between"><span>Notable:</span><span class="text-xs">Haaland, De Ligt</span></div>
                                    </div>
                                    <button class="w-full bg-orange-600 hover:bg-orange-700 px-3 py-2 rounded text-sm font-semibold transition">
                                        View Full Network
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- SEARCH FUNCTIONALITY -->
                        <div class="bg-slate-800/50 rounded-lg p-6">
                            <h3 class="text-xl font-bold mb-4">Search Agent Network</h3>
                            <div class="grid md:grid-cols-2 gap-6">
                                <div class="space-y-4">
                                    <div>
                                        <label class="block text-sm font-semibold mb-2">Search Query</label>
                                        <input type="text" id="agentSearch" class="w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2" placeholder="e.g., Show me all RBs in Ligue 1 represented by agencies we've worked with">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-semibold mb-2">Position Filter</label>
                                        <select id="agentPosition" class="w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2">
                                            <option value="">All Positions</option>
                                            <option value="GK">Goalkeeper</option>
                                            <option value="CB">Center Back</option>
                                            <option value="FB">Full Back</option>
                                            <option value="CM">Central Midfielder</option>
                                            <option value="WG">Winger</option>
                                            <option value="ST">Striker</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-semibold mb-2">League Filter</label>
                                        <select id="agentLeague" class="w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2">
                                            <option value="">All Leagues</option>
                                            <option value="Premier League">Premier League</option>
                                            <option value="La Liga">La Liga</option>
                                            <option value="Serie A">Serie A</option>
                                            <option value="Bundesliga">Bundesliga</option>
                                            <option value="Ligue 1">Ligue 1</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-semibold mb-2">Relationship Status</label>
                                        <select id="agentRelationship" class="w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2">
                                            <option value="all">All Agents</option>
                                            <option value="worked">Agencies We've Worked With</option>
                                            <option value="good">Good Relationship</option>
                                            <option value="new">New Contacts</option>
                                        </select>
                                    </div>
                                    <button onclick="searchAgentNetwork()" class="w-full bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 px-6 py-3 rounded-lg font-bold transition">
                                        Search Network
                                    </button>
                                </div>
                                <div id="agentResults" class="hidden">
                                    <div class="bg-slate-900/50 rounded-lg p-6 border border-orange-500/30">
                                        <h4 class="font-bold mb-4">Search Results</h4>
                                        <div id="agentResultsList" class="space-y-3">
                                            <!-- Results will appear here -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- SECTION 6: REPLACEMENT ENGINE -->
                <div id="market-replacement" class="market-section hidden">
                    <div class="bg-gradient-to-r from-cyan-900/30 to-slate-900/30 border border-cyan-500/30 rounded-xl p-6">
                        <h2 class="text-2xl font-bold mb-4 text-cyan-300">üîÑ Replacement Engine</h2>
                        <p class="text-slate-300 mb-6">Selling Player X for ‚Ç¨60M? Find 5 similar players at 25% of the cost. Smart squad building.</p>
                        
                        <!-- HOW IT WORKS -->
                        <div class="bg-slate-800/50 rounded-lg p-6 mb-6">
                            <h3 class="text-lg font-bold mb-4">How the Replacement Engine Works</h3>
                            <div class="grid md:grid-cols-4 gap-4">
                                <div class="bg-slate-900/50 rounded-lg p-4 text-center">
                                    <div class="text-3xl mb-2">üìä</div>
                                    <h4 class="font-semibold mb-2 text-sm">1. Analyze Player</h4>
                                    <p class="text-xs text-slate-400">Extract all 779 metrics + playing style</p>
                                </div>
                                <div class="bg-slate-900/50 rounded-lg p-4 text-center">
                                    <div class="text-3xl mb-2">üîç</div>
                                    <h4 class="font-semibold mb-2 text-sm">2. Search Database</h4>
                                    <p class="text-xs text-slate-400">Cosine similarity across all players</p>
                                </div>
                                <div class="bg-slate-900/50 rounded-lg p-4 text-center">
                                    <div class="text-3xl mb-2">üí∞</div>
                                    <h4 class="font-semibold mb-2 text-sm">3. Filter by Budget</h4>
                                    <p class="text-xs text-slate-400">Only show affordable alternatives</p>
                                </div>
                                <div class="bg-slate-900/50 rounded-lg p-4 text-center">
                                    <div class="text-3xl mb-2">‚≠ê</div>
                                    <h4 class="font-semibold mb-2 text-sm">4. Rank Results</h4>
                                    <p class="text-xs text-slate-400">95%+ similarity matches</p>
                                </div>
                            </div>
                        </div>

                        <!-- CALCULATOR -->
                        <div class="bg-slate-800/50 rounded-lg p-6">
                            <h3 class="text-xl font-bold mb-4">Find Replacements</h3>
                            <div class="grid md:grid-cols-2 gap-6">
                                <div class="space-y-4">
                                    <div class="bg-blue-500/20 rounded-lg p-4 border border-blue-500/30 mb-4">
                                        <h4 class="font-bold mb-2 text-blue-300">Scenario: Player Sale</h4>
                                        <p class="text-sm text-slate-300">You're selling a key player. Find affordable replacements with similar attributes.</p>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-semibold mb-2">Player Being Sold</label>
                                        <select id="replacementPlayer" class="w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2">
                                            <option value="">Select player...</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-semibold mb-2">Sale Price (‚Ç¨M)</label>
                                        <input type="number" id="replacementSalePrice" class="w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2" placeholder="e.g., 60" min="0">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-semibold mb-2">Replacement Budget (% of sale)</label>
                                        <div class="flex gap-2">
                                            <input type="range" id="replacementBudgetSlider" class="flex-1" min="10" max="100" value="25" oninput="updateReplacementBudget()">
                                            <span id="replacementBudgetValue" class="text-white font-bold w-16 text-right">25%</span>
                                        </div>
                                        <div class="text-xs text-slate-400 mt-1">Budget: <span id="replacementBudgetAmount" class="text-white font-bold">‚Ç¨0M</span></div>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-semibold mb-2">Max Weekly Wage (‚Ç¨K)</label>
                                        <input type="number" id="replacementMaxWage" class="w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2" placeholder="e.g., 50" min="0">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-semibold mb-2">Minimum Similarity Score</label>
                                        <select id="replacementSimilarity" class="w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2">
                                            <option value="95">95%+ (Very Similar)</option>
                                            <option value="90">90%+ (Similar)</option>
                                            <option value="85">85%+ (Somewhat Similar)</option>
                                        </select>
                                    </div>
                                    <button onclick="findReplacements()" class="w-full bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 px-6 py-3 rounded-lg font-bold transition">
                                        Find Replacements
                                    </button>
                                </div>
                                <div id="replacementResults" class="hidden">
                                    <div class="bg-slate-900/50 rounded-lg p-6 border border-cyan-500/30">
                                        <h4 class="font-bold mb-4">Replacement Options</h4>
                                        <div id="replacementsList" class="space-y-3">
                                            <!-- Results will appear here -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- EXAMPLE CASE STUDY -->
                        <div class="mt-6 bg-green-900/20 border border-green-500/30 rounded-lg p-5">
                            <h4 class="font-bold text-green-400 mb-3">‚úÖ Success Story: Liverpool FC</h4>
                            <div class="grid md:grid-cols-3 gap-4 text-sm">
                                <div>
                                    <div class="text-slate-400 mb-1">Player Sold:</div>
                                    <div class="font-bold">Philippe Coutinho</div>
                                    <div class="text-xs text-slate-400">To Barcelona for ‚Ç¨142M</div>
                                </div>
                                <div>
                                    <div class="text-slate-400 mb-1">Replacements:</div>
                                    <div class="font-bold">Salah + Man√© + Firmino</div>
                                    <div class="text-xs text-slate-400">Combined: ~‚Ç¨80M</div>
                                </div>
                                <div>
                                    <div class="text-slate-400 mb-1">Outcome:</div>
                                    <div class="font-bold text-green-400">Champions League Win</div>
                                    <div class="text-xs text-slate-400">Better squad, lower cost</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- COMPETITIVE ADVANTAGE SUMMARY -->
                <div class="mt-8 bg-gradient-to-r from-blue-900/30 to-purple-900/30 border border-blue-500/30 rounded-xl p-8">
                    <h2 class="text-3xl font-bold mb-6 text-center gradient-text">üèÜ Your Competitive Advantage</h2>
                    <div class="grid md:grid-cols-3 gap-6">
                        <div class="bg-slate-800/50 rounded-lg p-6 text-center">
                            <div class="text-4xl mb-4">‚ö°</div>
                            <h3 class="font-bold mb-3 text-xl">Speed</h3>
                            <p class="text-sm text-slate-300">Get deal probability, work permit status, and league-adjusted expectations in <strong class="text-blue-400">under 60 seconds</strong></p>
                        </div>
                        <div class="bg-slate-800/50 rounded-lg p-6 text-center">
                            <div class="text-4xl mb-4">üéØ</div>
                            <h3 class="font-bold mb-3 text-xl">Accuracy</h3>
                            <p class="text-sm text-slate-300"><strong class="text-green-400">76% prediction accuracy</strong> on transfer success vs. 54% industry failure rate</p>
                        </div>
                        <div class="bg-slate-800/50 rounded-lg p-6 text-center">
                            <div class="text-4xl mb-4">üí∞</div>
                            <h3 class="font-bold mb-3 text-xl">ROI</h3>
                            <p class="text-sm text-slate-300">One prevented ‚Ç¨60M disaster pays for <strong class="text-yellow-400">10 years</strong> of the system</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="philosophy-tab" class="tab-content">
                <div class="text-center mb-8">
                    <h1 class="text-4xl font-bold mb-4 gradient-text">60-Philosophy Framework Heatmap</h1>
                    <p class="text-xl text-slate-300">Explore tactical DNA distribution across legendary coaching philosophies</p>
                </div>

                <div class="bg-slate-900/50 border border-blue-500/20 rounded-xl p-6 mb-8">
                    <h3 class="text-lg font-bold mb-4 text-blue-300">Philosophy Distribution</h3>
                    <div id="philosophy-heatmap">
                        <!-- Heatmap will be rendered here -->
                    </div>
                </div>
            </div>

            <!-- SQUAD BUILDER TAB -->
            <div id="squad-tab" class="tab-content">
                <div class="text-center mb-8">
                    <h1 class="text-4xl font-bold mb-4 gradient-text">Interactive Squad Builder</h1>
                    <p class="text-xl text-slate-300">Build your lineup and analyze tactical chemistry</p>
                </div>

                <div class="grid md:grid-cols-3 gap-6 mb-8">
                    <div class="md:col-span-2">
                        <div class="bg-slate-900/50 border border-blue-500/20 rounded-xl p-6 mb-4">
                            <h3 class="text-lg font-bold mb-4 text-blue-300">Select Formation</h3>
                            <div class="flex flex-wrap gap-2">
                                <div class="formation-selector active" onclick="selectFormation('4-3-3')">4-3-3</div>
                                <div class="formation-selector" onclick="selectFormation('4-4-2')">4-4-2</div>
                                <div class="formation-selector" onclick="selectFormation('3-5-2')">3-5-2</div>
                                <div class="formation-selector" onclick="selectFormation('4-2-3-1')">4-2-3-1</div>
                                <div class="formation-selector" onclick="selectFormation('3-4-3')">3-4-3</div>
                            </div>
                        </div>

                        <div class="bg-slate-900/50 border border-blue-500/20 rounded-xl p-6">
                            <div class="pitch-background" style="height: 600px; position: relative;" id="pitch">
                                <div class="absolute top-4 left-1/2 transform -translate-x-1/2 text-white font-bold text-sm">
                                    OPPONENT
                                </div>
                                <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 text-white font-bold text-sm">
                                    YOUR TEAM
                                </div>
                            </div>
                        </div>
                    </div>

                    <div>
                        <div class="bg-slate-900/50 border border-blue-500/20 rounded-xl p-6 mb-4">
                            <h3 class="text-lg font-bold mb-4 text-blue-300">Squad Statistics</h3>
                            <div class="space-y-3">
                                <div>
                                    <div class="text-sm text-slate-400 mb-1">Average FGA</div>
                                    <div class="text-2xl font-bold text-blue-400" id="squad-avg-fga">--</div>
                                </div>
                                <div>
                                    <div class="text-sm text-slate-400 mb-1">Team Chemistry</div>
                                    <div class="text-2xl font-bold text-green-400" id="squad-chemistry">--</div>
                                </div>
                                <div>
                                    <div class="text-sm text-slate-400 mb-1">Players Selected</div>
                                    <div class="text-2xl font-bold text-yellow-400"><span id="squad-count">0</span>/11</div>
                                </div>
                            </div>
                            <button onclick="clearSquad()" class="mt-4 w-full bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg font-semibold transition text-sm">
                                Clear Squad
                            </button>
                        </div>

                        <div class="bg-slate-900/50 border border-blue-500/20 rounded-xl p-6">
                            <h3 class="text-lg font-bold mb-4 text-blue-300">Search Players</h3>
                            <input type="text" 
                                   id="squad-search" 
                                   placeholder="Search to add players..." 
                                   class="search-input mb-4"
                                   oninput="searchForSquad(this.value)">
                            <div id="squad-search-results" class="space-y-2 max-h-96 overflow-y-auto">
                                <p class="text-slate-400 text-sm">Search for players to add to your squad</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- VIDEO LIBRARY TAB -->
            <div id="agents-tab" class="tab-content">
                <div class="text-center mb-8">
                    <h1 class="text-4xl font-bold mb-4 gradient-text"><i class="fas fa-user-tie"></i> Scouting Tool</h1>
                    <p class="text-xl text-slate-300">Manage your players and generate client-ready reports</p>
                </div>
               <!-- EMPIRE SCOUTING NETWORK - VIDEO LIBRARY WIDGET -->
<div id="esn-library-root">

        <div class>
            <img src="https://media.licdn.com/dms/image/v2/D4E12AQEjuDAF0uOTrw/article-cover_image-shrink_720_1280/B4EZiOwG01GwAI-/0/1754741632806?e=2147483647&v=beta&t=L9ct0jEaWdSp7vfTI0urIqPPig0MspEd-6RtzxaQzzQ"
                alt="Empire Scouting Network"width="190" height="100">

    <!-- HEADER / SEARCH SECTION -->
    <div class="esn-header">
        <div class="esn-title-group">
            <h2 class="esn-main-title">VIDEO LIBRARY</h2>
            <p class="esn-subtitle">Global Scouting Database</p>
        </div>
        <div class="esn-search-wrapper">
            <input type="text" id="esn-search" placeholder="Find Country (e.g. Brazil, France)..." onkeyup="filterCountries()">
            <span class="search-icon">üîç</span>
        </div>
    </div>

    <!-- MAIN GRID CONTAINER -->
    <div id="esn-grid-container">
        <!-- Countries injected via JavaScript -->
    </div>

    <!-- POPUP MODAL (VIDEO LIST) -->
    <div id="esn-modal" class="esn-modal">
        <div class="esn-modal-content">
            <div class="esn-modal-header">
                <h3 id="modal-country-name">Country Name</h3>
                <span class="esn-close" onclick="closeModal()">&times;</span>
            </div>
            <div id="modal-leagues-list" class="esn-link-list">
                <!-- Links appear here -->
            </div>
        </div>
    </div>

</div>

<!-- CSS STYLING (ESN BRAND COLORS: BLACK & GOLD) -->
<style>
    /* VARIABLES - CHANGE COLORS HERE IF NEEDED */
    :root {
        --esn-bg: #000000;          /* Deep Black Background */
        --esn-card-bg: #111111;     /* Slightly lighter for cards */
        --esn-gold: #C5A059;        /* Empire Gold Accent */
        --esn-gold-hover: #e0b86e;  /* Brighter Gold for hover */
        --esn-text: #ffffff;        /* White text */
        --esn-text-muted: #888888;  /* Grey text */
        --esn-border: #333333;      /* Subtle borders */
    }

    #esn-library-root {
        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        background-color: var(--esn-bg);
        color: var(--esn-text);
        padding: 40px;
        min-height: 100vh;
        box-sizing: border-box;
    }

    /* HEADER */
    .esn-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-end;
        border-bottom: 2px solid var(--esn-gold); /* Gold Line */
        padding-bottom: 20px;
        margin-bottom: 40px;
        flex-wrap: wrap;
        gap: 20px;
    }

    .esn-main-title {
        margin: 0;
        font-size: 2rem;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 2px;
        color: var(--esn-gold);
    }

    .esn-subtitle {
        margin: 5px 0 0 0;
        color: var(--esn-text-muted);
        font-size: 0.9rem;
    }

    /* SEARCH BAR */
    .esn-search-wrapper {
        position: relative;
        width: 100%;
        max-width: 350px;
    }

    #esn-search {
        width: 100%;
        padding: 12px 15px;
        padding-right: 40px;
        background: var(--esn-card-bg);
        border: 1px solid var(--esn-border);
        color: white;
        font-size: 1rem;
        border-radius: 4px;
        transition: border 0.3s;
    }

    #esn-search:focus {
        border-color: var(--esn-gold);
        outline: none;
    }

    .search-icon {
        position: absolute;
        right: 12px;
        top: 50%;
        transform: translateY(-50%);
        opacity: 0.5;
    }

    /* REGION TITLES */
    .esn-region-label {
        color: var(--esn-text);
        font-size: 1.1rem;
        font-weight: 600;
        margin-top: 40px;
        margin-bottom: 20px;
        padding-left: 10px;
        border-left: 4px solid var(--esn-gold);
        text-transform: uppercase;
    }

    /* GRID SYSTEM */
    .esn-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
        gap: 15px;
    }

    /* COUNTRY CARDS */
    .esn-card {
        background: var(--esn-card-bg);
        border: 1px solid var(--esn-border);
        padding: 20px 10px;
        border-radius: 6px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }

    .esn-card:hover {
        background: #1a1a1a;
        transform: translateY(-5px);
        border-color: var(--esn-gold);
        box-shadow: 0 5px 15px rgba(197, 160, 89, 0.2); /* Gold Glow */
    }

    .esn-flag {
        font-size: 36px;
        display: block;
        margin-bottom: 10px;
    }

    .esn-name {
        font-size: 13px;
        font-weight: 600;
        letter-spacing: 0.5px;
        color: #ddd;
    }

    .esn-card:hover .esn-name {
        color: var(--esn-gold);
    }

    /* MODAL (POPUP) */
    .esn-modal {
        display: none;
        position: fixed;
        z-index: 10000;
        left: 0; top: 0;
        width: 100%; height: 100%;
        background-color: rgba(0,0,0,0.9);
        backdrop-filter: blur(4px);
    }

    .esn-modal-content {
        background-color: #050505;
        margin: 5% auto;
        padding: 0;
        border: 1px solid var(--esn-gold);
        width: 90%;
        max-width: 600px;
        border-radius: 8px;
        box-shadow: 0 0 30px rgba(197, 160, 89, 0.3);
    }

    .esn-modal-header {
        background: var(--esn-card-bg);
        padding: 20px;
        border-bottom: 1px solid #333;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .esn-modal-header h3 {
        margin: 0;
        color: var(--esn-gold);
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    .esn-close {
        color: #fff;
        font-size: 28px;
        cursor: pointer;
        transition: 0.2s;
    }
    .esn-close:hover { color: var(--esn-gold); }

    .esn-link-list {
        padding: 30px;
        max-height: 60vh;
        overflow-y: auto;
    }

    /* LINKS INSIDE MODAL */
    .esn-league-btn {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background: #151515;
        color: white;
        padding: 15px 20px;
        margin-bottom: 12px;
        text-decoration: none;
        border-radius: 4px;
        border: 1px solid #333;
        transition: all 0.2s;
    }

    .esn-league-btn:hover {
        background: #222;
        border-color: var(--esn-gold);
        color: var(--esn-gold);
    }
    
    .esn-arrow { font-size: 18px; }

    /* RESPONSIVE */
    @media (max-width: 600px) {
        #esn-library-root { padding: 20px; }
        .esn-grid { grid-template-columns: repeat(3, 1fr); }
    }
</style>

<!-- JAVASCRIPT LOGIC -->
<script>
    // --- DATABASE STRUCTURE ---
    const database = {
        "South America": [
            { name: "Argentina", flag: "üá¶üá∑" }, { name: "Brazil", flag: "üáßüá∑" },
            { name: "Uruguay", flag: "üá∫üáæ" }, { name: "Colombia", flag: "üá®üá¥" },
            { name: "Chile", flag: "üá®üá±" }, { name: "Paraguay", flag: "üáµüáæ" },
            { name: "Ecuador", flag: "üá™üá®" }, { name: "Peru", flag: "üáµüá™" },
            { name: "Venezuela", flag: "üáªüá™" }, { name: "Bolivia", flag: "üáßüá¥" }
        ],
        "Europe": [
            { name: "England", flag: "üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø" }, { name: "Spain", flag: "üá™üá∏" },
            { name: "Germany", flag: "üá©üá™" }, { name: "Italy", flag: "üáÆüáπ" },
            { name: "France", flag: "üá´üá∑" }, { name: "Portugal", flag: "üáµüáπ" },
            { name: "Netherlands", flag: "üá≥üá±" }, { name: "Belgium", flag: "üáßüá™" },
            { name: "Turkey", flag: "üáπüá∑" }, { name: "Croatia", flag: "üá≠üá∑" },
            { name: "Austria", flag: "üá¶üáπ" }, { name: "Denmark", flag: "üá©üá∞" },
            { name: "Sweden", flag: "üá∏üá™" }, { name: "Switzerland", flag: "üá®üá≠" },
            { name: "Poland", flag: "üáµüá±" }, { name: "Serbia", flag: "üá∑üá∏" },
            { name: "Norway", flag: "üá≥üá¥" }, { name: "Greece", flag: "üá¨üá∑" },
            { name: "Czech Rep", flag: "üá®üáø" }, { name: "Scotland", flag: "üè¥Û†ÅßÛ†Å¢Û†Å≥Û†Å£Û†Å¥Û†Åø" },
            { name: "Ukraine", flag: "üá∫üá¶" }, { name: "Romania", flag: "üá∑üá¥" },
            { name: "Hungary", flag: "üá≠üá∫" }
        ],
        "North & Central America": [
            { name: "USA", flag: "üá∫üá∏" }, { name: "Mexico", flag: "üá≤üáΩ" },
            { name: "Canada", flag: "üá®üá¶" }, { name: "Costa Rica", flag: "üá®üá∑" },
            { name: "Jamaica", flag: "üáØüá≤" }, { name: "Panama", flag: "üáµüá¶" }
        ],
        "Maghreb (Africa)": [
            { name: "Morocco", flag: "üá≤üá¶" }, { name: "Algeria", flag: "üá©üáø" },
            { name: "Tunisia", flag: "üáπüá≥" }, { name: "Egypt", flag: "üá™üá¨" },
            { name: "Libya", flag: "üá±üáæ" }
        ],
	"Asia": [
            { name: "Japan", flag: "üáØüáµ" }, { name: "Saudi Arabia", flag: "üá∏üá¶" },
            { name: "Qatar", flag: "üá∏üá¶" }, { name: "UAE", flag: "#" },
	    { name: "South Korea", flag: "üá∞üá∑" },
            
        ]
    };

    const container = document.getElementById('esn-grid-container');

    // 1. GENERATE GRID
    function renderGrid() {
        container.innerHTML = "";
        for (const [region, countries] of Object.entries(database)) {
            // Region Header
            const header = document.createElement('div');
            header.className = 'esn-region-label';
            header.innerText = region;
            container.appendChild(header);

            // Grid Wrapper
            const grid = document.createElement('div');
            grid.className = 'esn-grid';

            countries.forEach(c => {
                const card = document.createElement('div');
                card.className = 'esn-card';
                card.setAttribute('data-search', c.name.toLowerCase());
                card.innerHTML = `<span class="esn-flag">${c.flag}</span><div class="esn-name">${c.name}</div>`;
                card.onclick = () => openModal(c.name);
                grid.appendChild(card);
            });
            container.appendChild(grid);
        }
    }

    // 2. SEARCH FUNCTION
    function filterCountries() {
        const term = document.getElementById('esn-search').value.toLowerCase();
        const cards = document.getElementsByClassName('esn-card');
        Array.from(cards).forEach(card => {
            const name = card.getAttribute('data-search');
            card.style.display = name.includes(term) ? "block" : "none";
        });
    }

    // 3. MODAL & LINKS LOGIC
    function openModal(country) {
        const modal = document.getElementById('esn-modal');
        const title = document.getElementById('modal-country-name');
        const list = document.getElementById('modal-leagues-list');

        title.innerText = country.toUpperCase();
        list.innerHTML = ""; // Clear old links

        // --- CUSTOMIZE YOUR LINKS HERE ---
        // This logic determines which buttons appear for which country.
        // Replace 'href="#"' with your actual Google Drive / Video URL.

        let html = "";

        if (country === "Brazil") {
            html += createLink("S√©rie A (Brasileir√£o)", "#");
            html += createLink("S√©rie B", "#");
            html += createLink("U20 Copinha", "#");
        } 
        else if (country === "Argentina") {
            html += createLink("Liga Profesional", "Liga_Profesional_AR.html");
            html += createLink("Copa Argentina", "Copa_Argentina_AR.html");
            html += createLink("Reserves", "#");
        }
        else if (country === "England") {
            html += createLink("Premier League", "#");
            html += createLink("Championship", "#");
            html += createLink("League One", "#");
        }
	else if (country === "Sweden") {
            html += createLink("Allsvenskan", "#");
            html += createLink("Superettan", "superettan.html");
            html += createLink("U21", "#");
	}
	else if (country === "Turkey") {
            html += createLink("Super Lig", "turkey_super_lig.html");
            html += createLink("1.Lig", "turkey_1_lig.html");
            html += createLink("T√ºrkiye Kupasi", "#");
	}
	else if (country === "Denmark") {
            html += createLink("3F Superliga", "danish_superliga.html");
            html += createLink("First Division", "#");
            html += createLink("U19", "#");
	}
	else if (country === "USA") {
            html += createLink("MLS (Major League Soccer)", "mls_database.html");
            html += createLink("USL Championship", "#");
            html += createLink("USL1", "usl1_widget.html");
	    html += createLink("NISA", "#");
	}
	else if (country === "Colombia") {
            html += createLink("Torneo Dimayor", "colombian_primera_a.html");
            html += createLink("Liga Dimayor II", "#");
            html += createLink("Copa Colombia", "#");
	    html += createLink("U19", "#");
	}
	else if (country === "Netherlands") {
            html += createLink("Eredivisie", "eredivisie.html");
            html += createLink("Keuken Kampioen Divisie", "#");
            html += createLink("Tweede Divisie", "#");
	    html += createLink("KNVB Beker", "#");
	}
	else if (country === "Norway") {
            html += createLink("Eliteserien", "norway_eliteserien.html");
            html += createLink("OBOS Ligaen", "#");
            html += createLink("PostNord Ligaen", "#");
	    html += createLink("Norsk Tpping Ligaen", "#");
	    html += createLink("NM Cupen", "#");
	    html += createLink("U19", "#");
	}
	else if (country === "Spain") {
            html += createLink("La Liga EA Sports", "#");
            html += createLink("La Liga Hypermotion", "spain_la_liga_2.html");
            html += createLink("Primera RFEF", "spain_primera_federacion.html");
	    html += createLink("Segunda RFEF", "#");
	    html += createLink("Copa del Rey", "#");
	    html += createLink("Divisi√≥n de Honor Juvenil", "#");
	}
	else if (country === "Saudi Arabia") {
            html += createLink("Saudi League", "#");
            html += createLink("Saudi First Division", "spain_la_liga_2.html");
            html += createLink("King's Cup", "spain_primera_federacion.html");
	   
	}
        else {
            // Default links for countries you haven't set up specific leagues for yet
            html += createLink(country + " - First Division", "#");
            html += createLink(country + " - Youth / U21", "#");
            html += createLink(country + " - National Team", "#");
        }

        list.innerHTML = html;
        modal.style.display = "block";
    }

    // Helper to make a button
    function createLink(text, url) {
        return `<a href="${url}" class="esn-league-btn">
                    <span>${text}</span>
                    <span class="esn-arrow">‚ñ∂</span>
                </a>`;
    }

    function closeModal() {
        document.getElementById('esn-modal').style.display = "none";
    }

    // Close modal if clicking background
    window.onclick = function(e) {
        if (e.target == document.getElementById('esn-modal')) {
            closeModal();
        }
    }

    // Run
    renderGrid();
</script>
    </footer>

    <script>
        // LOAD FULL PLAYER DATA FROM YOUR DATABASE
        // This section will be replaced with the complete 521-player array
        const playerData = [{ name: "DeJuan Jones", player_id: 456123, image_url: "https://img.a.transfermarkt.technology/portrait/big/456123.jpg", profileHtml: "DeJuan_Jones.html", position: "LB", age: 27, nationality: "USA", fga: 82.3, bestPhilosophy: "Klopp Intensity", agent: "Kevin Weinress", agentCompany: "Prosport Management", currentClub: "Columbus Crew" },
            { name: "Jean-Ricner Bellegarde", profileHtml: "Jean_Ricner_Bellegarde.html", position: "CM", age: 26, nationality: "Haiti/France", fga: 84.7, bestPhilosophy: "Guardiola Positional", agent: "Kamel Bengougam", agentCompany: "BKS Consulting", currentClub: "Everton FC" },
            
            // === NEW PLAYERS ADDED (Dec 1, 2025) ===
            { name: "Brenden Aaronson", player_id: 662735, image_url: "https://img.a.transfermarkt.technology/portrait/big/662735.jpg", profileHtml: "Brenden_Aaronson.html", position: "AM", age: 24, nationality: "USA", fga: 82.5, bestPhilosophy: "Klopp Intensity", currentClub: "Leeds United" },
            { name: "Carlo Ancelotti (Player)", profileHtml: "Carlo_Ancelotti.html", position: "CM", age: 66, nationality: "Italy", fga: 93.5, bestPhilosophy: "Ancelotti Balance" },
            { name: "Dirk Kuyt", player_id: 4251, image_url: "https://img.a.transfermarkt.technology/portrait/big/4251.jpg", profileHtml: "Dirk_Kuyt.html", position: "WG", age: 44, nationality: "Netherlands", fga: 93.0, bestPhilosophy: "Ferguson Mental", currentClub: "Retired" },
            { name: "Germ√°n Gutierrez", profileHtml: "German_Gutierrez.html", position: "CB", age: 67, nationality: "Colombia", fga: 91.5, bestPhilosophy: "Herrera Catenaccio" },
            { name: "Givairo Read", profileHtml: "Givairo_Read.html", position: "WG", age: 20, nationality: "Netherlands", fga: 76.8, bestPhilosophy: "Cruyff Intelligence", currentClub: "NAC Breda" },
            { name: "Jean-Philippe Mateta", player_id: 294089, image_url: "https://img.a.transfermarkt.technology/portrait/big/294089.jpg", profileHtml: "Jean_Philippe_Mateta.html", position: "ST", age: 27, nationality: "France", fga: 83.5, bestPhilosophy: "Fontaine Attack", currentClub: "Crystal Palace" },
            { name: "Jorge Fossati (Player)", profileHtml: "Jorge_Fossati.html", position: "CB", age: 72, nationality: "Uruguay", fga: 90.5, bestPhilosophy: "Herrera Defensive" },
            { name: "Kenneth Taylor", player_id: 528655, image_url: "https://img.a.transfermarkt.technology/portrait/big/528655.jpg", profileHtml: "Kenneth_Taylor.html", position: "CM", age: 22, nationality: "Netherlands", fga: 80.5, bestPhilosophy: "Guardiola Positional", currentClub: "Ajax" },
            { name: "Quinten Timber", player_id: 528654, image_url: "https://img.a.transfermarkt.technology/portrait/big/528654.jpg", profileHtml: "Quinten_Timber.html", position: "CM", age: 23, nationality: "Netherlands", fga: 81.2, bestPhilosophy: "Cruyff Intelligence", currentClub: "Feyenoord" },
            { name: "Troy Parrott", player_id: 458709, image_url: "https://img.a.transfermarkt.technology/portrait/big/458709.jpg", profileHtml: "Troy_Parrott.html", position: "ST", age: 22, nationality: "Republic of Ireland", fga: 78.9, bestPhilosophy: "Ferguson Mental", currentClub: "AZ Alkmaar" },
            
            // === NEW PLAYERS BATCH 2 (Dec 1, 2025 - Second Upload) ===
            { name: "Davis Opoku", profileHtml: "Davis_Opoku.html", position: "WG", age: 18, nationality: "Ghana", fga: 68.0, bestPhilosophy: "Cruyff Intelligence", currentClub: "OH Leuven" },
            { name: "Dennis Gyamfi", profileHtml: "Dennis_Gyamfi.html", position: "FB", age: 21, nationality: "Netherlands", fga: 72.0, bestPhilosophy: "Cruyff Intelligence", currentClub: "Beerschot" },
            { name: "Edisson Jordanov", profileHtml: "Edisson_Jordanov.html", position: "FB", age: 23, nationality: "Bulgaria", fga: 75.0, bestPhilosophy: "Mourinho Tactical", currentClub: "Beerschot" },
            { name: "Massimo Oddo", profileHtml: "Massimo_Oddo.html", position: "FB", age: 49, nationality: "Italy", fga: 88.5, bestPhilosophy: "Ancelotti Balance" },
            { name: "√ìscar Gil", profileHtml: "Oscar_Gil.html", position: "FB", age: 25, nationality: "Spain", fga: 78.5, bestPhilosophy: "Guardiola Positional", currentClub: "Espanyol" },
            { name: "Pervis Estupi√±√°n", player_id: 340324, image_url: "https://img.a.transfermarkt.technology/portrait/big/340324.jpg", profileHtml: "Pervis_Estupinan.html", position: "LB", age: 27, nationality: "Ecuador", fga: 84.5, bestPhilosophy: "Klopp Intensity", currentClub: "AC Milan" },
            { name: "Stephan Lichtsteiner", profileHtml: "Stephan_Lichtsteiner.html", position: "FB", age: 41, nationality: "Switzerland", fga: 87.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Therence Koudou", profileHtml: "Therence_Koudou.html", position: "WG", age: 26, nationality: "Ivory Coast", fga: 76.5, bestPhilosophy: "Klopp Intensity", currentClub: "KV Mechelen" },
            { name: "Thiebault Vlietinck", profileHtml: "Thiebault_Vlietinck.html", position: "FB", age: 19, nationality: "Belgium", fga: 76.0, bestPhilosophy: "Guardiola Positional", currentClub: "OH Leuven" },
            
            // === NEW PLAYERS BATCH 3 (Dec 1, 2025 - Third Upload) ===
            { name: "Tristan Blackmon", profileHtml: "Tristan_Blackmon.html", position: "CB", age: 29, nationality: "USA", fga: 80.0, bestPhilosophy: "Ferguson Mental", currentClub: "Vancouver Whitecaps" },
            { name: "Panagiotis Tsivikos", profileHtml: "Panagiotis_Tsivikos.html", position: "FB", age: 19, nationality: "Greece", fga: 74.5, bestPhilosophy: "Guardiola Positional" },
            { name: "Patrik Mercado", profileHtml: "Patrik_Mercado.html", position: "WG", age: 24, nationality: "Chile", fga: 77.5, bestPhilosophy: "Bielsa Verticalidad" },
            { name: "Claudio Taffarel", profileHtml: "Claudio_Taffarel.html", position: "GK", age: 59, nationality: "Brazil", fga: 94.5, bestPhilosophy: "Parreira Defensive" },
            { name: "Edwin van der Sar", player_id: 3459, image_url: "https://img.a.transfermarkt.technology/portrait/big/3459.jpg", profileHtml: "Edwin_van_der_Sar.html", position: "GK", age: 54, nationality: "Netherlands", fga: 97.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Dejan Stankoviƒá", profileHtml: "Dejan_Stankovic.html", position: "CM", age: 46, nationality: "Serbia", fga: 95.0, bestPhilosophy: "Mourinho Tactical" },
            { name: "Theo Pahlpatz", profileHtml: "Theo_Pahlpatz.html", position: "CM", age: 68, nationality: "Netherlands", fga: 86.0, bestPhilosophy: "Michels Total Football" },
            { name: "Boudewijn Pahlpatz", profileHtml: "Boudewijn_Pahlpatz.html", position: "ST", age: 72, nationality: "Netherlands", fga: 81.5, bestPhilosophy: "Cruyff Intelligence" },
            { name: "Olivera Gudelj", profileHtml: "Olivera_Gudelj.html", position: "ST", age: 86, nationality: "Serbia", fga: 90.0, bestPhilosophy: "Sekuliƒá Attack" },
            { name: "Dragi≈°a Gudelj", profileHtml: "Dragisa_Gudelj.html", position: "CM", age: 55, nationality: "Serbia", fga: 79.0, bestPhilosophy: "Mourinho Tactical" },
            { name: "Vladimir Gudelj", profileHtml: "Vladimir_Gudelj.html", position: "CM", age: 58, nationality: "Serbia", fga: 82.0, bestPhilosophy: "Osim Pragmatism" },
            { name: "Neboj≈°a Gudelj", profileHtml: "Nebosja_Gudelj.html", position: "DM", age: 52, nationality: "Serbia", fga: 85.0, bestPhilosophy: "Mourinho Tactical" },
            { name: "Nemanja Gudelj", profileHtml: "Nemanja_Gudelj.html", position: "DM", age: 33, nationality: "Serbia", fga: 87.5, bestPhilosophy: "Sampaoli Intensity", currentClub: "Sevilla" },
            { name: "Danny Blind", profileHtml: "Danny_Blind.html", position: "CB", age: 63, nationality: "Netherlands", fga: 88.5, bestPhilosophy: "Cruyff Intelligence" },
            { name: "Daley Blind", profileHtml: "Daley_Blind.html", position: "CB", age: 34, nationality: "Netherlands", fga: 86.0, bestPhilosophy: "Guardiola Positional", currentClub: "Girona" },
            { name: "Aleksandar Stankoviƒá", profileHtml: "Aleksandar_Stankovic.html", position: "CM", age: 20, nationality: "Serbia", fga: 79.5, bestPhilosophy: "Mourinho Tactical", currentClub: "Inter Milan" },
            { name: "Axel Disasi", profileHtml: "Axel_Disasi.html", position: "CB", age: 27, nationality: "France", fga: 87.5, bestPhilosophy: "Mourinho Tactical", currentClub: "Chelsea" },
            { name: "Mehdi Mchakhchekh", profileHtml: "Mehdi_Mchakhchekh.html", position: "CM", age: 22, nationality: "Morocco", fga: 76.0, bestPhilosophy: "Guardiola Positional" },
            
            // === NEW PLAYERS BATCH 4 (Dec 1, 2025 - Fourth Upload) ===
            { name: "Justin Rasmussen", profileHtml: "Justin_Rasmussen.html", position: "LB", age: 25, nationality: "USA", fga: 76.5, bestPhilosophy: "Klopp Intensity", currentClub: "MLS" },
            { name: "Mauricio Pineda", profileHtml: "Mauricio_Pineda.html", position: "CB", age: 27, nationality: "El Salvador", fga: 79.0, bestPhilosophy: "Mourinho Tactical", currentClub: "MLS" },
            { name: "Memo Rodriguez", profileHtml: "Memo_Rodriguez.html", position: "CM", age: 28, nationality: "USA", fga: 78.5, bestPhilosophy: "Guardiola Positional", currentClub: "Houston Dynamo" },
            { name: "Kemar Lawrence", profileHtml: "Kemar_Lawrence.html", position: "LB", age: 32, nationality: "Jamaica", fga: 81.5, bestPhilosophy: "Ferguson Mental", currentClub: "MLS" },
            { name: "Abner", profileHtml: "Abner.html", position: "LB", age: 24, nationality: "Brazil", fga: 83.5, bestPhilosophy: "Ancelotti Balance", currentClub: "Lyon" },
            { name: "Mathis Abline", profileHtml: "Mathis_Abline.html", position: "ST", age: 22, nationality: "France", fga: 79.0, bestPhilosophy: "Fontaine Attack", currentClub: "Ligue 1" },
            { name: "Laurent Abergel", profileHtml: "Laurent_Abergel.html", position: "CM", age: 31, nationality: "France", fga: 80.5, bestPhilosophy: "Guardiola Positional", currentClub: "Lorient" },
            { name: "Saud Abdelhamid", profileHtml: "Saud_Abdelhamid.html", position: "CB", age: 25, nationality: "Saudi Arabia", fga: 81.0, bestPhilosophy: "Mourinho Tactical", currentClub: "Al-Nassr" },
            { name: "Salis Abdul Samed", profileHtml: "Salis_Abdul_Samed.html", position: "DM", age: 24, nationality: "Ghana", fga: 84.5, bestPhilosophy: "Klopp Intensity", currentClub: "Lens" },
            { name: "Ali Abdi", profileHtml: "Ali_Abdi.html", position: "LB", age: 27, nationality: "Tunisia", fga: 82.0, bestPhilosophy: "Guardiola Positional", currentClub: "Lorient" },
            { name: "Jones El Abdellaoui", profileHtml: "Jones_El_Abdellaoui.html", position: "WG", age: 18, nationality: "France", fga: 79.5, bestPhilosophy: "Klopp Intensity", currentClub: "Youth" },
            { name: "Himad Abdelli", profileHtml: "Himad_Abdelli.html", position: "CM", age: 18, nationality: "France", fga: 83.0, bestPhilosophy: "Guardiola Positional", currentClub: "Angers" },
            
            // === EXISTING LEGENDS (continue) ===
            { name: "Diego Maradona", player_id: 28014, image_url: "https://img.a.transfermarkt.technology/portrait/big/28014.jpg", profileHtml: "Diego_Maradona.html", position: "AM", age: 64, nationality: "Argentina", fga: 99.5, bestPhilosophy: "Menotti Artistry" },
            { name: "Pel√©", player_id: 39910, image_url: "https://img.a.transfermarkt.technology/portrait/big/39910.jpg", profileHtml: "Pele.html", position: "ST", age: 84, nationality: "Brazil", fga: 99.5, bestPhilosophy: "Santana JogoBonito" },
            { name: "Johan Cruyff", player_id: 28242, image_url: "https://img.a.transfermarkt.technology/portrait/big/28242.jpg", profileHtml: "Johan_Cruyff.html", position: "ST", age: 78, nationality: "Netherlands", fga: 99.5, bestPhilosophy: "Cruyff Intelligence" },
            { name: "Lionel Messi", player_id: 28003, image_url: "https://sortitoutsi.b-cdn.net/assets/graphic_styles/cut_out_faces.png", profileHtml: "Lionel_Messi.html", position: "AM", age: 38, nationality: "Argentina", fga: 99.0, bestPhilosophy: "Guardiola Positional" },
            { name: "Gianluigi Buffon", profileHtml: "Gianluigi_Buffon.html", position: "GK", age: 47, nationality: "Italy", fga: 99.0, bestPhilosophy: "Buffon Presence" },
            { name: "Zico", profileHtml: "Zico.html", position: "CM", age: 72, nationality: "Brazil", fga: 99.0, bestPhilosophy: "Platini Elegance" },
            { name: "Cristiano Ronaldo", player_id: 8198, image_url: "https://img.a.transfermarkt.technology/portrait/big/8198.jpg", profileHtml: "Cristiano_Ronaldo.html", position: "ST", age: 40, nationality: "Portugal", fga: 98.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Alfredo Di St√©fano", player_id: 28318, image_url: "https://img.a.transfermarkt.technology/portrait/big/28318.jpg", profileHtml: "Alfredo_Di_Stefano.html", position: "ST", age: 99, nationality: "Argentina", fga: 98.5, bestPhilosophy: "Santana JogoBonito" },
            { name: "Ferenc Pusk√°s", player_id: 29524, image_url: "https://img.a.transfermarkt.technology/portrait/big/29524.jpg", profileHtml: "Ferenc_Puskas.html", position: "ST", age: 98, nationality: "Hungary", fga: 98.5, bestPhilosophy: "Sebes Revolutionary" },
            { name: "Eusebio", profileHtml: "Eusebio.html", position: "ST", age: 83, nationality: "Portugal", fga: 98.5, bestPhilosophy: "Fontaine Attack" },
            { name: "Bobby Moore", player_id: 29549, image_url: "https://img.a.transfermarkt.technology/portrait/big/29549.jpg", profileHtml: "Bobby_Moore.html", position: "CB", age: 84, nationality: "England", fga: 98.5, bestPhilosophy: "Cruyff Intelligence" },
            { name: "Frank Lampard", player_id: 3163, image_url: "https://img.a.transfermarkt.technology/portrait/big/3163.jpg", profileHtml: "Frank_Lampard.html", position: "CM", age: 47, nationality: "England", fga: 98.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Peter Schmeichel", player_id: 3509, image_url: "https://img.a.transfermarkt.technology/portrait/big/3509.jpg", profileHtml: "Peter_Schmeichel.html", position: "GK", age: 62, nationality: "Denmark", fga: 98.5, bestPhilosophy: "Yashin Revolution" },
            { name: "Gheorghe Hagi", profileHtml: "Gheorghe_Hagi.html", position: "AM", age: 60, nationality: "Romania", fga: 98.5, bestPhilosophy: "Menotti Artistry" },
            { name: "Raymond Kopa", profileHtml: "Raymond_Kopa.html", position: "AM", age: 94, nationality: "France", fga: 98.5, bestPhilosophy: "Platini Elegance" },
            { name: "Dennis Bergkamp", player_id: 3088, image_url: "https://img.a.transfermarkt.technology/portrait/big/3088.jpg", profileHtml: "Dennis_Bergkamp.html", position: "ST", age: 56, nationality: "Netherlands", fga: 98.5, bestPhilosophy: "Cruyff Intelligence" },
            { name: "Alessandro Del Piero", profileHtml: "Alessandro_Del_Piero.html", position: "ST", age: 51, nationality: "Italy", fga: 98.5, bestPhilosophy: "Platini Elegance" },
            { name: "Kenny Dalglish", profileHtml: "Kenny_Dalglish.html", position: "ST", age: 74, nationality: "Scotland", fga: 98.5, bestPhilosophy: "Philosophy_01_Cruyff_Intelligence" },
            { name: "Lothar Matth√§us", profileHtml: "Lothar_Matthaus.html", position: "CM", age: 64, nationality: "Germany", fga: 98.5, bestPhilosophy: "Lampard/Gerrard Box-to-Box" },
            { name: "Ruud Gullit", player_id: 29384, image_url: "https://img.a.transfermarkt.technology/portrait/big/29384.jpg", profileHtml: "Ruud_Gullit.html", position: "ST", age: 63, nationality: "Netherlands", fga: 98.5, bestPhilosophy: "Philosophy_02_Michels_Total" },
            { name: "Cafu", profileHtml: "Cafu.html", position: "FB", age: 55, nationality: "Brazil", fga: 98.2, bestPhilosophy: "Scolari (Brazil)" },
            { name: "Zinedine Zidane", player_id: 3111, image_url: "https://img.a.transfermarkt.technology/portrait/big/3111.jpg", profileHtml: "Zinedine_Zidane.html", position: "AM", age: 53, nationality: "France", fga: 98.0, bestPhilosophy: "Platini Elegance" },
            { name: "Franz Beckenbauer", player_id: 29386, image_url: "https://img.a.transfermarkt.technology/portrait/big/29386.jpg", profileHtml: "Franz_Beckenbauer.html", position: "CB", age: 80, nationality: "Germany", fga: 98.0, bestPhilosophy: "Cruyff Intelligence" },
            { name: "Ronaldo Naz√°rio", player_id: 3140, image_url: "https://img.a.transfermarkt.technology/portrait/big/3140.jpg", profileHtml: "Ronaldo_Nazario.html", position: "ST", age: 49, nationality: "Brazil", fga: 98.0, bestPhilosophy: "Santana JogoBonito" },
            { name: "Garrincha", player_id: 29564, image_url: "https://img.a.transfermarkt.technology/portrait/big/29564.jpg", profileHtml: "Garrincha.html", position: "WG", age: 92, nationality: "Brazil", fga: 98.0, bestPhilosophy: "Menotti Artistry" },
            { name: "Lev Yashin", player_id: 29572, image_url: "https://img.a.transfermarkt.technology/portrait/big/29572.jpg", profileHtml: "Lev_Yashin.html", position: "GK", age: 96, nationality: "Soviet Union", fga: 98.0, bestPhilosophy: "Yashin Revolution" },
            { name: "Ronald Koeman", profileHtml: "Ronald_Koeman.html", position: "CB", age: 62, nationality: "Netherlands", fga: 98.0, bestPhilosophy: "Cruyff Intelligence" },
            { name: "Johan Neeskens", profileHtml: "Johan_Neeskens.html", position: "CM", age: 74, nationality: "Netherlands", fga: 98.0, bestPhilosophy: "Philosophy_02_Michels_Total" },
            { name: "Karl-Heinz Rummenigge", profileHtml: "KarlHeinz_Rumenigge.html", position: "ST", age: 70, nationality: "West Germany", fga: 98.0, bestPhilosophy: "Ronaldo (R9) Power" },
            { name: "N√≠lton Santos", profileHtml: "Nilton_Santos.html", position: "FB", age: 100, nationality: "Brazil", fga: 98.0, bestPhilosophy: "Maldini Defense" },
            { name: "Ra√∫l Gonz√°lez", profileHtml: "Raul_Gonzalez.html", position: "ST", age: 48, nationality: "Spain", fga: 98.0, bestPhilosophy: "Inzaghi Poacher" },
            { name: "Sir Stanley Matthews", profileHtml: "Stanley_Matthews.html", position: "WG", age: 110, nationality: "England", fga: 98.0, bestPhilosophy: "Menotti Artistry" },
            { name: "Ronaldinho Ga√∫cho", profileHtml: "JRonaldinho.html", position: "AM", age: 45, nationality: "Brazil", fga: 97.5, bestPhilosophy: "Menotti Artistry" },
            { name: "Gerd M√ºller", player_id: 29380, image_url: "https://img.a.transfermarkt.technology/portrait/big/29380.jpg", profileHtml: "Gerd_Muller.html", position: "ST", age: 80, nationality: "West Germany", fga: 97.5, bestPhilosophy: "Gerd M√ºller Finisher" },
            { name: "Paolo Maldini", player_id: 5806, image_url: "https://img.a.transfermarkt.technology/portrait/big/5806.jpg", profileHtml: "Paolo_Maldini.html", position: "FB", age: 57, nationality: "Italy", fga: 97.5, bestPhilosophy: "Sacchi Pressing" },
            { name: "Jude Bellingham", profileHtml: "Jude_Bellingham.html", position: "CM", age: 22, nationality: "England", fga: 97.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Michel Platini", player_id: 32302, image_url: "https://img.a.transfermarkt.technology/portrait/big/32302.jpg", profileHtml: "Michel_Platini.html", position: "AM", age: 70, nationality: "France", fga: 97.0, bestPhilosophy: "Platini Elegance" },
            { name: "Marco van Basten", player_id: 29383, image_url: "https://img.a.transfermarkt.technology/portrait/big/29383.jpg", profileHtml: "Marco_van_Basten.html", position: "ST", age: 61, nationality: "Netherlands", fga: 97.0, bestPhilosophy: "Michels Total" },
            { name: "Franco Baresi", player_id: 29387, image_url: "https://img.a.transfermarkt.technology/portrait/big/29387.jpg", profileHtml: "Franco_Baresi.html", position: "CB", age: 65, nationality: "Italy", fga: 97.0, bestPhilosophy: "Sacchi Pressing" },
            { name: "Rivaldo", profileHtml: "Rivaldo.html", position: "AM", age: 53, nationality: "Brazil", fga: 97.0, bestPhilosophy: "Santana JogoBonito" },
            { name: "Paolo Rossi", profileHtml: "Paolo_Rossi.html", position: "ST", age: 69, nationality: "Italy", fga: 97.0, bestPhilosophy: "Inzaghi Poacher" },
            { name: "Erling Haaland", player_id: 418560, image_url: "https://img.a.transfermarkt.technology/portrait/big/418560.jpg", profileHtml: "Erling_Haaland.html", position: "ST", age: 25, nationality: "Norway", fga: 97.0, bestPhilosophy: "Fontaine Attack" },
            { name: "Xavi Hern√°ndez", player_id: 7607, image_url: "https://img.a.transfermarkt.technology/portrait/big/7607.jpg", profileHtml: "Xavi_Hernandez.html", position: "CM", age: 45, nationality: "Spain", fga: 96.5, bestPhilosophy: "Guardiola Positional" },
            { name: "Rom√°rio", profileHtml: "Romario.html", position: "ST", age: 59, nationality: "Brazil", fga: 96.5, bestPhilosophy: "Santana JogoBonito" },
            { name: "Karim Benzema", player_id: 18922, image_url: "https://img.a.transfermarkt.technology/portrait/big/18922.jpg", profileHtml: "Karim_Benzema.html", position: "ST", age: 38, nationality: "France", fga: 96.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Francesco Totti", profileHtml: "Francesco_Totti.html", position: "AM", age: 49, nationality: "Italy", fga: 96.5, bestPhilosophy: "Spalletti (Modern)" },
            { name: "Fernando Redondo", profileHtml: "Fernando_Redondo.html", position: "DM", age: 59, nationality: "Argentina", fga: 96.1, bestPhilosophy: "Guardiola (Possession)" },
            { name: "Andr√©s Iniesta", player_id: 7600, image_url: "https://img.a.transfermarkt.technology/portrait/big/7600.jpg", profileHtml: "Andres_Iniesta.html", position: "CM", age: 41, nationality: "Spain", fga: 96.0, bestPhilosophy: "Guardiola Positional" },
            { name: "Carlos Alberto", profileHtml: "Carlos_Alberto.html", position: "FB", age: 81, nationality: "Brazil", fga: 96.0, bestPhilosophy: "Michels Total" },
            { name: "George Best", player_id: 29546, image_url: "https://img.a.transfermarkt.technology/portrait/big/29546.jpg", profileHtml: "George_Best.html", position: "ST", age: 79, nationality: "Northern Ireland", fga: 96.0, bestPhilosophy: "Menotti Artistry" },
            { name: "H√©ctor Scarone", profileHtml: "Hector_Scarone.html", position: "ST", age: 76, nationality: "Uruguay", fga: 96.0, bestPhilosophy: "Menotti Artistry" },
            { name: "Tom√°s Carlovich", profileHtml: "Tomas_Carlovich.html", position: "AM", age: 75, nationality: "Argentina", fga: 96.0, bestPhilosophy: "Riquelme-ism (Artist)" },
            { name: "Josef Bican", profileHtml: "Josef_Bican.html", position: "ST", age: 88, nationality: "Austria/Czech", fga: 96.0, bestPhilosophy: "Mourinho Tactical" },
            { name: "Giuseppe Meazza", profileHtml: "Giuseppe_Meazza.html", position: "ST", age: 69, nationality: "Italy", fga: 96.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Imre Schlosser", profileHtml: "Imre_Schlosser.html", position: "ST", age: 136, nationality: "Hungary", fga: 96.0, bestPhilosophy: "Guardiola Positional" },
            { name: "Gunnar Nordahl", profileHtml: "Gunnar_Nordahl.html", position: "ST", age: 104, nationality: "Sweden", fga: 96.0, bestPhilosophy: "Guardiola Positional" },
            { name: "Jan Oblak", profileHtml: "Jan_Oblak.html", position: "GK", age: 32, nationality: "Slovenia", fga: 96.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Philipp Lahm", profileHtml: "Philipp_Lahm.html", position: "DM", age: 42, nationality: "Germany", fga: 96.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Rio Ferdinand", profileHtml: "Rio_Ferdinand.html", position: "CB", age: 47, nationality: "England", fga: 95.8, bestPhilosophy: "Ferguson" },
            { name: "Rio Gavin Ferdinand", profileHtml: "Rio_Gavin_Ferdinand.html", position: "CM", age: 30, nationality: "Unknown", fga: 95.8, bestPhilosophy: "Ferguson Mental" },
            { name: "Thierry Henry", player_id: 3207, image_url: "https://img.a.transfermarkt.technology/portrait/big/3207.jpg", profileHtml: "Thierry_Henry.html", position: "ST", age: 48, nationality: "France", fga: 95.5, bestPhilosophy: "Wenger Development" },
            { name: "Roberto Baggio", profileHtml: "Roberto_Baggio.html", position: "ST", age: 58, nationality: "Italy", fga: 95.5, bestPhilosophy: "Platini Elegance" },
            { name: "Luka Modriƒá", player_id: 27992, image_url: "https://img.a.transfermarkt.technology/portrait/big/27992.jpg", profileHtml: "Luka_Modric.html", position: "CM", age: 40, nationality: "Croatia", fga: 95.5, bestPhilosophy: "Guardiola Positional" },
            { name: "Adolfo Pedernera", profileHtml: "Adolfo_Pedernera.html", position: "ST", age: 77, nationality: "Argentina", fga: 95.5, bestPhilosophy: "Michels Total Football" },
            { name: "Did√≠ (Waldyr Pereira)", profileHtml: "Didi.html", position: "CM", age: 73, nationality: "Brazil", fga: 95.5, bestPhilosophy: "Guardiola Positional" },
            { name: "Jos√© Manuel Moreno", profileHtml: "Jose_Manuel_Moreno.html", position: "ST", age: 62, nationality: "Argentina", fga: 95.5, bestPhilosophy: "Michels Total Football" },
            { name: "Daniel Passarella", profileHtml: "Daniel_Passarella.html", position: "CB", age: 72, nationality: "Argentina", fga: 95.5, bestPhilosophy: "Simeone Cholismo" },
            { name: "Sergio Busquets", profileHtml: "Sergio_Busquets.html", position: "DM", age: 37, nationality: "Spain", fga: 95.5, bestPhilosophy: "Guardiola Positional" },
            { name: "Fritz Walter", profileHtml: "Fritz_Walter.html", position: "ST", age: 82, nationality: "West Germany", fga: 95.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Ladislao Kubala", profileHtml: "Ladislao_Kubala.html", position: "ST", age: 75, nationality: "Hungary/Czech/Spain", fga: 95.5, bestPhilosophy: "Cruyff Intelligence" },
            { name: "Michael Laudrup", profileHtml: "Michael_Laudrup.html", position: "AM", age: 61, nationality: "Denmark", fga: 95.5, bestPhilosophy: "Guardiola Positional" },
            { name: "S√°ndor Kocsis", profileHtml: "Sandor_Kocsis.html", position: "ST", age: 50, nationality: "Hungary", fga: 95.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Steve Bloomer", profileHtml: "Steve_Bloomer.html", position: "ST", age: 151, nationality: "England", fga: 95.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Alessandro Nesta", profileHtml: "Alessandro_Nesta.html", position: "CM", age: 30, nationality: "Unknown", fga: 95.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Zlatan Ibrahimoviƒá", player_id: 3455, image_url: "https://img.a.transfermarkt.technology/portrait/big/3455.jpg", profileHtml: "Zlatan_Ibrahimovic.html", position: "ST", age: 44, nationality: "Sweden", fga: 95.0, bestPhilosophy: "Mourinho Tactical" },
            { name: "Kak√°", player_id: 3372, image_url: "https://img.a.transfermarkt.technology/portrait/big/3372.jpg", profileHtml: "Kaka.html", position: "AM", age: 43, nationality: "Brazil", fga: 95.0, bestPhilosophy: "Ancelotti Balance" },
            { name: "Mario Kempes", profileHtml: "Mario_Kempes.html", position: "ST", age: 71, nationality: "Argentina", fga: 95.0, bestPhilosophy: "Menotti Artistry" },
            { name: "Denis Law", profileHtml: "Denis_Law.html", position: "ST", age: 85, nationality: "Scotland", fga: 95.0, bestPhilosophy: "Fontaine Attack" },
            { name: "Arthur Friedenreich", profileHtml: "Arthur_Friedenreich.html", position: "ST", age: 77, nationality: "Brazil", fga: 95.0, bestPhilosophy: "Santana JogoBonito" },
            { name: "Juan Alberto Schiaffino", profileHtml: "Juan_Schiaffino.html", position: "ST", age: 77, nationality: "Uruguay", fga: 95.0, bestPhilosophy: "Cruyff Intelligence" },
            { name: "Le√¥nidas da Silva", profileHtml: "Leonidas.html", position: "ST", age: 91, nationality: "Brazil", fga: 95.0, bestPhilosophy: "Santana JogoBonito" },
            { name: "Zizinho", profileHtml: "Zizinho.html", position: "AM", age: 81, nationality: "Brazil", fga: 95.0, bestPhilosophy: "Michels Total Football" },
            { name: "Pedro Virgilio Rocha", profileHtml: "Pedro_Virgilio_Rocha.html", position: "ST", age: 71, nationality: "Uruguay", fga: 95.0, bestPhilosophy: "Menotti Artistry" },
            { name: "Ademir Marques Menezes", profileHtml: "Ademir_Marques.html", position: "ST", age: 74, nationality: "Brazil", fga: 95.0, bestPhilosophy: "Mourinho Tactical" },
            { name: "√Ångel Labruna", profileHtml: "Angel_Labruna.html", position: "ST", age: 65, nationality: "Argentina", fga: 95.0, bestPhilosophy: "Cruyff Intelligence" },
            { name: "Paulo Roberto Falc√£o", profileHtml: "Paulo_Falcao.html", position: "CM", age: 72, nationality: "Brazil", fga: 95.0, bestPhilosophy: "Guardiola Positional" },
            { name: "Domingos da Guia", profileHtml: "Domingos_Da_Guia.html", position: "CB", age: 88, nationality: "Brazil", fga: 95.0, bestPhilosophy: "Beckenbauer Libero" },
            { name: "Giacinto Facchetti", profileHtml: "Giacinto_Facchetti.html", position: "FB", age: 64, nationality: "Italy", fga: 95.0, bestPhilosophy: "Herrera Catenaccio" },
            { name: "Gianni Rivera", profileHtml: "Gianni_Rivera.html", position: "AM", age: 82, nationality: "Italy", fga: 95.0, bestPhilosophy: "Riquelme-ism (Artist)" },
            { name: "Matthias Sindelar", profileHtml: "Mathias_Sindelar.html", position: "ST", age: 36, nationality: "Austria", fga: 95.0, bestPhilosophy: "Guardiola Positional" },
            { name: "Silvio Piola", profileHtml: "Silvio_Piola.html", position: "ST", age: 83, nationality: "Italy", fga: 95.0, bestPhilosophy: "Mourinho Tactical" },
            { name: "Uwe Seeler", profileHtml: "Uwe_Seeler.html", position: "ST", age: 86, nationality: "West Germany", fga: 95.0, bestPhilosophy: "Simeone Cholismo" },
            { name: "Eduard Streltsov", profileHtml: "Eduard_Streltsov.html", position: "AM", age: 88, nationality: "Soviet Union", fga: 95.0, bestPhilosophy: "Guardiola Positional" },
            { name: "Luigi Riva", profileHtml: "Luigi_Riva.html", position: "ST", age: 81, nationality: "Italy", fga: 95.0, bestPhilosophy: "Guardiola Positional" },
            { name: "Just Fontaine", profileHtml: "Just_Fontaine.html", position: "ST", age: 92, nationality: "France", fga: 95.0, bestPhilosophy: "Guardiola Positional" },
            { name: "J√≥zsef Bozsik", profileHtml: "Joszef_Bozsik.html", position: "CM", age: 100, nationality: "Hungary", fga: 95.0, bestPhilosophy: "Guardiola Positional" },
            { name: "Manolo Sanch√≠s Hontiyuelo", profileHtml: "Manuel_Sanchis_Jr.html", position: "CB", age: 60, nationality: "Spain", fga: 95.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Xabi Alonso", profileHtml: "Xabi_Alonso.html", position: "CM", age: 43, nationality: "Spain", fga: 95.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Neymar Jr.", profileHtml: "Neymar_Jr.html", position: "WG", age: 33, nationality: "Brazil", fga: 94.5, bestPhilosophy: "Guardiola Positional" },
            { name: "George Weah", profileHtml: "George_Weah.html", position: "ST", age: 59, nationality: "Liberia", fga: 94.5, bestPhilosophy: "Sacchi Pressing" },
            { name: "Roberto Carlos", profileHtml: "Roberto_Carlos.html", position: "FB", age: 52, nationality: "Brazil", fga: 94.5, bestPhilosophy: "Zidane Elegance" },
            { name: "Lu√≠sito Su√°rez", profileHtml: "Luis_Suarez_Miramontes.html", position: "CM", age: 90, nationality: "Spain", fga: 94.5, bestPhilosophy: "Platini Elegance" },
            { name: "Sergio Ramos", player_id: 25557, image_url: "https://img.a.transfermarkt.technology/portrait/big/25557.jpg", profileHtml: "Sergio_Ramos.html", position: "CB", age: 39, nationality: "Spain", fga: 94.5, bestPhilosophy: "Ferguson Mental" },
            { name: "El√≠as Figueroa", profileHtml: "Elias_Figueroa.html", position: "CB", age: 79, nationality: "Chile", fga: 94.5, bestPhilosophy: "Beckenbauer Libero" },
            { name: "Alberto Spencer", profileHtml: "Alberto_Spencer.html", position: "ST", age: 69, nationality: "Ecuador", fga: 94.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Omar S√≠vori", profileHtml: "Omar_Sivori.html", position: "ST", age: 70, nationality: "Argentina/Italy", fga: 94.5, bestPhilosophy: "Menotti Artistry" },
            { name: "Tost√£o", profileHtml: "Tost√£o.html", position: "ST", age: 78, nationality: "Brazil", fga: 94.5, bestPhilosophy: "Guardiola Positional" },
            { name: "Pedro Cea", profileHtml: "Pedro_Cea.html", position: "ST", age: 70, nationality: "Uruguay", fga: 94.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Kevin Keegan", profileHtml: "Kevin_Keegan.html", position: "ST", age: 74, nationality: "England", fga: 94.5, bestPhilosophy: "Klopp Intensity" },
            { name: "Oleg Blokhin", profileHtml: "Oleg_Blokhin.html", position: "ST", age: 73, nationality: "Soviet Union/Ukraine", fga: 94.5, bestPhilosophy: "Mourinho Tactical" },
            { name: "Wayne Rooney", player_id: 3332, image_url: "https://img.a.transfermarkt.technology/portrait/big/3332.jpg", profileHtml: "Wayne_Rooney.html", position: "ST", age: 40, nationality: "England", fga: 94.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Lilian Thuram", profileHtml: "Lilian_Thuram.html", position: "CB", age: 53, nationality: "France", fga: 94.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Diego Simeone (Player)", profileHtml: "Diego_Simeone_Player.html", position: "CM", age: 30, nationality: "Unknown", fga: 94.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Fernando Morena", profileHtml: "Fernando_Morena.html", position: "CM", age: 30, nationality: "Unknown", fga: 94.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Hern√°n Jorge Crespo", profileHtml: "Hernan_Jorge_Crespo.html", position: "ST", age: 50, nationality: "Argentina", fga: 94.2, bestPhilosophy: "Sacchi (Italian)" },
            { name: "Samuel Eto'o", profileHtml: "Samuel_Etoo.html", position: "ST", age: 44, nationality: "Cameroon", fga: 94.0, bestPhilosophy: "Mourinho Tactical" },
            { name: "Cafu", profileHtml: "Cafu.html", position: "FB", age: 55, nationality: "Brazil", fga: 94.0, bestPhilosophy: "Michels Total" },
            { name: "Jimmy Greaves", profileHtml: "Jimmy_Greaves.html", position: "ST", age: 85, nationality: "England", fga: 94.0, bestPhilosophy: "Fontaine Attack" },
            { name: "Jos√© Nasazzi", profileHtml: "Jose_Nasazzi.html", position: "CB", age: 124, nationality: "Uruguay", fga: 94.0, bestPhilosophy: "Herrera Defensive" },
            { name: "Arsenio Erico", profileHtml: "Arsenio_Erico.html", position: "ST", age: 110, nationality: "Paraguay", fga: 94.0, bestPhilosophy: "Haaland Power" },
            { name: "Obdulio Varela", profileHtml: "Obdulio_Varela.html", position: "CM", age: 79, nationality: "Uruguay", fga: 94.0, bestPhilosophy: "Simeone Cholismo" },
            { name: "H√©ctor Chumpitaz", profileHtml: "Hector_Chumpitaz.html", position: "CB", age: 82, nationality: "Peru", fga: 94.0, bestPhilosophy: "Beckenbauer Libero" },
            { name: "Raimundo Orsi", profileHtml: "Raimundo_Orsi.html", position: "WG", age: 85, nationality: "Argentina/Italy", fga: 94.0, bestPhilosophy: "Menotti Artistry" },
            { name: "Josef Masopust", profileHtml: "Josef_Masopust.html", position: "AM", age: 84, nationality: "Czechoslovakia", fga: 94.0, bestPhilosophy: "Cruyff Intelligence" },
            { name: "Sandro Mazzola", profileHtml: "Sandro_Mazzola.html", position: "ST", age: 83, nationality: "Italy", fga: 94.0, bestPhilosophy: "Herrera Catenaccio" },
            { name: "Zbigniew Boniek", profileHtml: "Zbigniew_Boniek.html", position: "AM", age: 69, nationality: "Poland", fga: 94.0, bestPhilosophy: "Guardiola Positional" },
            { name: "Paul van Himst", profileHtml: "Paul_Van_Himst.html", position: "AM", age: 82, nationality: "Belgium", fga: 94.0, bestPhilosophy: "Guardiola Positional" },
            { name: "Ernst Ocwirk", profileHtml: "Ernst_Ocwirk.html", position: "CM", age: 99, nationality: "Austria", fga: 94.0, bestPhilosophy: "Guardiola Positional" },
            { name: "√Ångel Di Mar√≠a", profileHtml: "Angel_Di_Maria.html", position: "AM", age: 37, nationality: "Argentina", fga: 94.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Javier Zanetti", profileHtml: "Javier_Zanetti.html", position: "FB", age: 52, nationality: "Argentina", fga: 94.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Gonzalo Higua√≠n", profileHtml: "Gonzalo_Higuain.html", position: "ST", age: 38, nationality: "Argentina", fga: 94.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Paul McGrath", profileHtml: "Paul_Mc_Grath.html", position: "CM", age: 66, nationality: "Ireland", fga: 94.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Alexis Mac Allister", profileHtml: "Alexis_Mac_Allister.html", position: "CM", age: 26, nationality: "Argentina", fga: 94.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Gabriel Batistuta", profileHtml: "Gabriel_Batistuta.html", position: "ST", age: 56, nationality: "Argentina", fga: 93.8, bestPhilosophy: "Ferguson Mental" },
            { name: "Am√©rico Gallego", profileHtml: "Am√©rico_Gallego.html", position: "CM", age: 30, nationality: "Unknown", fga: 93.8, bestPhilosophy: "Ferguson Mental" },
            { name: "Didier Drogba", profileHtml: "Didier_Drogba.html", position: "ST", age: 47, nationality: "Ivory Coast", fga: 93.5, bestPhilosophy: "Mourinho Tactical" },
            { name: "Dino Zoff", player_id: 29400, image_url: "https://img.a.transfermarkt.technology/portrait/big/29400.jpg", profileHtml: "Dino_Zoff.html", position: "GK", age: 82, nationality: "Italy", fga: 93.5, bestPhilosophy: "Yashin Revolution" },
            { name: "Hugo S√°nchez", profileHtml: "Hugo_Sanchez.html", position: "ST", age: 67, nationality: "Mexico", fga: 93.5, bestPhilosophy: "Fontaine Attack" },
            { name: "Toni Kroos", player_id: 31909, image_url: "https://img.a.transfermarkt.technology/portrait/big/31909.jpg", profileHtml: "Toni_Kroos.html", position: "Central Midfielder", age: 35, nationality: "Germany", fga: 93.5, bestPhilosophy: "Guardiola Positional" },
            { name: "Ademir da Guia", profileHtml: "Ademir_Da_Guia.html", position: "AM", age: 83, nationality: "Brazil", fga: 93.5, bestPhilosophy: "Riquelme-ism (Artist)" },
            { name: "Manuel Amoros", profileHtml: "Manuel_Amoros.html", position: "FB", age: 63, nationality: "France", fga: 93.5, bestPhilosophy: "Michels Total" },
            { name: "Allan Simonsen", profileHtml: "Allan_Simonsen.html", position: "ST", age: 73, nationality: "Denmark", fga: 93.5, bestPhilosophy: "Guardiola Positional" },
            { name: "Trent Alexander-Arnold", profileHtml: "Trent_Alexander_Arnold.html", position: "FB", age: 27, nationality: "England", fga: 93.5, bestPhilosophy: "Platini Elegance" },
            { name: "Rodrigo Bentancur", profileHtml: "Rodrigo_Betancur.html", position: "CM", age: 28, nationality: "Uruguay", fga: 93.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Patrick Kluivert", player_id: 3485, image_url: "https://img.a.transfermarkt.technology/portrait/big/3485.jpg", profileHtml: "Patrick_Kluivert.html", position: "ST", age: 49, nationality: "Netherlands", fga: 93.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Filippo Inzaghi", profileHtml: "Filippo_Inzaghi.html", position: "ST", age: 30, nationality: "Unknown", fga: 93.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Freddy Rinc√≥n", profileHtml: "Freddy_Rincon.html", position: "CM", age: 58, nationality: "Colombia", fga: 93.2, bestPhilosophy: "Scolari (Brazilian)" },
            { name: "Yaya Tour√©", profileHtml: "Yaya_Toure.html", position: "CM", age: 42, nationality: "Ivory Coast", fga: 93.0, bestPhilosophy: "Guardiola Positional" },
            { name: "S√≥crates", profileHtml: "Socrates.html", position: "AM", age: 71, nationality: "Brazil", fga: 93.0, bestPhilosophy: "Platini Elegance" },
            { name: "Manuel Neuer", player_id: 17259, image_url: "https://img.a.transfermarkt.technology/portrait/big/17259.jpg", profileHtml: "Manuel_Neuer.html", position: "GK", age: 39, nationality: "Germany", fga: 93.0, bestPhilosophy: "Yashin Revolution" },
            { name: "Jamal Musiala", profileHtml: "Jamal_Musiala.html", position: "AM", age: 22, nationality: "Germany", fga: 93.0, bestPhilosophy: "Menotti Artistry" },
            { name: "Arjen Robben", player_id: 4360, image_url: "https://img.a.transfermarkt.technology/portrait/big/4360.jpg", profileHtml: "Arjen_Robben.html", position: "WG", age: 41, nationality: "Netherlands", fga: 93.0, bestPhilosophy: "Guardiola Positional" },
            { name: "Clarence Seedorf", profileHtml: "Clarence_Seedorf.html", position: "CM", age: 49, nationality: "Netherlands", fga: 93.0, bestPhilosophy: "Ancelotti Adaptation" },
            { name: "Roberto Rivellino", profileHtml: "Roberto_Rivellino.html", position: "AM", age: 79, nationality: "Brazil", fga: 93.0, bestPhilosophy: "Santana JogoBonito" },
            { name: "Leonel S√°nchez", profileHtml: "Leonel_Sanchez.html", position: "WG", age: 86, nationality: "Chile", fga: 93.0, bestPhilosophy: "Simeone Cholismo" },
            { name: "Luiz Pereira", profileHtml: "Luis_Pereira.html", position: "CB", age: 76, nationality: "Brazil", fga: 93.0, bestPhilosophy: "Beckenbauer Libero" },
            { name: "Marcelo Salas", profileHtml: "Marcelo_Salas.html", position: "ST", age: 51, nationality: "Chile", fga: 93.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Gueorgui Asparuhov", profileHtml: "Gueorgui_Asparuhov.html", position: "ST", age: 82, nationality: "Bulgaria", fga: 93.0, bestPhilosophy: "Guardiola Positional" },
            { name: "Deco", profileHtml: "Deco.html", position: "CM", age: 48, nationality: "Portugal", fga: 93.0, bestPhilosophy: "Mourinho Tactical" },
            { name: "Miroslav Klose", profileHtml: "Miroslav_Klose.html", position: "ST", age: 47, nationality: "Germany", fga: 93.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Arturo Vidal", profileHtml: "Arturo_Vidal.html", position: "CM", age: 38, nationality: "Chile", fga: 93.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Brian Laudrup", profileHtml: "Brian_Laudrup.html", position: "ST", age: 56, nationality: "Denmark", fga: 93.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Ollie Watkins", profileHtml: "Ollie_Watkins.html", position: "ST", age: 30, nationality: "England", fga: 93.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Nicol√≤ Barella", profileHtml: "Nicolo_Barrella.html", position: "CM", age: 28, nationality: "Italy", fga: 93.0, bestPhilosophy: "Klopp Intensity" },
            { name: "N√©stor Rossi", profileHtml: "Nestor_Rossi.html", position: "CM", age: 94, nationality: "Argentina", fga: 93.0, bestPhilosophy: "Simeone Cholismo" },
            { name: "M√≠chel Gonz√°lez", profileHtml: "Michel_Gonzalez.html", position: "CM", age: 62, nationality: "Spain", fga: 93.0, bestPhilosophy: "Guardiola Positional" },
            { name: "Carlos Bilardo", profileHtml: "Carlos_Bilardo.html", position: "CM", age: 86, nationality: "Argentina", fga: 92.5, bestPhilosophy: "Bilardo Pragmatism" },
            { name: "Frank Rijkaard", profileHtml: "Frank_Rijkaard.html", position: "DM", age: 63, nationality: "Netherlands", fga: 92.5, bestPhilosophy: "Michels Total" },
            { name: "Paolo Futre", profileHtml: "Paolo_Futre.html", position: "WG", age: 59, nationality: "Portugal", fga: 92.5, bestPhilosophy: "Menotti Artistry" },
            { name: "Edgar Davids", profileHtml: "Edgar_Davids.html", position: "CM", age: 52, nationality: "Netherlands", fga: 92.5, bestPhilosophy: "Simeone Cholismo" },
            { name: "Juan Rom√°n Riquelme", profileHtml: "Juan_Roman_Riquelme.html", position: "Attacking Midfielder", age: 47, nationality: "Argentina", fga: 92.5, bestPhilosophy: "Menotti Artistry" },
            { name: "Henrik Larsson", profileHtml: "Henrik_Larsson.html", position: "ST", age: 54, nationality: "Sweden", fga: 92.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Hugo de Le√≥n", profileHtml: "Hugo_De_Leon.html", position: "CB", age: 67, nationality: "Uruguay", fga: 92.5, bestPhilosophy: "Simeone Cholismo" },
            { name: "David De Gea", profileHtml: "David_De_Gea.html", position: "GK", age: 35, nationality: "Spain", fga: 92.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Alexis S√°nchez", profileHtml: "Alexis_Sanchez.html", position: "ST", age: 37, nationality: "Chile", fga: 92.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Glenn Hoddle", profileHtml: "Glenn_Hoddle.html", position: "CM", age: 68, nationality: "England", fga: 92.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Juan Manuel Asensi", profileHtml: "Juan_Manuel_Asensi.html", position: "CM", age: 76, nationality: "Spain", fga: 92.5, bestPhilosophy: "Guardiola Positional" },
            { name: "Emilio Butrague√±o", profileHtml: "Emilio_Butragueno.html", position: "ST", age: 62, nationality: "Spain", fga: 92.5, bestPhilosophy: "Cruyff Total Football" },
            { name: "Ram√≥n √Ångel D√≠az", profileHtml: "Ramon_Angel_Diaz.html", position: "ST", age: 66, nationality: "Argentina", fga: 92.3, bestPhilosophy: "Ferguson" },
            { name: "Alisson Becker", profileHtml: "Alisson_Becker.html", position: "GK", age: 33, nationality: "Brazil", fga: 92.1, bestPhilosophy: "Yashin Revolution" },
            { name: "Bruce Grobbelaar", profileHtml: "Bruce_Grobelaar.html", position: "GK", age: 68, nationality: "Zimbabwe", fga: 92.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Lu√≠s Figo", profileHtml: "Luis_Figo.html", position: "WG", age: 53, nationality: "Portugal", fga: 92.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Eric Cantona", profileHtml: "Eric_Cantona.html", position: "AM", age: 59, nationality: "France", fga: 92.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Bruno Guimar√£es", profileHtml: "Bruno_Guimaraes.html", position: "CM", age: 28, nationality: "Brazil", fga: 92.0, bestPhilosophy: "Guardiola Positional" },
            { name: "Matthias Sammer", profileHtml: "Matthias_Sammer.html", position: "Defender / Midfielder", age: 58, nationality: "Germany", fga: 92.0, bestPhilosophy: "Beckenbauer Libero" },
            { name: "Jari Litmanen", profileHtml: "Jari_Litmanen.html", position: "AM", age: 54, nationality: "Finland", fga: 92.0, bestPhilosophy: "Van Gaal System" },
            { name: "Rudi V√∂ller", profileHtml: "Rudi_Voller.html", position: "ST", age: 65, nationality: "Germany", fga: 92.0, bestPhilosophy: "Mourinho Tactical" },
            { name: "Luis Monti", profileHtml: "Luis_Monti.html", position: "CM", age: 82, nationality: "Argentina / Italy", fga: 92.0, bestPhilosophy: "Simeone Cholismo" },
            { name: "Artem Dovbyk", profileHtml: "Artem_Dovbyk.html", position: "ST", age: 28, nationality: "Ukraine", fga: 92.0, bestPhilosophy: "Mourinho Tactical" },
            { name: "Raheem Sterling", profileHtml: "Raheem_Sterling.html", position: "WG", age: 31, nationality: "England", fga: 92.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Maniche", profileHtml: "Maniche.html", position: "CM", age: 48, nationality: "Portugal", fga: 92.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Isabelino Gradin", profileHtml: "Isabelino_Gradin.html", position: "WG", age: 128, nationality: "Uruguay", fga: 92.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Fran Gonz√°lez", profileHtml: "Fran_Gonzalez.html", position: "CM", age: 56, nationality: "Spain", fga: 92.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Santiago Ca√±izares", profileHtml: "Santiago_Canizares.html", position: "GK", age: 55, nationality: "Spain", fga: 92.0, bestPhilosophy: "GK-Casillas Reflex" },
            { name: "Iv√°n de la Pe√±a", profileHtml: "Ivan_De_La_Pena.html", position: "CM", age: 49, nationality: "Spain", fga: 92.0, bestPhilosophy: "Guardiola Positional" },
            { name: "Paolo Guerrero", profileHtml: "Paolo_Guerrero.html", position: "ST", age: 41, nationality: "Peru", fga: 92.0, bestPhilosophy: "Mourinho Tactical" },
            { name: "Harry Kane", player_id: 132098, image_url: "https://img.a.transfermarkt.technology/portrait/big/132098.jpg", profileHtml: "Harry_Kane.html", position: "ST", age: 32, nationality: "England", fga: 91.8, bestPhilosophy: "Ferguson Mental" },
            { name: "Pavel Nedvƒõd", profileHtml: "Pavel_Nedved.html", position: "CM", age: 53, nationality: "Czech Republic", fga: 91.8, bestPhilosophy: "Sacchi Pressing" },
            { name: "James Rodr√≠guez", profileHtml: "James_Rodriguez.html", position: "AM", age: 34, nationality: "Colombia", fga: 91.5, bestPhilosophy: "Menotti Artistry" },
            { name: "Samuel Kuffour", profileHtml: "Samuel_Kuffour.html", position: "CB", age: 49, nationality: "Ghana", fga: 91.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Alan Shearer", profileHtml: "Alan_Shearer.html", position: "ST", age: 54, nationality: "England", fga: 91.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Jean Tigana", profileHtml: "Jean_Tigana.html", position: "CM", age: 70, nationality: "France", fga: 91.5, bestPhilosophy: "Platini Elegance" },
            { name: "Keylor Navas", profileHtml: "Keylor_Navas.html", position: "GK", age: 39, nationality: "Costa Rica", fga: 91.5, bestPhilosophy: "GK_Casillas_Reflex" },
            { name: "Xavi Simons", profileHtml: "Xavi_Simons.html", position: "AM", age: 22, nationality: "Netherlands", fga: 91.5, bestPhilosophy: "Cruyff Intelligence" },
            { name: "Michael Owen", profileHtml: "Michael_Owen.html", position: "ST", age: 45, nationality: "England", fga: 91.5, bestPhilosophy: "Robson English Soul" },
            { name: "Enzo Francescoli", profileHtml: "Enzo_Francescoli.html", position: "AM", age: 64, nationality: "Uruguay", fga: 91.5, bestPhilosophy: "Menotti Artistry" },
            { name: "Luis Cubilla", profileHtml: "Luis_Cubilla.html", position: "WG", age: 73, nationality: "Uruguay", fga: 91.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Luca Toni", profileHtml: "Luca_Toni.html", position: "ST", age: 48, nationality: "Italy", fga: 91.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Antonio Campolo", profileHtml: "Antonio_Campolo.html", position: "WG", age: 128, nationality: "Uruguay", fga: 91.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Jorge Valdano", profileHtml: "Jorge_Valdano.html", position: "ST", age: 70, nationality: "Argentina", fga: 91.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Marcus Thuram", profileHtml: "Marcus_Thuram.html", position: "WG", age: 28, nationality: "France", fga: 91.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Agust√≠n Aranz√°bal", profileHtml: "Agustin_Aranzabal.html", position: "CM", age: 52, nationality: "Spain", fga: 91.5, bestPhilosophy: "Michels Total" },
            { name: "Mauro Icardi", profileHtml: "Mauro_Icardi.html", position: "ST", age: 32, nationality: "Argentina", fga: 91.5, bestPhilosophy: "Mourinho Tactical" },
            { name: "Carlo Ancelotti (Player)", profileHtml: "Carlo_Ancelotti_Player.html", position: "CM", age: 30, nationality: "Unknown", fga: 91.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Iv√°n Zamorano", profileHtml: "Iv√°n_Zamorano.html", position: "ST", age: 58, nationality: "Chile", fga: 91.3, bestPhilosophy: "Ferguson Mental" },
            { name: "Mohamed Salah", player_id: 148455, image_url: "https://img.a.transfermarkt.technology/portrait/big/148455.jpg", profileHtml: "Mohamed_Salah.html", position: "ST", age: 33, nationality: "Egypt", fga: 91.2, bestPhilosophy: "Klopp Intensity" },
            { name: "Julio C√©sar Falcioni", profileHtml: "Julio_Falcioni.html", position: "GK", age: 69, nationality: "Argentina", fga: 91.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Faustino Asprilla", profileHtml: "Faustino_Asprilla.html", position: "ST", age: 55, nationality: "Colombia", fga: 91.0, bestPhilosophy: "Menotti Artistry" },
            { name: "Iv√°n C√≥rdoba", profileHtml: "Ivan_Cordoba.html", position: "CB", age: 49, nationality: "Colombia", fga: 91.0, bestPhilosophy: "Sacchi Pressing" },
            { name: "Edinson Cavani", profileHtml: "Edinson_Cavani.html", position: "ST", age: 38, nationality: "Uruguay", fga: 91.0, bestPhilosophy: "Simeone Cholismo" },
            { name: "Te√≥filo Cubillas", profileHtml: "Teofilo_Cubillas.html", position: "AM", age: 76, nationality: "Peru", fga: 91.0, bestPhilosophy: "Menotti Artistry" },
            { name: "Gary Lineker", profileHtml: "Gary_Lineker.html", position: "ST", age: 65, nationality: "England", fga: 91.0, bestPhilosophy: "Fontaine Attack" },
            { name: "Jimmy Floyd Hasselbaink", profileHtml: "Jimmy_Floyd_Hasselbaink.html", position: "ST", age: 53, nationality: "Netherlands (Born Suriname)", fga: 91.0, bestPhilosophy: "Fontaine Attack" },
            { name: "Finidi George", profileHtml: "George_Finidi.html", position: "WG", age: 54, nationality: "Nigeria", fga: 91.0, bestPhilosophy: "Van Gaal System" },
            { name: "Enzo Scifo", profileHtml: "Enzo_Scifo.html", position: "Attacking Midfielder", age: 59, nationality: "Belgium", fga: 91.0, bestPhilosophy: "Cruyff Intelligence" },
            { name: "Oscar Ruggeri", profileHtml: "Oscar_Ruggeri.html", position: "Centre-Back", age: 63, nationality: "Argentina", fga: 91.0, bestPhilosophy: "Bilardo Pragmatism" },
            { name: "Julio C√©sar Romero", profileHtml: "Julio_Cesar_Romero.html", position: "AM", age: 65, nationality: "Paraguay", fga: 91.0, bestPhilosophy: "Santana JogoBonito" },
            { name: "Francisco Varallo", profileHtml: "Francesco_Varallo.html", position: "ST", age: 100, nationality: "Argentina", fga: 91.0, bestPhilosophy: "Haaland Power" },
            { name: "Nelinho", profileHtml: "Nelinho.html", position: "FB", age: 75, nationality: "Brazil", fga: 91.0, bestPhilosophy: "Michels Total" },
            { name: "Morgan Gibbs-White", profileHtml: "Morgan_Gibbs_White.html", position: "CM", age: 25, nationality: "England", fga: 91.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Jim Montgomery", profileHtml: "Jim_Montgomery.html", position: "GK", age: 82, nationality: "England", fga: 91.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Manuel Sanch√≠s Mart√≠nez", profileHtml: "Manuel_Sanchis_Sr.html", position: "CB", age: 79, nationality: "Spain", fga: 91.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Nico Gonz√°lez", profileHtml: "Nico_Gonzalez.html", position: "CM", age: 23, nationality: "Spain", fga: 91.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Daniel Willington", profileHtml: "Daniel_Willington.html", position: "CM", age: 83, nationality: "Argentina", fga: 91.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Carmelo Cedr√∫n", profileHtml: "Carmelo_Cedrun.html", position: "GK", age: 94, nationality: "Spain", fga: 91.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Dunga", profileHtml: "Dunga.html", position: "DM", age: 61, nationality: "Brazil", fga: 91.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Marcos Llorente Moreno", profileHtml: "Marcos_Llorente.html", position: "CM", age: 30, nationality: "Spain", fga: 91.0, bestPhilosophy: "Simeone Cholismo" },
            { name: "Frenkie de Jong", profileHtml: "Frenkie_De_Jong.html", position: "CM", age: 28, nationality: "Netherlands", fga: 90.8, bestPhilosophy: "Cruyff Intelligence" },
            { name: "Ruud van Nistelrooy", player_id: 4469, image_url: "https://img.a.transfermarkt.technology/portrait/big/4469.jpg", profileHtml: "Ruud_van_Nistelrooy.html", position: "ST", age: 49, nationality: "Netherlands", fga: 90.8, bestPhilosophy: "Ferguson Mental" },
            { name: "Luis Carlos Perea", profileHtml: "Luis_Carlos_Perea.html", position: "CB", age: 61, nationality: "Colombia", fga: 90.5, bestPhilosophy: "Sacchi Pressing" },
            { name: "Carlos Peucelle", profileHtml: "Carlos_Peucelle.html", position: "WG", age: 117, nationality: "Argentina", fga: 90.5, bestPhilosophy: "Menotti Artistry" },
            { name: "Diego Forl√°n", profileHtml: "Diego_Forlan.html", position: "ST", age: 46, nationality: "Uruguay", fga: 90.5, bestPhilosophy: "Fontaine Attack" },
            { name: "Paul Gascoigne", profileHtml: "Paul_Gascoigne.html", position: "AM", age: 58, nationality: "England", fga: 90.5, bestPhilosophy: "Wenger Development" },
            { name: "Alphonso Davies", profileHtml: "Alphonso_Davies.html", position: "WG", age: 25, nationality: "Canada", fga: 90.5, bestPhilosophy: "Klopp Intensity" },
            { name: "Terry Butcher", profileHtml: "Terry_Butcher.html", position: "CB", age: 67, nationality: "England", fga: 90.5, bestPhilosophy: "Simeone Cholismo" },
            { name: "√Ålex Aguinaga", profileHtml: "Alex_Aguinaga.html", position: "AM", age: 57, nationality: "Ecuador", fga: 90.5, bestPhilosophy: "Cruyff Intelligence" },
            { name: "Willington Ortiz", profileHtml: "Willington_Ortiz.html", position: "ST", age: 73, nationality: "Colombia", fga: 90.5, bestPhilosophy: "Santana JogoBonito" },
            { name: "Walter Erviti", profileHtml: "Walter_Erviti.html", position: "CM", age: 45, nationality: "Argentina", fga: 90.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Jorge Valdivia", profileHtml: "Jorge_Valdivia.html", position: "CM", age: 42, nationality: "Chile", fga: 90.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Andoni Cedr√∫n", profileHtml: "Andoni_Cedrun.html", position: "GK", age: 65, nationality: "Spain", fga: 90.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Jefferson Farf√°n", profileHtml: "Jefferson_Farfan.html", position: "CM", age: 40, nationality: "Peru", fga: 90.5, bestPhilosophy: "Klopp Gegenpress" },
            { name: "Lautaro Mart√≠nez", profileHtml: "Lautaro_Martinez.html", position: "ST", age: 28, nationality: "Argentina", fga: 90.3, bestPhilosophy: "Simeone Cholismo" },
            { name: "Ian Wright", profileHtml: "Ian_Wright.html", position: "ST", age: 62, nationality: "England", fga: 90.2, bestPhilosophy: "Fontaine Attack" },
            { name: "Ren√© Higuita", profileHtml: "Rene_Higuita.html", position: "GK", age: 59, nationality: "Colombia", fga: 90.0, bestPhilosophy: "Yashin Revolution" },
            { name: "Lamine Yamal", profileHtml: "Lamine_Yamal.html", position: "WG", age: 18, nationality: "Spain", fga: 90.0, bestPhilosophy: "Guardiola Positional" },
            { name: "Jay-Jay Okocha", profileHtml: "Augustine_Okocha.html", position: "AM", age: 52, nationality: "Nigeria", fga: 90.0, bestPhilosophy: "Menotti Artistry" },
            { name: "Geremi Njitap", profileHtml: "Geremi_Njitap.html", position: "CM", age: 47, nationality: "Cameroon", fga: 90.0, bestPhilosophy: "Mourinho Tactical" },
            { name: "Antonio Valencia", profileHtml: "Antonio_Valencia.html", position: "WG", age: 40, nationality: "Ecuador", fga: 90.0, bestPhilosophy: "Mourinho Tactical" },
            { name: "Carlos Valderrama", profileHtml: "Carlos_Valderrama.html", position: "AM", age: 64, nationality: "Colombia", fga: 90.0, bestPhilosophy: "Cruyff Intelligence" },
            { name: "Federico Higua√≠n", profileHtml: "Federico_Higuain.html", position: "CM", age: 41, nationality: "Argentina", fga: 90.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Periko Alonso", profileHtml: "Periko_Alonso.html", position: "CM", age: 72, nationality: "Spain", fga: 90.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Kh√©phren Thuram", profileHtml: "Kephren_Thuram.html", position: "CM", age: 24, nationality: "France", fga: 90.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Ricardo Infante", profileHtml: "Ricardo_Infante.html", position: "ST", age: 97, nationality: "Argentina", fga: 90.0, bestPhilosophy: "Haaland Power" },
            { name: "Kolo Tour√©", profileHtml: "Kolo_Toure.html", position: "CB", age: 44, nationality: "Ivory Coast", fga: 90.0, bestPhilosophy: "Simeone Cholismo" },
            { name: "Rafael Mart√≠n V√°zquez", profileHtml: "Rafael_Martin_Vazquez.html", position: "CM", age: 60, nationality: "Spain", fga: 90.0, bestPhilosophy: "Cruyff Total Football" },
            { name: "Gabriel Magalh√£es", profileHtml: "Gabriel_Magalhaes.html", position: "CB", age: 28, nationality: "Brazil", fga: 89.7, bestPhilosophy: "Sacchi Pressing" },
            { name: "Cole Palmer", profileHtml: "Cole_Palmer.html", position: "AM", age: 22, nationality: "England", fga: 89.5, bestPhilosophy: "Guardiola Positional" },
            { name: "Igor Dobrovolski", profileHtml: "Igor_Dobrovolski.html", position: "AM", age: 58, nationality: "Soviet Union/Ukraine", fga: 89.5, bestPhilosophy: "Lobanovskyi Scientific" },
            { name: "Jared Borgetti", profileHtml: "Jared_Borgetti.html", position: "ST", age: 52, nationality: "Mexico", fga: 89.5, bestPhilosophy: "Robson English Soul" },
            { name: "Edgardo Bauza", profileHtml: "Edgardo_Bauza.html", position: "CB", age: 67, nationality: "Argentina", fga: 89.5, bestPhilosophy: "Bilardo Pragmatism" },
            { name: "Alexander S√∏rloth", profileHtml: "Alexander_Sorloth.html", position: "Striker", age: 30, nationality: "Norway", fga: 89.5, bestPhilosophy: "Haaland Power" },
            { name: "Adolfo Nef", profileHtml: "Adolfo_Nef.html", position: "Goalkeeper", age: 80, nationality: "Chile", fga: 89.5, bestPhilosophy: "Buffon Presence" },
            { name: "Philippe Vercruysse", profileHtml: "Philippe_Vercruysse.html", position: "AM", age: 63, nationality: "France", fga: 89.5, bestPhilosophy: "Menotti Artistry" },
            { name: "Michael Manniche", profileHtml: "Michael_Manniche.html", position: "ST", age: 66, nationality: "Denmark", fga: 89.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Alex Cropley", profileHtml: "Alex_Cropley.html", position: "CM", age: 74, nationality: "Scotland", fga: 89.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Bukayo Saka", profileHtml: "Bukayo_Saka.html", position: "WG", age: 24, nationality: "England", fga: 89.1, bestPhilosophy: "Guardiola Positional" },
            { name: "Fredy Montero", profileHtml: "Fredy_Montero.html", position: "ST", age: 38, nationality: "Colombia", fga: 89.0, bestPhilosophy: "Santana JogoBonito" },
            { name: "V√≠ctor Aristiz√°bal", profileHtml: "Victor_Aristizabal.html", position: "ST", age: 53, nationality: "Colombia", fga: 89.0, bestPhilosophy: "Santana JogoBonito" },
            { name: "Arnoldo Iguar√°n", profileHtml: "Arnoldo_Iguaran.html", position: "ST", age: 68, nationality: "Colombia", fga: 89.0, bestPhilosophy: "Menotti Artistry" },
            { name: "Adolfo Valencia", profileHtml: "Adolfo_Valencia.html", position: "ST", age: 57, nationality: "Colombia", fga: 89.0, bestPhilosophy: "Fontaine Attack" },
            { name: "Carlos Bacca", profileHtml: "Carlos_Bacca.html", position: "ST", age: 39, nationality: "Colombia", fga: 89.0, bestPhilosophy: "Fontaine Attack" },
            { name: "Leonel √Ålvarez", profileHtml: "Leonel_Alvarez.html", position: "DM", age: 60, nationality: "Colombia", fga: 89.0, bestPhilosophy: "Bilardo Pragmatism" },
            { name: "Juan Arango", profileHtml: "Juan_Arango.html", position: "AM", age: 45, nationality: "Venezuela", fga: 89.0, bestPhilosophy: "Platini Elegance" },
            { name: "Jonathan David", profileHtml: "Jonathan_David.html", position: "ST", age: 25, nationality: "Canada", fga: 89.0, bestPhilosophy: "Klopp Intensity" },
            { name: "Rog√©rio Ceni", profileHtml: "Rogerio_Ceni.html", position: "GK", age: 52, nationality: "Brazil", fga: 89.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Claudio Ubeda", profileHtml: "Claudio_Ubeda.html", position: "CB", age: 56, nationality: "Argentina", fga: 89.0, bestPhilosophy: "Simeone Cholismo" },
            { name: "Roberto Chery", profileHtml: "Roberto_Chery.html", position: "GK", age: 129, nationality: "Uruguay", fga: 89.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Venancio Ramos", profileHtml: "Venancio_Ramos.html", position: "ST", age: 66, nationality: "Uruguay", fga: 89.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Carlos Mu√±oz Mart√≠nez", profileHtml: "Carlos_Munoz_Martinez.html", position: "ST", age: 61, nationality: "Ecuador", fga: 89.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Justin Kluivert", profileHtml: "Justin_Kluivert.html", position: "CM", age: 26, nationality: "Netherlands", fga: 89.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Kevin Mac Allister", profileHtml: "Kevin_Mac_Allister.html", position: "CB", age: 28, nationality: "Argentina", fga: 89.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Claudio Borghi", profileHtml: "Claudio_Borghi.html", position: "AM", age: 61, nationality: "Argentina", fga: 89.0, bestPhilosophy: "Menotti Artistry" },
            { name: "Luis Milla Aspas", profileHtml: "Luis_Milla_Sr.html", position: "CM", age: 59, nationality: "Spain", fga: 89.0, bestPhilosophy: "Guardiola Positional" },
            { name: "Andreas M√∂ller", profileHtml: "Andreas_Moller.html", position: "AM", age: 58, nationality: "Germany", fga: 88.7, bestPhilosophy: "Menotti Artistry" },
            { name: "Ram√≥n Ismael Medina Bello", profileHtml: "Ramon_Ismael_Medina_Bello.html", position: "ST", age: 59, nationality: "Argentina", fga: 88.7, bestPhilosophy: "Ferguson" },
            { name: "Carlos Estrada", profileHtml: "Carlos_Estrada.html", position: "CM", age: 64, nationality: "Colombia", fga: 88.6, bestPhilosophy: "Maturana Structure" },
            { name: "Lu√≠s Su√°rez", profileHtml: "Luis_Suarez.html", position: "ST", age: 38, nationality: "Uruguay", fga: 88.5, bestPhilosophy: "Fontaine Attack" },
            { name: "Ricardo Gareca", profileHtml: "Ricardo_Gareca.html", position: "ST", age: 67, nationality: "Argentina", fga: 88.5, bestPhilosophy: "Menotti Artistry" },
            { name: "Hugo Gottardi", profileHtml: "Hugo_Gottardi.html", position: "ST", age: 72, nationality: "Argentina", fga: 88.5, bestPhilosophy: "Bilardo Pragmatism" },
            { name: "G√∏ran S√∏rloth", profileHtml: "Goran_Sorloth.html", position: "Striker", age: 63, nationality: "Norway", fga: 88.5, bestPhilosophy: "Lewandowski Finisher" },
            { name: "Mario Vanemerak", profileHtml: "Mario_Vanemerak.html", position: "CM", age: 62, nationality: "Argentina", fga: 88.5, bestPhilosophy: "Simeone Cholismo" },
            { name: "Juvenal Olmos", profileHtml: "Juvenal_Olmos.html", position: "CM", age: 63, nationality: "Chile", fga: 88.5, bestPhilosophy: "Menotti Artistry" },
            { name: "Facundo Pellistri", profileHtml: "Facundo_Pellistri.html", position: "WG", age: 24, nationality: "Uruguay", fga: 88.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Francesco Antonioli", profileHtml: "Francesco_Antonioli.html", position: "GK", age: 55, nationality: "Italy", fga: 88.5, bestPhilosophy: "Capello (Italian)" },
            { name: "Marcus Rashford", profileHtml: "Marcus_Rashford.html", position: "ST", age: 28, nationality: "England", fga: 88.4, bestPhilosophy: "Klopp Intensity" },
            { name: "√Ålvaro Dom√≠nguez", profileHtml: "Alvaro_Dominguez.html", position: "CM", age: 44, nationality: "Colombia", fga: 88.0, bestPhilosophy: "Menotti Artistry" },
            { name: "Bernardo Red√≠n", profileHtml: "Bernardo_Redin.html", position: "AM", age: 62, nationality: "Colombia", fga: 88.0, bestPhilosophy: "Platini Elegance" },
            { name: "Daniel Mu√±oz", profileHtml: "Daniel_Munoz.html", position: "FB", age: 29, nationality: "Colombia", fga: 88.0, bestPhilosophy: "Klopp Intensity" },
            { name: "Jhon Jairo Tr√©llez", profileHtml: "Jhon_Trellez.html", position: "ST", age: 57, nationality: "Colombia", fga: 88.0, bestPhilosophy: "Fontaine Attack" },
            { name: "Endrick", profileHtml: "Endrick.html", position: "ST", age: 19, nationality: "Brazil", fga: 88.0, bestPhilosophy: "Santana JogoBonito" },
            { name: "Macnelly Torres", profileHtml: "McNelly_Torres.html", position: "AM", age: 41, nationality: "Colombia", fga: 88.0, bestPhilosophy: "Platini Elegance" },
            { name: "Kalusha Bwalya", profileHtml: "Kalusha_Bwalya.html", position: "AM", age: 62, nationality: "Zambia", fga: 88.0, bestPhilosophy: "Menotti Artistry" },
            { name: "Luis Suazo", profileHtml: "Luis_Gabriel_Suazo.html", position: "WG", age: 17, nationality: "Honduras", fga: 88.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Juan Riquelme Angulo", profileHtml: "Juan_Riquelme_Angulo.html", position: "ST", age: 17, nationality: "Ecuador", fga: 88.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Ariel Krasouski", profileHtml: "Ariel_Krasouski.html", position: "CM", age: 69, nationality: "Uruguay", fga: 88.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Carlos Mac Allister", profileHtml: "Carlos_Mac_Allister.html", position: "CB", age: 57, nationality: "Argentina", fga: 88.0, bestPhilosophy: "Ferguson Mental" },
            { name: "J√©r√©my G√©lin", profileHtml: "Jeremy_Gelin.html", position: "CM", age: 28, nationality: "France", fga: 88.0, bestPhilosophy: "Sacchi Pressing" },
            { name: "Mikel Alonso", profileHtml: "Mikel_Alonso.html", position: "CM", age: 45, nationality: "Spain", fga: 88.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Ruben Kluivert", profileHtml: "Ruben_Kluivert.html", position: "CB", age: 24, nationality: "Netherlands", fga: 88.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Miguel √Ångel Russo", profileHtml: "Miguel_Angel_Russo.html", position: "DM", age: 68, nationality: "Argentina", fga: 88.0, bestPhilosophy: "Simeone Cholismo" },
            { name: "Aleksandr Borodyuk", profileHtml: "Aleksandr_Borodyuk.html", position: "AM", age: 63, nationality: "Soviet Union/Russia", fga: 87.5, bestPhilosophy: "Lobanovskyi Scientific" },
            { name: "M√°gico Gonz√°lez", profileHtml: "Jorge_Gonzalez_Barillas.html", position: "ST", age: 67, nationality: "El Salvador", fga: 87.5, bestPhilosophy: "Menotti Artistry" },
            { name: "Stefan Bajcetic", profileHtml: "Stefan_Bajcetic.html", position: "DM", age: 21, nationality: "Spain", fga: 87.5, bestPhilosophy: "Platini Elegance" },
            { name: "Saba Kharebashvili", profileHtml: "Saba_Kharebashvili.html", position: "CM", age: 17, nationality: "Georgia", fga: 87.5, bestPhilosophy: "Sacchi Pressing" },
            { name: "Finn Laudrup", profileHtml: "Finn_Laudrup.html", position: "ST", age: 80, nationality: "Denmark", fga: 87.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Adri√°n Gonz√°lez", profileHtml: "Adrian_Gonzalez.html", position: "CM", age: 37, nationality: "Spain", fga: 87.5, bestPhilosophy: "Guardiola Positional" },
            { name: "Quique √Ålvarez Sanju√°n", profileHtml: "Quique_Alvarez_Sanjuan.html", position: "CB", age: 50, nationality: "Spain", fga: 87.5, bestPhilosophy: "Guardiola Positional" },
            { name: "Jorge Otero", profileHtml: "Jorge_Otero.html", position: "FB", age: 56, nationality: "Spain", fga: 87.2, bestPhilosophy: "Clemente" },
            { name: "Mart√≠n Arzuaga", profileHtml: "Martin_Arzuaga.html", position: "ST", age: 44, nationality: "Colombia", fga: 87.0, bestPhilosophy: "Santana JogoBonito" },
            { name: "Giovanni Moreno", profileHtml: "Giovanni_Moreno.html", position: "AM", age: 39, nationality: "Colombia", fga: 87.0, bestPhilosophy: "Menotti Artistry" },
            { name: "Jhon C√≥rdoba", profileHtml: "Jhon_Cordoba.html", position: "ST", age: 32, nationality: "Colombia", fga: 87.0, bestPhilosophy: "Simeone Cholismo" },
            { name: "Paulo Silas", profileHtml: "Paulo_Silas.html", position: "CM", age: 60, nationality: "Brazil", fga: 87.0, bestPhilosophy: "Santana JogoBonito" },
            { name: "Bryan Ruiz", profileHtml: "Bryan_Ruiz.html", position: "AM", age: 40, nationality: "Costa Rica", fga: 87.0, bestPhilosophy: "Menotti Artistry" },
            { name: "Fernando Kanapkis", profileHtml: "Fernando_Kanapkis.html", position: "CB", age: 59, nationality: "Uruguay", fga: 87.0, bestPhilosophy: "Guardiola Positional" },
            { name: "Otto Tiittinen", profileHtml: "Otto_Tiittinen.html", position: "CM", age: 17, nationality: "Finland", fga: 87.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Pierino Lattuada", profileHtml: "Pierino_Lattuada.html", position: "ST", age: 75, nationality: "Uruguay", fga: 87.0, bestPhilosophy: "Menotti Artistry" },
            { name: "Shane Kluivert", profileHtml: "Shane_Kluivert.html", position: "WG", age: 18, nationality: "Netherlands", fga: 87.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Enrique √Ålvarez Costas", profileHtml: "Quique_Costas.html", position: "CM", age: 78, nationality: "Spain", fga: 87.0, bestPhilosophy: "Mourinho Tactical" },
            { name: "Roberto Palacios", profileHtml: "Roberto_Palacios.html", position: "CM", age: 52, nationality: "Peru", fga: 87.0, bestPhilosophy: "Menotti Artistry" },
            { name: "Benjamin ≈†e≈°ko", profileHtml: "Benjamin_Sesko.html", position: "ST", age: 22, nationality: "Slovenia", fga: 86.9, bestPhilosophy: "DeVisser Global" },
            { name: "Giovanni Reyna", profileHtml: "Giovanni_Reyna.html", position: "AM", age: 23, nationality: "United States", fga: 86.7, bestPhilosophy: "Guardiola Positional" },
            { name: "Rob de Wit", profileHtml: "Rob_De_Wit.html", position: "WG", age: 61, nationality: "Netherlands", fga: 86.5, bestPhilosophy: "Cruyff Intelligence" },
            { name: "Carmelo Valencia", profileHtml: "Carmelo_Valencia.html", position: "ST", age: 41, nationality: "Colombia", fga: 86.5, bestPhilosophy: "Fontaine Attack" },
            { name: "Ryan Gravenberch", profileHtml: "Ryan_Gravenberch.html", position: "CM", age: 23, nationality: "Netherlands", fga: 86.5, bestPhilosophy: "Cruyff Intelligence" },
            { name: "Rodrigo Mora", profileHtml: "Rodrigo_Mora.html", position: "Striker / Winger", age: 38, nationality: "Uruguay", fga: 86.5, bestPhilosophy: "Klopp Intensity" },
            { name: "Ali Dembele", profileHtml: "Ali_Dembele.html", position: "FB", age: 21, nationality: "France", fga: 86.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Alexis Vossah", profileHtml: "Alexis_Vossah.html", position: "CM", age: 17, nationality: "France", fga: 86.5, bestPhilosophy: "Mourinho Tactical" },
            { name: "Iv√°n de la Pe√±a Asensi", profileHtml: "Ivan_De_La_Pena_Asensi.html", position: "CM", age: 18, nationality: "Spain", fga: 86.5, bestPhilosophy: "Guardiola Positional" },
            { name: "Miguel Pardeza", profileHtml: "Miguel_Pardeza.html", position: "ST", age: 60, nationality: "Spain", fga: 86.5, bestPhilosophy: "Simeone Cholismo" },
            { name: "Wilfred Agbonavbare", profileHtml: "Wilfred_Agbonavbare.html", position: "GK", age: 59, nationality: "Nigeria", fga: 86.5, bestPhilosophy: "Camacho" },
            { name: "Ivo Basay", profileHtml: "Ivo_Basay.html", position: "ST", age: 59, nationality: "Chile", fga: 86.2, bestPhilosophy: "Ferguson Mental" },
            { name: "Castello Lukeba", profileHtml: "Castello_Lukeba.html", position: "CB", age: 23, nationality: "France", fga: 86.1, bestPhilosophy: "Guardiola Positional" },
            { name: "Roberto Rojas", profileHtml: "Roberto_Rojas.html", position: "GK", age: 68, nationality: "Chile", fga: 86.0, bestPhilosophy: "Yashin Revolution" },
            { name: "Jhon Arias", profileHtml: "Jhon_Arias.html", position: "WG", age: 28, nationality: "Colombia", fga: 86.0, bestPhilosophy: "Menotti Artistry" },
            { name: "Giovanny Hern√°ndez", profileHtml: "Giovanny_Hernandez.html", position: "AM", age: 49, nationality: "Colombia", fga: 86.0, bestPhilosophy: "Platini Elegance" },
            { name: "Julinho", profileHtml: "Julinho.html", position: "WG", age: 60, nationality: "Brazil / Peru", fga: 86.0, bestPhilosophy: "Menotti Artistry" },
            { name: "J√©r√©my Doku", profileHtml: "Jeremy_Doku.html", position: "Winger", age: 23, nationality: "Belgium", fga: 86.0, bestPhilosophy: "Bielsa Intensity" },
            { name: "Freddy Grisales", profileHtml: "Freddy_Grisales.html", position: "CM", age: 50, nationality: "Colombia", fga: 86.0, bestPhilosophy: "Simeone Cholismo" },
            { name: "Oleksandr Piscsur", profileHtml: "Oleksandr_Pyshcsur.html", position: "ST", age: 44, nationality: "Ukraine", fga: 86.0, bestPhilosophy: "Mourinho Tactical" },
            { name: "Jacob Amb√¶k", profileHtml: "Jacob_Ambaek.html", position: "ST", age: 17, nationality: "Denmark", fga: 86.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Pablo Alfaro", profileHtml: "Pablo_Alfaro.html", position: "CB", age: 56, nationality: "Spain", fga: 85.9, bestPhilosophy: "Caparr√≥s" },
            { name: "Aaron Ramsey", profileHtml: "Aaron_Ramsey.html", position: "CM", age: 34, nationality: "Wales", fga: 85.8, bestPhilosophy: "Guardiola Positional" },
            { name: "Gilberto Yearwood", profileHtml: "Gilberto_Yearwood.html", position: "CM", age: 69, nationality: "Honduras", fga: 85.8, bestPhilosophy: "Beckenbauer Libero" },
            { name: "Johan Bakayoko", profileHtml: "Johan_Bakayoko.html", position: "WG", age: 22, nationality: "Belgium", fga: 85.7, bestPhilosophy: "Klopp Intensity" },
            { name: "Peter Ndlovu", profileHtml: "Peter_Ndlovu.html", position: "WG", age: 52, nationality: "Zimbabwe", fga: 85.5, bestPhilosophy: "Klopp Intensity" },
            { name: "Samuel Chukwueze", profileHtml: "Samuel_Chukwueze.html", position: "WG", age: 26, nationality: "Nigeria", fga: 85.4, bestPhilosophy: "Guardiola Positional" },
            { name: "Walter Montillo", profileHtml: "Walter_Montillo.html", position: "AM", age: 41, nationality: "Argentina", fga: 85.2, bestPhilosophy: "Menotti Artistry" },
            { name: "Sergio Angulo", profileHtml: "Sergio_Angulo.html", position: "ST", age: 65, nationality: "Colombia", fga: 85.0, bestPhilosophy: "Fontaine Attack" },
            { name: "V√≠ctor Bonilla", profileHtml: "Victor_Bonilla.html", position: "ST", age: 54, nationality: "Colombia", fga: 85.0, bestPhilosophy: "Fontaine Attack" },
            { name: "Carlos Ruiz", profileHtml: "Carlos_Ruiz_Gutierrez.html", position: "ST", age: 46, nationality: "Guatemala", fga: 85.0, bestPhilosophy: "Fontaine Attack" },
            { name: "Tressor Moreno", profileHtml: "Tressor_Moreno.html", position: "AM", age: 46, nationality: "Colombia", fga: 85.0, bestPhilosophy: "Menotti Artistry" },
            { name: "Maarten Vandevoordt", profileHtml: "Maarten_Vandevoordt.html", position: "GK", age: 23, nationality: "Belgium", fga: 84.7, bestPhilosophy: "Yashin Revolution" },
            { name: "Abdul Fatawu Issahaku", profileHtml: "Abdul_Issahaku.html", position: "WG", age: 21, nationality: "Ghana", fga: 84.7, bestPhilosophy: "Guardiola Positional" },
            { name: "Santiago Londo√±o", profileHtml: "Santiago_Londo√±o.html", position: "ST", age: 17, nationality: "Colombia", fga: 84.5, bestPhilosophy: "Wenger Development" },
            { name: "Jefferson Savarino", profileHtml: "Jefferson_Savarino.html", position: "CM", age: 29, nationality: "Venezuela", fga: 84.5, bestPhilosophy: "Santana JogoBonito" },
            { name: "Maxime de Cuyper", profileHtml: "Maxime_De_Cuyper.html", position: "FB", age: 24, nationality: "Belgium", fga: 84.5, bestPhilosophy: "Sacchi Pressing" },
            { name: "Giovanni Rocotelli", profileHtml: "Giovanni_Rocotelli.html", position: "WG", age: 73, nationality: "Italy", fga: 84.5, bestPhilosophy: "Menotti Artistry" },
            { name: "Luis Milla Manzanares", profileHtml: "Luis_Milla_Jr.html", position: "CM", age: 31, nationality: "Spain", fga: 84.5, bestPhilosophy: "Guardiola Positional" },
            { name: "Ezechiel Banzuzi", profileHtml: "Ezechiel_Banzuzi.html", position: "CM", age: 20, nationality: "Netherlands", fga: 84.3, bestPhilosophy: "DeVisser Global" },
            { name: "Sergio Z√°rate", profileHtml: "Sergio_Zarate.html", position: "AM", age: 56, nationality: "Argentina", fga: 84.2, bestPhilosophy: "Menotti Artistry" },
            { name: "Claudio Scalise", profileHtml: "Claudio_Scalise.html", position: "ST", age: 63, nationality: "Argentina", fga: 84.2, bestPhilosophy: "Menotti Artistry" },
            { name: "Christoph Baumgartner", profileHtml: "Christoph_Baumgartner.html", position: "CM", age: 30, nationality: "Austria", fga: 84.2, bestPhilosophy: "Nagelsmann Evolution" },
            { name: "Jorge Carrascal", profileHtml: "Jorge_Carrascal.html", position: "AM", age: 27, nationality: "Colombia", fga: 84.1, bestPhilosophy: "Menotti Artistry" },
            { name: "Jozy Altidore", profileHtml: "Jozy_Altidore.html", position: "ST", age: 36, nationality: "USA", fga: 84.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Roberto Pe√±aloza", profileHtml: "Roberto_Penaloza.html", position: "CB", age: 46, nationality: "Colombia", fga: 84.0, bestPhilosophy: "Sacchi Pressing" },
            { name: "Kendry P√°ez", profileHtml: "Kendry_Paez.html", position: "AM", age: 18, nationality: "Ecuador", fga: 84.0, bestPhilosophy: "Wenger Development" },
            { name: "Johan Mojica", profileHtml: "Johan_Mojica.html", position: "FB", age: 33, nationality: "Colombia", fga: 84.0, bestPhilosophy: "Klopp Intensity" },
            { name: "V√≠ctor Ibarbo", profileHtml: "Victor_Ibarbo.html", position: "ST", age: 35, nationality: "Colombia", fga: 84.0, bestPhilosophy: "Klopp Intensity" },
            { name: "Agust√≠n Rossi", profileHtml: "Agustin_Rossi.html", position: "GK", age: 30, nationality: "Argentina", fga: 84.0, bestPhilosophy: "Yashin Revolution" },
            { name: "Salom√≥n Rond√≥n", profileHtml: "Salomon_Rondon.html", position: "ST", age: 36, nationality: "Venezuela", fga: 84.0, bestPhilosophy: "Robson English Soul" },
            { name: "Sebasti√°n Abreu", profileHtml: "Sebastian_Abreu.html", position: "ST", age: 49, nationality: "Uruguay", fga: 84.0, bestPhilosophy: "Bianchi Passion" },
            { name: "David Crespo Zurita", profileHtml: "David_Crespo_Zurita.html", position: "FB", age: 30, nationality: "Spain", fga: 84.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Julio Llorente Gento", profileHtml: "Julio_Llorente.html", position: "CB", age: 59, nationality: "Spain", fga: 84.0, bestPhilosophy: "Mourinho Tactical" },
            { name: "Faryd Mondrag√≥n", profileHtml: "Faryd_Mondragon.html", position: "GK", age: 53, nationality: "Colombia", fga: 83.7, bestPhilosophy: "Yashin Revolution" },
            { name: "Nicolas Seiwald", profileHtml: "Nicolas_Seiwald.html", position: "CM", age: 24, nationality: "Austria", fga: 83.6, bestPhilosophy: "Heynckes Efficiency" },
            { name: "Juan Carlos Higuita", profileHtml: "Juan_Carlos_Higuita.html", position: "DM", age: 26, nationality: "Colombia", fga: 83.5, bestPhilosophy: "Guardiola Positional" },
            { name: "Peter Wynhoff", profileHtml: "Peter_Wynhoff.html", position: "CM", age: 57, nationality: "Germany", fga: 83.5, bestPhilosophy: "Simeone Cholismo" },
            { name: "Giovanni Simeone", profileHtml: "Giovanni_Simeone.html", position: "ST", age: 29, nationality: "Argentina", fga: 83.5, bestPhilosophy: "Simeone (Cholismo)" },
            { name: "Carlos Ischia (Player)", profileHtml: "Carlos_Ischia_Player.html", position: "CM", age: 30, nationality: "Unknown", fga: 83.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Nicol√°s Benedetti", profileHtml: "Nicolas_Benedetti.html", position: "AM", age: 28, nationality: "Colombia", fga: 83.2, bestPhilosophy: "Menotti Artistry" },
            { name: "Yaser Asprilla", profileHtml: "Yaser_Asprilla.html", position: "WG", age: 21, nationality: "Colombia", fga: 83.0, bestPhilosophy: "Menotti Artistry" },
            { name: "Mart√≠n Morel", profileHtml: "Martin_Morel.html", position: "AM", age: 44, nationality: "Argentina", fga: 83.0, bestPhilosophy: "Menotti Artistry" },
            { name: "Frank Yallop", profileHtml: "Frank_Yallop.html", position: "CB", age: 61, nationality: "Canada", fga: 83.0, bestPhilosophy: "Herrera Catenaccio" },
            { name: "Vladimir Mar√≠n", profileHtml: "Vladimir_Marin.html", position: "FB", age: 46, nationality: "Colombia", fga: 83.0, bestPhilosophy: "Santana Joga Bonito" },
            { name: "Antonio Nusa", profileHtml: "Antonio_Nusa.html", position: "WG", age: 20, nationality: "Norway", fga: 82.9, bestPhilosophy: "Bielsa Intensity" },
            { name: "Damir Ceter", profileHtml: "Damir_Ceter.html", position: "ST", age: 24, nationality: "Slovenia", fga: 82.8, bestPhilosophy: "Klopp Intensity" },
            { name: "Jos√© Caldera", profileHtml: "Jose_Caldera.html", position: "CB", age: 23, nationality: "Colombia", fga: 82.5, bestPhilosophy: "Sacchi Pressing" },
            { name: "Rafael Dudamel", profileHtml: "Rafael_Dudamel.html", position: "GK", age: 52, nationality: "Venezuela", fga: 82.5, bestPhilosophy: "GK_Kahn_Intensity" },
            { name: "Marcelo Saralegui", profileHtml: "Marcelo_Saralegui.html", position: "AM", age: 54, nationality: "Uruguay", fga: 82.5, bestPhilosophy: "Second Striker" },
            { name: "N√©stor Gorosito", profileHtml: "Nestor_Gorosito.html", position: "AM", age: 60, nationality: "Argentina", fga: 82.4, bestPhilosophy: "Menotti Artistry" },
            { name: "Uwe Kamps", profileHtml: "Uwe_Kamps.html", position: "GK", age: 61, nationality: "Germany", fga: 82.3, bestPhilosophy: "Beckenbauer Libero" },
            { name: "Carlos Henao", profileHtml: "Carlos_Henao.html", position: "CB", age: 36, nationality: "Colombia", fga: 82.0, bestPhilosophy: "Sacchi Pressing" },
            { name: "Vinnie Jones", profileHtml: "Vinnie_Jones.html", position: "DM", age: 60, nationality: "Wales", fga: 82.0, bestPhilosophy: "Simeone Cholismo" },
            { name: "Josha Vagnoman", profileHtml: "Joshua_Vangoman.html", position: "WG", age: 25, nationality: "Germany", fga: 82.0, bestPhilosophy: "Klopp Intensity" },
            { name: "Julio Gento L√≥pez", profileHtml: "Julio_Gento.html", position: "ST", age: 30, nationality: "Spain", fga: 82.0, bestPhilosophy: "Ferguson Mental" },
            { name: "√ìscar √Ålvarez Sanju√°n", profileHtml: "Oscar_Alvarez_Sanjuan.html", position: "CB", age: 48, nationality: "Spain", fga: 82.0, bestPhilosophy: "Mourinho Tactical" },
            { name: "Nimetigna Sacko", profileHtml: "Nimetigna_Sacko.html", position: "ST", age: 30, nationality: "Unknown", fga: 82.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Albeiro Usuriaga", profileHtml: "Albeiro_Usuriaga.html", position: "ST", age: 30, nationality: "Colombia", fga: 81.7, bestPhilosophy: "Menotti Artistry" },
            { name: "Santiago Londo√±o Ruiz", profileHtml: "Santiago_Londo√±o_Ruiz.html", position: "GK", age: 30, nationality: "Colombia", fga: 81.0, bestPhilosophy: "GK-Casillas Reflex" },
            { name: "Deiber Caicedo", profileHtml: "Deiber_Caicedo.html", position: "WG", age: 25, nationality: "Colombia", fga: 81.0, bestPhilosophy: "Klopp Intensity" },
            { name: "Jeisson Lucum√≠", profileHtml: "Jeisson_Lucumi.html", position: "WG", age: 30, nationality: "Colombia", fga: 81.0, bestPhilosophy: "Klopp Intensity" },
            { name: "Joaqu√≠n Boghossian", profileHtml: "Joaquin_Boghossian.html", position: "ST", age: 38, nationality: "Uruguay", fga: 81.0, bestPhilosophy: "Simeone Cholismo" },
            { name: "Oscar Craiyacich", profileHtml: "Oscar_Craiyacich.html", position: "CB", age: 77, nationality: "Argentina", fga: 81.0, bestPhilosophy: "Herrera Catenaccio" },
            { name: "Ignacio Russo", profileHtml: "Ignacio_Russo.html", position: "ST", age: 24, nationality: "Argentina", fga: 81.0, bestPhilosophy: "Fontaine Attack" },
            { name: "Yan Diomande", profileHtml: "Yan_Diomande.html", position: "WG", age: 19, nationality: "Ivory Coast", fga: 80.8, bestPhilosophy: "Bielsa Intensity" },
            { name: "Axel Bamba", profileHtml: "Axel_Bamba.html", position: "CB", age: 26, nationality: "Ivory Coast", fga: 80.5, bestPhilosophy: "Klopp Intensity" },
            { name: "Benedikt Pichler", profileHtml: "Benedikt_Pichler.html", position: "ST", age: 28, nationality: "Austria", fga: 80.3, bestPhilosophy: "Klopp Intensity" },
            { name: "Myron Boadu", profileHtml: "Myron_Boadu.html", position: "ST", age: 24, nationality: "Netherlands", fga: 80.2, bestPhilosophy: "DeVisser Global" },
            { name: "Juli√°n de la Cuesta", profileHtml: "Julian_De_La_Cuesta.html", position: "CB", age: 42, nationality: "Colombia", fga: 80.0, bestPhilosophy: "Cruyff Intelligence" },
            { name: "Lucas Bergvall", profileHtml: "Lucas_Bergvall.html", position: "CM", age: 19, nationality: "Sweden", fga: 79.5, bestPhilosophy: "Guardiola Positional" },
            { name: "Marco Antonio Cat√™", profileHtml: "Marco_Antonio_Cate.html", position: "ST", age: 52, nationality: "Brazil", fga: 79.5, bestPhilosophy: "Santana JogoBonito" },
            { name: "Jacob Bruun Larsen", profileHtml: "Jacob_Bruunlarsen.html", position: "CM", age: 27, nationality: "Denmark", fga: 79.2, bestPhilosophy: "Platini Elegance" },
            { name: "D√©sir√© Dou√©", profileHtml: "Desire_Doue.html", position: "AM", age: 20, nationality: "France", fga: 79.0, bestPhilosophy: "Wenger Development" },
            { name: "Dean Huijsen", profileHtml: "Dean_Huijsen.html", position: "CB", age: 20, nationality: "Spain / Netherlands", fga: 79.0, bestPhilosophy: "Cruyff Intelligence" },
            { name: "Roberto Guizasola", profileHtml: "Roberto_Guizasola.html", position: "FB", age: 40, nationality: "Peru", fga: 79.0, bestPhilosophy: "Ancelotti Adaptation" },
            { name: "Franco Fag√∫ndez", profileHtml: "Franco_Fagundez.html", position: "AM", age: 25, nationality: "Uruguay", fga: 78.8, bestPhilosophy: "Menotti Artistry" },
            { name: "Neider Morantes", profileHtml: "Neider_Morantes.html", position: "CM", age: 30, nationality: "Colombia", fga: 78.5, bestPhilosophy: "Guardiola Positional" },
            { name: "Nico Paz", profileHtml: "Nico_Paz.html", position: "AM", age: 21, nationality: "Argentina / Spain", fga: 78.5, bestPhilosophy: "Guardiola Positional" },
            { name: "Leny Yoro", profileHtml: "Leny_Yoro.html", position: "CB", age: 20, nationality: "France", fga: 78.5, bestPhilosophy: "Guardiola Positional" },
            { name: "Telasco Segovia", profileHtml: "Telasco_Segovia.html", position: "CM", age: 22, nationality: "Venezuela", fga: 78.5, bestPhilosophy: "Guardiola Positional" },
            { name: "Shuto Machino", profileHtml: "Shuto_Machino.html", position: "ST", age: 26, nationality: "Japan", fga: 78.5, bestPhilosophy: "Klopp Intensity" },
            { name: "Archie Gray", profileHtml: "Archie_Gray.html", position: "FB", age: 19, nationality: "England", fga: 78.0, bestPhilosophy: "Guardiola Positional" },
            { name: "Caden Clark", profileHtml: "Caden_Clark.html", position: "AM", age: 22, nationality: "United States", fga: 78.0, bestPhilosophy: "Menotti Artistry" },
            { name: "Nishan Burkart", profileHtml: "Nishan_Burkart.html", position: "ST", age: 25, nationality: "Switzerland", fga: 78.0, bestPhilosophy: "Klopp Intensity" },
            { name: "Malte Pahlsson", profileHtml: "Malte_Pahlsson.html", position: "GK", age: 26, nationality: "Sweden", fga: 78.0, bestPhilosophy: "Yashin Revolution" },
            { name: "Nathan Harriel", profileHtml: "Nathan_Harriel.html", position: "FB", age: 24, nationality: "USA", fga: 77.5, bestPhilosophy: "Simeone Cholismo" },
            { name: "Samuel Mbangula", profileHtml: "Samuel_Mbangula.html", position: "WG", age: 21, nationality: "Belgium / Congo DR", fga: 77.0, bestPhilosophy: "Wenger Development" },
            { name: "Ibrahim Tour√©", profileHtml: "Ibrahim_Toure.html", position: "ST", age: 30, nationality: "Ivory Coast", fga: 77.0, bestPhilosophy: "Mourinho Tactical" },
            { name: "An√≠bal Chal√†", profileHtml: "Anibal_Chala.html", position: "FB", age: 29, nationality: "Ecuador", fga: 76.5, bestPhilosophy: "Klopp Intensity" },
            { name: "Ronnie Radford", profileHtml: "Ronnie_Radford.html", position: "CM", age: 82, nationality: "England", fga: 76.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Abdukodir Khusanov", profileHtml: "Abdukodir_Khusanov.html", position: "CB", age: 21, nationality: "Uzbekistan", fga: 76.5, bestPhilosophy: "Sacchi Pressing" },
            { name: "Ibrahim Mbaye", profileHtml: "Ibrahim_Mbaye.html", position: "ST", age: 17, nationality: "France", fga: 76.5, bestPhilosophy: "Wenger Development" },
            { name: "Lucas Ca√±izares", profileHtml: "Lucas_Canizares.html", position: "GK", age: 23, nationality: "Spain", fga: 76.5, bestPhilosophy: "Wenger Development" },
            { name: "Franco Mastantuono", profileHtml: "Franco_Mastantuono.html", position: "AM", age: 18, nationality: "Argentina / Italy", fga: 76.0, bestPhilosophy: "Menotti Artistry" },
            { name: "Pedro Fern√°ndez (Dro)", profileHtml: "Dro_Fernandez.html", position: "CM", age: 17, nationality: "Spain", fga: 76.0, bestPhilosophy: "Guardiola Positional" },
            { name: "Luca Williams Barnett", profileHtml: "Luca_Williams_Barnett.html", position: "CM", age: 17, nationality: "England", fga: 76.0, bestPhilosophy: "Guardiola Positional" },
            { name: "Momodou Sarr", profileHtml: "Momodou_Sarr.html", position: "ST", age: 25, nationality: "Gambia", fga: 76.0, bestPhilosophy: "Mourinho Tactical" },
            { name: "Toni Fern√°ndez", profileHtml: "Toni_Fernandez.html", position: "ST", age: 17, nationality: "Spain", fga: 75.5, bestPhilosophy: "Guardiola Positional" },
            { name: "Honest Ahanor", profileHtml: "Honest_Anahor.html", position: "CB", age: 17, nationality: "Italy", fga: 75.5, bestPhilosophy: "Sacchi Pressing" },
            { name: "Rio Ngumoha", profileHtml: "Rio_Ngumoha.html", position: "WG", age: 17, nationality: "England", fga: 75.0, bestPhilosophy: "Klopp Intensity" },
            { name: "Lennart Karl", profileHtml: "Lennart_Karl.html", position: "CM", age: 17, nationality: "Germany", fga: 75.0, bestPhilosophy: "Guardiola Positional" },
            { name: "Francesco Camarda", profileHtml: "Francesco_Camarda.html", position: "ST", age: 17, nationality: "Italy", fga: 75.0, bestPhilosophy: "Sacchi Pressing" },
            { name: "Djylian N'Guessan", profileHtml: "Djylian_Nguessan.html", position: "WG", age: 17, nationality: "France", fga: 74.8, bestPhilosophy: "Wenger Development" },
            { name: "Conrad Harder", profileHtml: "Conrad_Harder.html", position: "ST", age: 30, nationality: "Denmark", fga: 74.8, bestPhilosophy: "Klopp Intensity" },
            { name: "Gorak Ghale", profileHtml: "Gorak_Ghale.html", position: "CM", age: 16, nationality: "Belgium", fga: 74.5, bestPhilosophy: "Cruyff Intelligence" },
            { name: "Ethan Nwaneri", profileHtml: "Ethan_Nwaneri.html", position: "AM", age: 18, nationality: "England", fga: 74.5, bestPhilosophy: "Wenger Development" },
            { name: "Federico Steffanoni", profileHtml: "Federico_Steffanoni.html", position: "CM", age: 17, nationality: "Italy", fga: 74.5, bestPhilosophy: "Guardiola Positional" },
            { name: "Brian Madjo", profileHtml: "Brian_Madjo.html", position: "ST", age: 16, nationality: "England", fga: 74.5, bestPhilosophy: "Wenger Development" },
            { name: "Harry Howell", profileHtml: "Harry_Howell.html", position: "CM", age: 17, nationality: "England", fga: 74.5, bestPhilosophy: "Guardiola Positional" },
            { name: "Gilberto Mora", profileHtml: "Gilberto_Mora.html", position: "AM", age: 17, nationality: "Mexico", fga: 74.5, bestPhilosophy: "Menotti Artistry" },
            { name: "Jorthy Mokio", profileHtml: "Jorthy_Mokio.html", position: "CB", age: 17, nationality: "Belgium", fga: 74.5, bestPhilosophy: "Cruyff Intelligence" },
            { name: "Geovany Quenda", profileHtml: "Geovany_Quenda.html", position: "Winger (RW/LW)", age: 18, nationality: "Portugal / Guinea-Bissau", fga: 74.5, bestPhilosophy: "Menotti Artistry" },
            { name: "Ayyoub Bouaddi", profileHtml: "Ayyoub_Bouaddi.html", position: "CM", age: 18, nationality: "France / Morocco", fga: 74.0, bestPhilosophy: "Guardiola Positional" },
            { name: "Wisdom Mike", profileHtml: "Wisdom_Mike.html", position: "WG", age: 17, nationality: "Germany", fga: 74.0, bestPhilosophy: "Klopp Intensity" },
            { name: "Abdoulaye Camara", profileHtml: "Abdoulaye_Camara.html", position: "CM", age: 17, nationality: "France", fga: 74.0, bestPhilosophy: "Wenger Development" },
            { name: "Thom√°s de Martis", profileHtml: "Thomas_De_Martis.html", position: "ST", age: 17, nationality: "Argentina", fga: 74.0, bestPhilosophy: "Menotti Artistry" },
            { name: "Gabriel Mec", profileHtml: "Gabriel_Mec.html", position: "ST", age: 17, nationality: "Brazil", fga: 74.0, bestPhilosophy: "Santana Joga Bonito" },
            { name: "Dwight Merrick", profileHtml: "Dwight_Merrick.html", position: "ST", age: 22, nationality: "Jamaica", fga: 74.0, bestPhilosophy: "Klopp Intensity" },
            { name: "Jordan Barrera", profileHtml: "Jordan_Barrera.html", position: "AM", age: 19, nationality: "Colombia", fga: 73.8, bestPhilosophy: "Menotti Artistry" },
            { name: "Hugo Camberos", profileHtml: "Hugo_Camberos.html", position: "WG", age: 18, nationality: "Mexico / USA", fga: 73.8, bestPhilosophy: "Wenger Development" },
            { name: "Iker Fimbres", profileHtml: "Iker_Fimbres.html", position: "AM", age: 20, nationality: "Mexico", fga: 73.5, bestPhilosophy: "Wenger Development" },
            { name: "Ilyas Benktib", profileHtml: "Ilyas_Benktib.html", position: "AM", age: 15, nationality: "Belgium", fga: 73.5, bestPhilosophy: "Guardiola Positional" },
            { name: "Filip Bundgaard", profileHtml: "Filip_Bundgaard.html", position: "AM", age: 21, nationality: "Denmark", fga: 73.5, bestPhilosophy: "Wenger Development" },
            { name: "Facinet Cont√©", profileHtml: "Fanicet_Conte.html", position: "ST", age: 20, nationality: "Guinea", fga: 73.5, bestPhilosophy: "Klopp Intensity" },
            { name: "Rudy Matondo", profileHtml: "Rudy_Matondo.html", position: "CM", age: 17, nationality: "France", fga: 73.5, bestPhilosophy: "Wenger Development" },
            { name: "Mathis Jangeal", profileHtml: "Mathis_Jangeal.html", position: "CM", age: 17, nationality: "France", fga: 73.5, bestPhilosophy: "Wenger Development" },
            { name: "Max Dowman", profileHtml: "Max_Bowman.html", position: "CM", age: 16, nationality: "England", fga: 73.5, bestPhilosophy: "Wenger Development" },
            { name: "Wassim Slama", profileHtml: "Wissam_Slama.html", position: "CM", age: 17, nationality: "Tunisia", fga: 73.5, bestPhilosophy: "Guardiola Positional" },
            { name: "Haine Eames", profileHtml: "Haine_Eames.html", position: "CM", age: 17, nationality: "Australia", fga: 73.5, bestPhilosophy: "Wenger Development" },
            { name: "Kaloyan Bozhkov", profileHtml: "Kaloyan_Bozhkov.html", position: "DM", age: 17, nationality: "Bulgaria", fga: 73.5, bestPhilosophy: "Guardiola Positional" },
            { name: "Kau√£ Prates", profileHtml: "Kaua_Prates.html", position: "FB", age: 17, nationality: "Brazil", fga: 73.5, bestPhilosophy: "Santana Joga Bonito" },
            { name: "Jayden Onia Seke", profileHtml: "Jayden_Onia_Seke.html", position: "WG", age: 15, nationality: "Belgium", fga: 73.0, bestPhilosophy: "Wenger Development" },
            { name: "Dennis Seimen", profileHtml: "Dennis_Seimen.html", position: "GK", age: 20, nationality: "Germany", fga: 73.0, bestPhilosophy: "Yashin Revolution" },
            { name: "Matteo Palma", profileHtml: "Matteo_Palma.html", position: "CB", age: 17, nationality: "Germany", fga: 73.0, bestPhilosophy: "Guardiola Positional" },
            { name: "Maxima Goffi", profileHtml: "Maxima_Goffi.html", position: "CB", age: 17, nationality: "France", fga: 73.0, bestPhilosophy: "Wenger Development" },
            { name: "Eba Bekir Is", profileHtml: "Eba_Bekir_is.html", position: "CM", age: 17, nationality: "Germany", fga: 73.0, bestPhilosophy: "Guardiola Positional" },
            { name: "Bianneider Tamayo", profileHtml: "Bianneider_Tamayo.html", position: "CB", age: 20, nationality: "Venezuela", fga: 73.0, bestPhilosophy: "Simeone Cholismo" },
            { name: "Angelo Candido", profileHtml: "Angelo_Candido.html", position: "FB", age: 17, nationality: "Brazil", fga: 73.0, bestPhilosophy: "Mourinho Warfare" },
            { name: "Nathan De Cat", profileHtml: "Nathan_De_Cat.html", position: "AM", age: 17, nationality: "Belgium", fga: 73.0, bestPhilosophy: "Guardiola Positional" },
            { name: "Gassimou Sylla", profileHtml: "Gassimou_Sylla.html", position: "ST", age: 17, nationality: "Belgium", fga: 72.8, bestPhilosophy: "Fontaine Attack" },
            { name: "Gabriel Biladi", profileHtml: "Gabriel_Biladi.html", position: "WG", age: 15, nationality: "Belgium", fga: 72.5, bestPhilosophy: "Wenger Development" },
            { name: "Damion Downs", profileHtml: "Damion_Downs.html", position: "ST", age: 21, nationality: "USA / Germany", fga: 72.5, bestPhilosophy: "Klopp Intensity" },
            { name: "Roberto Scaglione", profileHtml: "Roberto_Scaglione.html", position: "CM", age: 15, nationality: "Italy", fga: 72.5, bestPhilosophy: "Guardiola Positional" },
            { name: "Frankie Westfield", profileHtml: "Frankie_Westfield.html", position: "FB", age: 19, nationality: "USA", fga: 72.0, bestPhilosophy: "Guardiola Positional" },
            { name: "Nacho Ferri", profileHtml: "Nacho_Ferri.html", position: "ST", age: 21, nationality: "Spain", fga: 72.0, bestPhilosophy: "Simeone Cholismo" },
            { name: "Mat√≠as Satas", profileHtml: "Matias_Satas.html", position: "CB", age: 17, nationality: "Argentina", fga: 72.0, bestPhilosophy: "Bianchi Passion" },
            { name: "Alessio Marcaccini", profileHtml: "Alessio_Marcaccini.html", position: "GK", age: 17, nationality: "Italy", fga: 71.5, bestPhilosophy: "Yashin Revolution" },
            { name: "Mattis Seghers", profileHtml: "Mattis_Seghers.html", position: "GK", age: 15, nationality: "Belgium", fga: 71.0, bestPhilosophy: "Yashin Revolution" },
            { name: "Stephan Zagadou", profileHtml: "Stephan_Zagadou.html", position: "CB", age: 17, nationality: "France", fga: 71.0, bestPhilosophy: "Sacchi Pressing" },
            { name: "Amine Chiakha", profileHtml: "Amin_Chiakha.html", position: "ST", age: 19, nationality: "Denmark", fga: 70.5, bestPhilosophy: "Fontaine Attack" },
            { name: "Alessandro Milani", profileHtml: "Alessandro_Milani.html", position: "FB", age: 20, nationality: "Venezuela / Italy", fga: 70.5, bestPhilosophy: "Wenger Development" },
            { name: "Leon Jakirovic", profileHtml: "Leon_Jakirovic.html", position: "Centre-Back", age: 17, nationality: "Croatia / Bosnia", fga: 70.5, bestPhilosophy: "Guardiola Positional" },
            { name: "Wei Xiangxin", profileHtml: "Wei_Xiangxin.html", position: "Striker", age: 17, nationality: "China", fga: 70.0, bestPhilosophy: "Lewandowski Finisher" },
            { name: "Riku Gunji", profileHtml: "Riku_Gunji.html", position: "ST", age: 20, nationality: "Japan", fga: 69.5, bestPhilosophy: "Fontaine Attack" },
            { name: "Stiven Valencia", profileHtml: "Stiven_Valencia.html", position: "CB", age: 25, nationality: "Colombia", fga: 68.5, bestPhilosophy: "Herrera Catenaccio" },
            { name: "Antone Bossenberry", profileHtml: "Antone_Bossenberry.html", position: "Attacking Midfielder", age: 16, nationality: "USA / Canada", fga: 68.5, bestPhilosophy: "Menotti Artistry" },
            { name: "Yoann Beaka", profileHtml: "Yoann_Beaka.html", position: "ST", age: 22, nationality: "France", fga: 68.0, bestPhilosophy: "Fontaine Attack" },
            { name: "Asilbek Aliev", profileHtml: "Asilbek_Aliev.html", position: "ST", age: 16, nationality: "Uzbekistan", fga: 68.0, bestPhilosophy: "Fontaine Attack" },
            { name: "Sofian Domoraud", profileHtml: "Sofian_Domoraud.html", position: "ST", age: 29, nationality: "France", fga: 68.0, bestPhilosophy: "Fontaine Attack" },
            { name: "Roberth Pati√±o", profileHtml: "Roberth_Pati√±o.html", position: "WG", age: 20, nationality: "Venezuela", fga: 68.0, bestPhilosophy: "Fontaine Attack" },
            { name: "Julian Eyestone", profileHtml: "Julian_Eyestone.html", position: "GK", age: 19, nationality: "USA / Germany", fga: 67.5, bestPhilosophy: "Yashin Revolution" },
            { name: "Dominique Moubeke", profileHtml: "Dominique_Moubeke.html", position: "CM", age: 20, nationality: "Cameroon", fga: 67.0, bestPhilosophy: "Guardiola Positional" },
            { name: "Zinedine Zidane Bedoya", profileHtml: "Zidane_Bedoya.html", position: "AM", age: 25, nationality: "Colombia", fga: 67.0, bestPhilosophy: "Platini Elegance" },
            { name: "Neymar Uribe", profileHtml: "Neymar_Uribe.html", position: "CB", age: 21, nationality: "Colombia", fga: 66.0, bestPhilosophy: "Sacchi Pressing" },
            { name: "Oleksandr Piscsur (Pyshchur)", profileHtml: "Oleksandr_Piscsur.html", position: "ST", age: 20, nationality: "Ukraine", fga: 66.0, bestPhilosophy: "Mourinho Tactical" },
            { name: "Royer Caicedo", profileHtml: "Royer_Caicedo.html", position: "CB", age: 19, nationality: "Colombia", fga: 64.0, bestPhilosophy: "Wenger Development" },
            { name: "Rayan Jerbi", profileHtml: "Rayane_Jerbi.html", position: "CB", age: 19, nationality: "Tunisia", fga: 64.0, bestPhilosophy: "Guardiola Positional" },
            { name: "Emil Weihe Joensen", profileHtml: "Emil_Weihe_Joensen.html", position: "CM", age: 22, nationality: "Faroe Islands", fga: 64.0, bestPhilosophy: "Guardiola Positional" },
            { name: "Facundo Sosa", profileHtml: "Facundo_Sosa.html", position: "ST", age: 22, nationality: "Uruguay", fga: 63.0, bestPhilosophy: "Simeone Cholismo" },
            { name: "Juan Rojas", profileHtml: "Juan_Rojas.html", position: "GK", age: 17, nationality: "USA / Venezuela", fga: 63.0, bestPhilosophy: "Wenger Development" },
            { name: "Jimmy Kenyi", profileHtml: "Jimmy_Kenyi.html", position: "CM", age: 23, nationality: "Norway", fga: 61.0, bestPhilosophy: "Simeone Cholismo" },
            { name: "Walid Abdelali", profileHtml: "Walid_Abdelali.html", position: "CM", age: 32, nationality: "France", fga: 60.0, bestPhilosophy: "Guardiola Positional" },
            { name: "Malek Adrar", profileHtml: "Malek_Adrar.html", position: "CM", age: 21, nationality: "France/Morocco", fga: 60.0, bestPhilosophy: "Santana JogoBonito" },
            { name: "Filipe Aguiar", profileHtml: "Filipe_Aguiar.html", position: "ST", age: 26, nationality: "Portugal", fga: 58.5, bestPhilosophy: "Menotti Artistry" },
            { name: "Hannes Hunziker", profileHtml: "Hannes_Hunziker.html", position: "CM", age: 30, nationality: "Switzerland", fga: 58.0, bestPhilosophy: "Klopp Intensity" },
            { name: "Jeppe Cassim", profileHtml: "Jeppe_Cassim.html", position: "GK", age: 22, nationality: "Norway", fga: 58.0, bestPhilosophy: "Guardiola Positional" },
            { name: "Ram√≥n Ismael Medina Bello 'El Mencho'", profileHtml: "Ram√≥n_Ismael_Medina_Bello_El_Mencho.html", position: "CM", age: 30, nationality: "Unknown", fga: 8.9, bestPhilosophy: "Ferguson Mental" },
            { name: "Diego da Silva", profileHtml: "Diego_da_Silva.html", position: "ST", age: 30, nationality: "Unknown", fga: 7.6, bestPhilosophy: "Ferguson Mental" },

            // === NEW PLAYERS (Dec 1, 2025) ===
    { name: "Momodou Sarr", profileHtml: "Momodou_Sarr.html", position: "ST", age: 25, nationality: "Finland/Gambia", fga: 78.5, bestPhilosophy: "Inzaghi Poacher", agent: "Nasir Gray", agentCompany: "Evolve Management", currentClub: "Inter Turku" },
    { name: "Sanel Saljic", profileHtml: "Sanel_Saljic.html", position: "CM", age: 22, nationality: "Bosnia-Herzegovina", fga: 76.2, bestPhilosophy: "Guardiola Positional", currentClub: "Unknown" },
    { name: "Julian Kania", profileHtml: "Julian_Kania.html", position: "CM", age: 21, nationality: "Germany", fga: 75.8, bestPhilosophy: "Klopp Intensity", currentClub: "Unknown" },
    { name: "Iron Gomis", profileHtml: "Iron_Gomis.html", position: "ST", age: 28, nationality: "France/Senegal", fga: 82.3, bestPhilosophy: "Fontaine Attack", currentClub: "Serie A (Italy)" },
    { name: "James McConnell", profileHtml: "James_Mc_Connell.html", position: "CM", age: 20, nationality: "England", fga: 77.8, bestPhilosophy: "Ferguson Mental", currentClub: "Liverpool" },
    { name: "Juan Rengifo Duque", profileHtml: "Juan_Rengifo.html", position: "AM", age: 20, nationality: "Colombia", fga: 76.5, bestPhilosophy: "Menotti Artistry", currentClub: "Atl√©tico Nacional" },
    { name: "Maximilian Braune", profileHtml: "Maximilian_Braun.html", position: "CM", age: 24, nationality: "Germany", fga: 78.9, bestPhilosophy: "Klopp Intensity", currentClub: "Unknown" },
    { name: "Marcelo Saralegui", profileHtml: "Marcelo_Saralegui.html", position: "AM", age: 26, nationality: "Uruguay", fga: 81.2, bestPhilosophy: "Menotti Artistry", currentClub: "Unknown" },
    { name: "Nelson Acosta", profileHtml: "Nelson_Acosta.html", position: "CM", age: 85, nationality: "Uruguay", fga: 94.5, bestPhilosophy: "Michels Total Football" },
    { name: "Andr√©a Librici", profileHtml: "Andrea_Librici.html", position: "RB/CM", age: 20, nationality: "Belgium", fga: 75.5, bestPhilosophy: "Klopp Intensity" },

// === NEW PLAYERS BATCH 5 (Dec 5, 2025 - Fifth Upload) ===
            { name: "Fernando Hierro", image_url: "https://static.wikia.nocookie.net/the-football-database/images/4/4e/Fernando_Hierro.1.png", profileHtml: "Fernando_Hierro.html", position: "CB", age: 57, nationality: "Spain", fga: 92.0, bestPhilosophy: "Hierro Leadership" },
            { name: "Seydou Dembele", image_url: "https://img.a.transfermarkt.technology/portrait/big/1392645-1743719889.png", profileHtml: "Seydou_Dembele.html", position: "CM", age: 23, nationality: "Mali", fga: 92.3, bestPhilosophy: "Klopp Intensity" },
            { name: "Nando Mart√≠nez", profileHtml: "Nando_Martinez.html", position: "CB", age: 18, nationality: "Spain", fga: 88.4, bestPhilosophy: "Mourinho Tactical" },
            { name: "Vicente Guaita", image_url: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTsWYFw7OK3mkOoMeuC4_EW5gHhilwfrML66w&s", profileHtml: "Vicente_Guaita.html", position: "GK", age: 38, nationality: "Spain", fga: 87.6, bestPhilosophy: "Yashin Revolution" },
            { name: "Nick Woltemade", image_url: "https://cdn3.futbin.com/content/fifa25/img/players/254022.png", profileHtml: "Nick_Woltemade.html", position: "ST", age: 23, nationality: "Germany", fga: 87.4, bestPhilosophy: "Flick High Press" },
            { name: "Kerim Alajbegovic", image_url: "https://cdn3.futbin.com/content/fifa26/img/players/75533.png", profileHtml: "Kerim_Alajbegovic.html", position: "CM", age: 18, nationality: "Austria", fga: 87.3, bestPhilosophy: "Guardiola Positional" },
            { name: "ƒ∞smail Y√ºksek", image_url: "https://static.wikia.nocookie.net/the-football-database/images/6/6f/%C4%B0smail_Y%C3%BCksek.png", profileHtml: "Ismail_Yuksek.html", position: "DM", age: 26, nationality: "Turkey", fga: 87.3, bestPhilosophy: "Terim Resilience" },
            { name: "Juanlu S√°nchez", image_url: "https://game-assets.fut.gg/cdn-cgi/image/quality=85,format=auto,width=300/2026/player-item/26-264174.c770288fb98f97e207d468ee30452f6cb26b1d2c2386b86ad0471218246751a3.webp", profileHtml: "Juanlu_Sanchez.html", position: "RB", age: 21, nationality: "Spain", fga: 86.5, bestPhilosophy: "Guardiola Positional" },
            { name: "Tyrique George", image_url: "https://cdn3.futbin.com/content/fifa26/img/players/71998.png", profileHtml: "Tyrique_George.html", position: "WG", age: 19, nationality: "England", fga: 86.2, bestPhilosophy: "Klopp Intensity" },
            { name: "Alessandro Vogt", image_url: "https://images.fotmob.com/image_resources/playerimages/1419782.png", profileHtml: "Alessandro_Vogt.html", position: "CB", age: 20, nationality: "Germany", fga: 85.9, bestPhilosophy: "Flick High Press" },
            { name: "Jos√© √Ångel Carmona", image_url: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRIepBzmuONVkv97z3N0Tp6PMb8Iz3luY4aZQ&s", profileHtml: "Jose_Angel_Carmona.html", position: "RB", age: 23, nationality: "Spain", fga: 84.8, bestPhilosophy: "Guardiola Positional" },
            { name: "Tom√°s Palacios", image_url: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRek16wskHMH1063Fmta6NQqs932Mrmv_fxTw&s", profileHtml: "Tomas_Palacios.html", position: "CB", age: 21, nationality: "Argentina", fga: 84.7, bestPhilosophy: "Bielsa Verticalidad" },
            { name: "Gedeon Ndongo", profileHtml: "Gedeon_Ndongo.html", position: "CB", age: 17, nationality: "Cameroon", fga: 83.4, bestPhilosophy: "Mourinho Tactical" },
            { name: "Henrik Hanche-Hafskjold", image_url: "https://i.ytimg.com/vi/YRMPlK_ijm8/mqdefault.jpg", profileHtml: "Henrik_Hanche_Hafskjold.html", position: "GK", age: 25, nationality: "Norway", fga: 78.6, bestPhilosophy: "Yashin Revolution" },
 // === NEW PLAYERS BATCH 6 (Dec 5, 2025 - Sixth Upload) ===
            { name: "David Beckham", profileHtml: "David_Beckham.html", position: "CM", age: 50, nationality: "England", fga: 93.0, bestPhilosophy: "Ferguson Mental" },
            { name: "Claude Mak√©l√©l√©", profileHtml: "Claude_Makelele.html", position: "DM", age: 52, nationality: "France", fga: 91.0, bestPhilosophy: "Mourinho Tactical" },
            { name: "Steve McManaman", profileHtml: "Steve_Mc_Manaman.html", position: "WG", age: 53, nationality: "England", fga: 90.5, bestPhilosophy: "Ferguson Mental" },
            { name: "Juan Sebasti√°n Ver√≥n", profileHtml: "Juan_Sebastian_Veron.html", position: "CM", age: 50, nationality: "Argentina", fga: 89.5, bestPhilosophy: "Bielsa Verticalidad" },
            { name: "Yoan Wissa", profileHtml: "Yoan_Wissa.html", position: "ST", age: 28, nationality: "DR Congo", fga: 88.2, bestPhilosophy: "Klopp Intensity", currentClub: "Brentford" },
            { name: "Antoine Semenyo", profileHtml: "Antoine_Semenyo.html", position: "WG", age: 25, nationality: "Ghana", fga: 86.8, bestPhilosophy: "Klopp Intensity", currentClub: "Bournemouth" },
            { name: "Malick Thiaw", profileHtml: "Malick_Thiaw.html", position: "CB", age: 23, nationality: "Germany", fga: 86.4, bestPhilosophy: "Flick High Press", currentClub: "AC Milan" },
            { name: "Jacob Ramsey", profileHtml: "Jacob_Ramsey.html", position: "CM", age: 23, nationality: "England", fga: 85.2, bestPhilosophy: "Guardiola Positional", currentClub: "Aston Villa" },
            { name: "Aaron Ramsdale", profileHtml: "Aaron_Ramsdale.html", position: "GK", age: 27, nationality: "England", fga: 84.8, bestPhilosophy: "Ferguson Mental", currentClub: "Southampton" },
            { name: "Anthony Elanga", profileHtml: "Anthony_Elanga.html", position: "WG", age: 23, nationality: "Sweden", fga: 84.6, bestPhilosophy: "Klopp Intensity", currentClub: "Nottingham Forest" },
            { name: "Kees Smit", profileHtml: "Kees_Smit.html", position: "CM", age: 22, nationality: "Netherlands", fga: 84.2, bestPhilosophy: "Cruyff Intelligence", currentClub: "Excelsior" },
            { name: "Gabriel Charpentier", profileHtml: "Gabrial_Charpentier.html", position: "ST", age: 26, nationality: "France", fga: 78.5, bestPhilosophy: "Fontaine Attack", currentClub: "Reims" },

// === NEW BATCH - Added 19 Players (Batch 7: Dec 8, 2025) ===
            { name: "Christian Gomis", profileHtml: "Christian_Gomis.html", position: "CB", age: 27, nationality: "Senegal üá∏üá≥ / France üá´üá∑", fga: 76.5, bestPhilosophy: "Mourinho System", currentClub: "Uthai Thani FC" },
            { name: "Nathanael Saintini", profileHtml: "Nathanael_Saintini.html", position: "CB", age: 25, nationality: "Guadeloupe üá¨üáµ / France üá´üá∑", fga: 77.0, bestPhilosophy: "Mourinho System", currentClub: "FC Noah" },
            { name: "Florian Danho", profileHtml: "Florian_Danho.html", position: "CB", age: 25, nationality: "France üá´üá∑ / Ivory Coast üá®üáÆ", fga: 75.5, bestPhilosophy: "Mourinho System", currentClub: "Esperance Tunis" },
            { name: "Hicham Mahou", profileHtml: "Hicham_Mahou.html", position: "RW", age: 26, nationality: "France üá´üá∑", fga: 76.0, bestPhilosophy: "Mourinho System", currentClub: "FC Lugano" },
            { name: "Nathan Zeze", profileHtml: "Nathan_Zeze.html", position: "CB", age: 20, nationality: "France üá´üá∑", fga: 79.5, bestPhilosophy: "Guardiola System", currentClub: "Neom SC" },
            { name: "Bradley Sample", profileHtml: "Bradley_Sample.html", position: "CDM", age: 24, nationality: "United States üá∫üá∏", fga: 75.5, bestPhilosophy: "Versatile", currentClub: "Pittsburgh Riverhounds SC" },
            { name: "Luke Biasi", profileHtml: "Luke_Biasi.html", position: "DF", age: 25, nationality: "United States üá∫üá∏", fga: 76.5, bestPhilosophy: "Versatile", currentClub: "Pittsburgh Riverhounds SC" },
            { name: "Daniel Steres", profileHtml: "Daniel_Steres.html", position: "CB", age: 35, nationality: "United States üá∫üá∏", fga: 79.0, bestPhilosophy: "Versatile", currentClub: "Houston Dynamo" },
            { name: "Adrien Perez", profileHtml: "Adrien_Perez.html", position: "LW", age: 29, nationality: "United States üá∫üá∏", fga: 77.5, bestPhilosophy: "Versatile", currentClub: "Free Agent" },
            { name: "Emilio Ycaza", profileHtml: "Emilio_Ycaza.html", position: "LW", age: 27, nationality: "USAüá∫üá∏ / Ecuadorüá™üá®", fga: 78.0, bestPhilosophy: "Versatile", currentClub: "Charleston Battery" },
            { name: "Sam Junqua", profileHtml: "Sam_Junqua.html", position: "LB", age: 26, nationality: "United States üá∫üá∏", fga: 74.0, bestPhilosophy: "Versatile", currentClub: "FC Dallas" },
            { name: "Dereck Waldeck", profileHtml: "Derek_Waldeck.html", position: "DF", age: 27, nationality: "United States üá∫üá∏", fga: 77.0, bestPhilosophy: "Versatile", currentClub: "Spokane Velocity" },
            { name: "Johnny Rodriguez", profileHtml: "Johnny_Rodriguez.html", position: "AM", age: 27, nationality: "United States üá∫üá∏", fga: 78.5, bestPhilosophy: "Versatile", currentClub: "Las Vegas Lights FC" },
            { name: "David Weir", profileHtml: "David_Weir.html", position: "CB", age: 54, nationality: "Scotland üè¥Û†ÅßÛ†Å¢Û†Å≥Û†Å£Û†Å¥Û†Åø", fga: 83.5, bestPhilosophy: "Ferguson System", currentClub: "Retired" },
            { name: "Bart Verbruggen", profileHtml: "Bart_Verbruggen.html", position: "GK", age: 22, nationality: "Unknown", fga: 80.0, bestPhilosophy: "Guardiola System", currentClub: "Brighton FC" },
            { name: "Gabriel Batistuta", profileHtml: "Gabriel_Batistuta.html", position: "ST", age: 55, nationality: "Argentina", fga: 92.5, bestPhilosophy: "Menotti Attack", currentClub: "Retired" },
            { name: "Robert S√°nchez", profileHtml: "Robert_Sanchez.html", position: "GK", age: 27, nationality: "Spain üá™üá∏", fga: 81.5, bestPhilosophy: "Guardiola System", currentClub: "Chelsea FC" },
            { name: "Ederson", profileHtml: "Ederson_Moraes.html", position: "GK", age: 31, nationality: "Brazil üáßüá∑", fga: 90.0, bestPhilosophy: "Guardiola System", currentClub: "Fenerbah√ße" },
            { name: "Mart√≠n Zubimendi", profileHtml: "Martin_Zubimendi.html", position: "CDM", age: 25, nationality: "Spain üá™üá∏", fga: 87.5, bestPhilosophy: "Guardiola System", currentClub: "Arsenal FC" },
// === NEW PLAYERS BATCH 8 (Dec 11, 2025 - Eighth Upload) ===
            { name: "Emerson", profileHtml: "Emerson.html", position: "LB", age: 49, nationality: "Brazil", fga: 94.6, bestPhilosophy: "Capello Defensive" },
            { name: "Vincent Candela", profileHtml: "Vincent_Candela.html", position: "LB", age: 52, nationality: "France", fga: 93.7, bestPhilosophy: "Capello Tactical" },
            { name: "Freddy Rinc√≥n", profileHtml: "Freddy_Rincon.html", position: "CM", age: 56, nationality: "Colombia", fga: 93.2, bestPhilosophy: "Bilardo Combative" },
            { name: "Damiano Tommasi", profileHtml: "Damiano_Tommasi.html", position: "CM", age: 50, nationality: "Italy", fga: 91.8, bestPhilosophy: "Capello Tactical" },
            { name: "Cristiano Zanetti", profileHtml: "Cristiano_Zanetti.html", position: "DM", age: 51, nationality: "Italy", fga: 90.2, bestPhilosophy: "Capello Defensive" },
            { name: "Victor Boniface", profileHtml: "Victor_Boniface.html", position: "ST", age: 24, nationality: "Nigeria", fga: 84.5, bestPhilosophy: "Klopp Intensity", currentClub: "Bayer Leverkusen" },
            { name: "Zakaria Eddahchouri", profileHtml: "Zakaria_Eddahchouri.html", position: "WG", age: 22, nationality: "Morocco", fga: 79.5, bestPhilosophy: "Guardiola Positional", currentClub: "Ajax" },
            { name: "Agust√≠n Urzi", profileHtml: "Agustin_Urzi.html", position: "WG", age: 23, nationality: "Argentina", fga: 78.5, bestPhilosophy: "Bielsa Verticalidad" },
            { name: "Victor Eletu", profileHtml: "Victor_Eletu.html", position: "CM", age: 22, nationality: "Nigeria", fga: 78.5, bestPhilosophy: "Klopp Intensity" },
            { name: "Ferrety Sousa", profileHtml: "Ferrety_Sousa.html", position: "WG", age: 24, nationality: "Portugal", fga: 77.0, bestPhilosophy: "Mourinho Tactical" },
            { name: "Will Seymore", profileHtml: "Will_Seymore.html", position: "DM", age: 33, nationality: "USA", fga: 76.8, bestPhilosophy: "Berhalter Possession" },
            { name: "Chovanie Amatkarijo", profileHtml: "Chovanie_Amatkarijo.html", position: "FB", age: 21, nationality: "Netherlands", fga: 76.5, bestPhilosophy: "Cruyff Intelligence" },
            { name: "Marcel Canadi", profileHtml: "Marcel_Canadi.html", position: "CB", age: 28, nationality: "Austria", fga: 76.0, bestPhilosophy: "Mourinho Defensive" },
            { name: "Tim Littmann", profileHtml: "Tim_Littmann.html", position: "DM", age: 27, nationality: "Germany", fga: 75.0, bestPhilosophy: "Flick High Press" },
            { name: "Younes Hansal", profileHtml: "Younes_Hansal.html", position: "CM", age: 24, nationality: "Morocco", fga: 74.5, bestPhilosophy: "Guardiola Positional" },
            { name: "Adri√°n Jim√©nez", profileHtml: "Adrian_Jimenez.html", position: "GK", age: 29, nationality: "Spain", fga: 76.0, bestPhilosophy: "Guardiola System" },
            { name: "Adne Midtskogen", profileHtml: "Adne_Midtskogen.html", position: "ST", age: 25, nationality: "Norway", fga: 77.5, bestPhilosophy: "Solskjaer Attack" },
// === NEW BATCH 9 (Dec 12, 2025 - Ninth Upload) ===
            { name: "Jose Sosa", profileHtml: "Jose_Sosa.html", position: "AM", age: 40, nationality: "Argentina üá¶üá∑", fga: 83.5, bestPhilosophy: "Guardiola Positional", currentClub: "Estudiantes de La Plata" },
            { name: "Fernando Muslera", profileHtml: "Fernando_Muslera.html", position: "GK", age: 39, nationality: "Uruguay üá∫üáæ", fga: 81.0, bestPhilosophy: "Mourinho Tactical", currentClub: "Galatasaray" },
            { name: "Mikel Amondarain", profileHtml: "Mikel_Amondarain.html", position: "CB", age: 32, nationality: "Uruguay üá∫üáæ / Spain üá™üá∏", fga: 76.0, bestPhilosophy: "Bilardo Combative", currentClub: "Estudiantes de La Plata" },
            { name: "Edwuin Cetr√©", profileHtml: "Edwuin_Cetr√©.html", position: "WG", age: 27, nationality: "Colombia üá®üá¥", fga: 79.5, bestPhilosophy: "Bielsa Verticalidad", currentClub: "Millonarios" },
            { name: "Ali Suljiƒá", profileHtml: "Ali_Suljic.html", position: "CB", age: 28, nationality: "Sweden üá∏üá™ / Bosnia üáßüá¶", fga: 73.5, bestPhilosophy: "Guardiola Positional", currentClub: "IFK G√∂teborg" },
            { name: "Ahmed Bonnah", profileHtml: "Ahmed_Bonnah.html", position: "WG", age: 25, nationality: "Sweden üá∏üá™", fga: 73.5, bestPhilosophy: "Guardiola Positional", currentClub: "√ñstersunds FK" },
            { name: "Albin Sporrong", profileHtml: "Albin_Sporrong.html", position: "CM", age: 25, nationality: "Sweden üá∏üá™", fga: 72.0, bestPhilosophy: "Mourinho Tactical", currentClub: "√ñstersunds FK" },
            { name: "Yannick Adjoumani", profileHtml: "Yannick_Adjoumani.html", position: "LB", age: 22, nationality: "Ivory Coast üá®üáÆ", fga: 72.0, bestPhilosophy: "Klopp Intensity", currentClub: "√ñstersunds FK" },
            { name: "Jabir Abdihakim Ali", profileHtml: "Jabir_Abdihakim_Ali.html", position: "ST", age: 26, nationality: "Sweden üá∏üá™", fga: 71.5, bestPhilosophy: "Versatile", currentClub: "√ñstersunds FK" },
            { name: "Hakan √áalhanoƒülu", profileHtml: "Hakan_Calhanoglu.html", position: "CM", age: 31, nationality: "Turkey üáπüá∑", fga: 89.5, bestPhilosophy: "Guardiola Positional", currentClub: "Inter Milan" },
            { name: "Ramiro Funes Mori", profileHtml: "Ramiro_Funes_Mori.html", position: "CB", age: 34, nationality: "Argentina üá¶üá∑", fga: 79.5, bestPhilosophy: "Klopp Intensity", currentClub: "Estudiantes de La Plata" },
            { name: "Leandro Gonzalez Pirez", profileHtml: "Leandro_Gonzalez_Pirez.html", position: "CB", age: 33, nationality: "Argentina üá¶üá∑", fga: 78.5, bestPhilosophy: "Mourinho Tactical", currentClub: "Estudiantes de La Plata" },
            { name: "Lucas Alario", profileHtml: "Lucas_Alario.html", position: "ST", age: 32, nationality: "Argentina üá¶üá∑", fga: 80.0, bestPhilosophy: "Klopp Intensity", currentClub: "Estudiantes de La Plata" },
            { name: "Tiago Palacios", profileHtml: "Tiago_Palacios.html", position: "WG", age: 23, nationality: "Uruguay üá∫üáæ / Argentina üá¶üá∑", fga: 81.5, bestPhilosophy: "Guardiola Positional", currentClub: "Estudiantes de La Plata" },
            { name: "Cristian Medina", profileHtml: "Cristian_Medina.html", position: "CM", age: 22, nationality: "Argentina üá¶üá∑", fga: 86.0, bestPhilosophy: "Klopp Intensity", currentClub: "Estudiantes de La Plata" },
            { name: "Ezequiel Piovi", profileHtml: "Ezequiel_Piovi.html", position: "CM", age: 33, nationality: "Argentina üá¶üá∑", fga: 80.5, bestPhilosophy: "Guardiola Positional", currentClub: "Estudiantes de La Plata" },
            { name: "Santiago Ascacibar", profileHtml: "Santiago_Ascacibar.html", position: "DM", age: 28, nationality: "Argentina üá¶üá∑", fga: 82.5, bestPhilosophy: "Klopp Intensity", currentClub: "Estudiantes de La Plata" },
// === NEW BATCH 10 (Dec 12, 2025 - Tenth Upload) ===
            { name: "Barƒ±≈ü Ekincier", profileHtml: "Baris_Ekincier.html", position: "WG", age: 26, nationality: "Azerbaijan üá¶üáø / Turkey üáπüá∑", fga: 77.0, bestPhilosophy: "Klopp Intensity", currentClub: "√úmraniyespor" },
            { name: "Lo√Øs Diony", profileHtml: "Lois_Diony.html", position: "ST", age: 32, nationality: "France üá´üá∑ / Martinique üá≤üá∂", fga: 79.5, bestPhilosophy: "Ancelotti Flexible", currentClub: "Manisa FK" },
            { name: "Bobby Adekanye", profileHtml: "Bobby_Adekanye.html", position: "WG", age: 26, nationality: "Netherlands üá≥üá± / Nigeria üá≥üá¨", fga: 78.0, bestPhilosophy: "Guardiola Positional", currentClub: "Manisa FK" },
            { name: "Martin Boakye", profileHtml: "Martin_Boakye.html", position: "ST", age: 30, nationality: "Italy üáÆüáπ / Ghana üá¨üá≠", fga: 75.0, bestPhilosophy: "Versatile", currentClub: "Boluspor" },
            { name: "Mehmet √ñzcan", profileHtml: "Mehmet_Ozcan.html", position: "DM", age: 27, nationality: "Turkey üáπüá∑", fga: 77.5, bestPhilosophy: "Versatile", currentClub: "Van Spor FK" },
            { name: "Olivier Kemen", profileHtml: "Olivier_Kemen.html", position: "CM", age: 29, nationality: "Cameroon üá®üá≤ / France üá´üá∑", fga: 80.5, bestPhilosophy: "Mourinho Tactical", currentClub: "ƒ∞stanbul Ba≈üak≈üehir" },
            { name: "Mathias Haarup", profileHtml: "Mathias_Haarup.html", position: "LB", age: 29, nationality: "Denmark üá©üá∞", fga: 76.0, bestPhilosophy: "Versatile", currentClub: "Vendsyssel FF" },
            { name: "Samson Iyede", profileHtml: "Samson_Iyede.html", position: "ST", age: 27, nationality: "Nigeria üá≥üá¨", fga: 78.5, bestPhilosophy: "Mourinho Tactical", currentClub: "FK Novi Pazar" },
            { name: "Don Deedson", profileHtml: "Don_Deedson.html", position: "WG", age: 24, nationality: "Haiti üá≠üáπ", fga: 80.5, bestPhilosophy: "Klopp Intensity", currentClub: "FC Dallas" },
            { name: "Arbnor Mucolli", profileHtml: "Arbnor_Mucolli.html", position: "WG", age: 26, nationality: "Albania üá¶üá± / Denmark üá©üá∞", fga: 79.0, bestPhilosophy: "Mourinho Tactical", currentClub: "IFK G√∂teborg" },
            { name: "Agon Mucolli", profileHtml: "Agon_Mucolli.html", position: "WG", age: 27, nationality: "Denmark üá©üá∞ / Albania üá¶üá±", fga: 77.5, bestPhilosophy: "Versatile", currentClub: "FC Fredericia" },
            { name: "Kai Havertz", profileHtml: "Kai_Havertz.html", position: "ST", age: 26, nationality: "Germany üá©üá™", fga: 87.5, bestPhilosophy: "Klopp Intensity", currentClub: "Arsenal FC" },
            { name: "Yacqub Finey", profileHtml: "Yacqub_Finey.html", position: "AM", age: 22, nationality: "Sweden üá∏üá™ / Somalia üá∏üá¥", fga: 76.0, bestPhilosophy: "Versatile", currentClub: "IFK V√§rnamo" },
            { name: "Bertuƒü Yƒ±ldƒ±rƒ±m", profileHtml: "Bertug_Yildirim.html", position: "ST", age: 23, nationality: "Turkey üáπüá∑", fga: 77.5, bestPhilosophy: "Mourinho Tactical", currentClub: "ƒ∞stanbul Ba≈üak≈üehir" },
            { name: "Amine Harit", profileHtml: "Amine_Harit.html", position: "AM", age: 28, nationality: "Morocco üá≤üá¶ / France üá´üá∑", fga: 84.0, bestPhilosophy: "Guardiola Positional", currentClub: "ƒ∞stanbul Ba≈üak≈üehir" },
            { name: "Miguel Crespo", profileHtml: "Miguel_Crespo.html", position: "CM", age: 29, nationality: "Portugal üáµüáπ", fga: 79.5, bestPhilosophy: "Klopp Intensity", currentClub: "ƒ∞stanbul Ba≈üak≈üehir" },
            { name: "Jakub Ka≈Çuzi≈Ñski", profileHtml: "Jakub_Kaluzinski.html", position: "CM", age: 23, nationality: "Poland üáµüá±", fga: 78.0, bestPhilosophy: "Klopp Intensity", currentClub: "ƒ∞stanbul Ba≈üak≈üehir" },
            { name: "L√©o Duarte", profileHtml: "Leo_Duarte.html", position: "CB", age: 29, nationality: "Brazil üáßüá∑", fga: 80.5, bestPhilosophy: "Guardiola Positional", currentClub: "ƒ∞stanbul Ba≈üak≈üehir" },
            { name: "Jerome Opoku", profileHtml: "Jerome_Opoku.html", position: "CB", age: 27, nationality: "Ghana üá¨üá≠ / England üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø", fga: 81.5, bestPhilosophy: "Versatile", currentClub: "ƒ∞stanbul Ba≈üak≈üehir" },
            { name: "Volkan Babacan", profileHtml: "Volkan_Babacan.html", position: "GK", age: 37, nationality: "Turkey üáπüá∑", fga: 79.0, bestPhilosophy: "Mourinho Tactical", currentClub: "ƒ∞stanbul Ba≈üak≈üehir" },
// === NEW BATCH 11 (Dec 15, 2025 - Eleventh Upload) ===
            { name: "Jaap Stam", profileHtml: "Jaap_Stam.html", position: "CB", age: 53, nationality: "Netherlands üá≥üá±", fga: 94.5, bestPhilosophy: "Ferguson Mental", currentClub: "Retired Legend" },
            { name: "Elseid Hysaj", profileHtml: "Elseid_Hysaj.html", position: "RB", age: 31, nationality: "Albania üá¶üá±", fga: 79.0, bestPhilosophy: "Versatile", currentClub: "Lazio" },
            { name: "Eduardo Vargas", profileHtml: "Eduardo_Vargas.html", position: "ST", age: 36, nationality: "Chile üá®üá±", fga: 80.5, bestPhilosophy: "Bielsa Verticalidad", currentClub: "Audax Italiano" },
            { name: "Isco Alarc√≥n", profileHtml: "Isco_Alarcon.html", position: "AM", age: 33, nationality: "Spain üá™üá∏", fga: 87.5, bestPhilosophy: "Guardiola Positional", currentClub: "Real Betis" },
            { name: "Federico Valverde", profileHtml: "Federico_Valverde.html", position: "CM", age: 27, nationality: "Uruguay üá∫üáæ", fga: 93.5, bestPhilosophy: "Klopp Intensity", currentClub: "Real Madrid" },
            { name: "Boniek Garcia", profileHtml: "Boniek_Garcia.html", position: "WG", age: 41, nationality: "Honduras üá≠üá≥", fga: 82.5, bestPhilosophy: "Klopp Intensity", currentClub: "Houston Dynamo Legend" },
            { name: "Khouma Babacar", profileHtml: "Khouma_Babacar.html", position: "ST", age: 32, nationality: "Senegal üá∏üá≥", fga: 76.0, bestPhilosophy: "Mourinho Tactical", currentClub: "Sarƒ±yer" },
            { name: "Igor Lichnovsky", profileHtml: "Igor_Lichnovsky.html", position: "CB", age: 31, nationality: "Chile üá®üá±", fga: 78.5, bestPhilosophy: "Mourinho Tactical", currentClub: "Club Am√©rica" },
            { name: "Arthur Theate", profileHtml: "Arthur_Theate.html", position: "CB", age: 25, nationality: "Belgium üáßüá™", fga: 84.5, bestPhilosophy: "Klopp Intensity", currentClub: "Eintracht Frankfurt" },
            { name: "Simon Falette", profileHtml: "Simon_Falette.html", position: "CB", age: 33, nationality: "Guinea üá¨üá≥ / France üá´üá∑", fga: 77.0, bestPhilosophy: "Versatile", currentClub: "Al-Batin" },
            { name: "Nachon Nsingi", profileHtml: "Nachon_Nsingi.html", position: "WG", age: 24, nationality: "Belgium üáßüá™", fga: 74.5, bestPhilosophy: "Klopp Intensity", currentClub: "Oud-Heverlee Leuven" },
            { name: "Steve Ambri", profileHtml: "Steve_Ambri.html", position: "WG", age: 28, nationality: "Ivory Coast üá®üáÆ", fga: 75.0, bestPhilosophy: "Mourinho Tactical", currentClub: "Omonia 29M" },
            { name: "Bilel Brahimi", profileHtml: "Bilel_Brahimi.html", position: "WG", age: 25, nationality: "Morocco üá≤üá¶ / France üá´üá∑", fga: 76.5, bestPhilosophy: "Guardiola Positional", currentClub: "Viborg FF" },
            { name: "Brice Wembangomo", profileHtml: "Brice_Wembagono.html", position: "FB", age: 28, nationality: "Norway üá≥üá¥", fga: 78.5, bestPhilosophy: "Klopp Intensity", currentClub: "BK H√§cken" },
            { name: "Mame Mor Ndiaye", profileHtml: "Mame_Mor_Ndiaye.html", position: "ST", age: 28, nationality: "Senegal üá∏üá≥ / Italy üáÆüáπ", fga: 76.0, bestPhilosophy: "Bielsa Verticalidad", currentClub: "KFUM Oslo" },
            { name: "Sammy Skytte", profileHtml: "Sammy_Skytte.html", position: "CM", age: 28, nationality: "Denmark üá©üá∞", fga: 77.0, bestPhilosophy: "Versatile", currentClub: "HB T√≥rshavn" },
            { name: "Lassana Faye", profileHtml: "Lassana_Faye.html", position: "LB", age: 27, nationality: "Netherlands üá≥üá± / Senegal üá∏üá≥", fga: 76.5, bestPhilosophy: "Klopp Intensity", currentClub: "HB T√≥rshavn" },
            { name: "Ronaldo Damus", profileHtml: "Ronaldo_Damus.html", position: "ST", age: 26, nationality: "Haiti üá≠üáπ", fga: 72.5, bestPhilosophy: "Klopp Intensity", currentClub: "Charlotte FC" },
// === NEW BATCH 12 (Dec 17, 2025 - Twelfth Upload) ===
            { name: "Efe Ugiagbe", profileHtml: "Efe_Ugiagbe.html", position: "LW", age: 21, nationality: "Nigeria üá≥üá¨", fga: 72.4, bestPhilosophy: "Klopp Intensity", currentClub: "Lillestr√∏m SK" },
            { name: "Yago Cantero", profileHtml: "Yago_Cantero.html", position: "CB", age: 25, nationality: "Spain üá™üá∏", fga: 69.8, bestPhilosophy: "Guardiola Positional", currentClub: "Arenas Club de Getxo" },
            { name: "Aboubacar Bassinga", profileHtml: "Aboubacar_Bassinga.html", position: "CM", age: 20, nationality: "Ivory Coast üá®üáÆ", fga: 70.2, bestPhilosophy: "Guardiola Positional", currentClub: "Leix√µes SC" },
            { name: "Kuki Zalazar", profileHtml: "Kuki_Salazar.html", position: "ST", age: 27, nationality: "Spain üá™üá∏", fga: 68.5, bestPhilosophy: "Guardiola Positional", currentClub: "Orihuela CF" },
            { name: "Yann Bodiger", profileHtml: "Yann_Bodiger.html", position: "DM", age: 31, nationality: "France üá´üá∑", fga: 73.2, bestPhilosophy: "Bilardo Combative", currentClub: "Lorient B" },
            { name: "Kialy Kone", profileHtml: "Kialy_Kone.html", position: "LW", age: 28, nationality: "Ivory Coast üá®üáÆ", fga: 71.8, bestPhilosophy: "Klopp Intensity", currentClub: "SJK Sein√§joki" },
            { name: "Orkun K√∂k√ß√º", profileHtml: "Orkun_Kokcu.html", position: "CM", age: 24, nationality: "Turkey üáπüá∑ / Netherlands üá≥üá±", fga: 86.0, bestPhilosophy: "Klopp Intensity", currentClub: "Benfica" },
            { name: "Nader Ghandri", profileHtml: "Nader_Ghandri.html", position: "CB", age: 30, nationality: "Tunisia üáπüá≥ / France üá´üá∑", fga: 74.5, bestPhilosophy: "Versatile", currentClub: "Club Africain" },
            { name: "Sergio Adri√°n Guillermo", profileHtml: "Adrian_Guillermo.html", position: "WG", age: 25, nationality: "Argentina üá¶üá∑", fga: 83.5, bestPhilosophy: "Versatile", currentClub: "Estudiantes de La Plata" },
            { name: "Eino-Iivari Pitk√§l√§", profileHtml: "Eino_Pitkala.html", position: "DM", age: 21, nationality: "Finland üá´üáÆ", fga: 63.5, bestPhilosophy: "Bilardo Combative", currentClub: "TPS Turku" },
            { name: "Oƒüuzhan √ñzyakup", profileHtml: "Oguzhan_Ozyakup.html", position: "CM", age: 33, nationality: "Turkey üáπüá∑ / Netherlands üá≥üá±", fga: 82.0, bestPhilosophy: "Guardiola Positional", currentClub: "Fiorentina" },
            { name: "Isaac Angking", profileHtml: "Isaac_Angking.html", position: "CM", age: 25, nationality: "Puerto Rico üáµüá∑ / USA üá∫üá∏", fga: 68.5, bestPhilosophy: "Guardiola Positional", currentClub: "Atl√©tico San Luis" },
            { name: "Raphael Sarfo", profileHtml: "Raphael_Sarfo.html", position: "RB", age: 21, nationality: "Netherlands üá≥üá± / Ghana üá¨üá≠", fga: 73.5, bestPhilosophy: "Versatile", currentClub: "Ajax U23" },
            { name: "Youri Regeer", profileHtml: "Youri_Regeer.html", position: "CM", age: 22, nationality: "Netherlands üá≥üá±", fga: 77.0, bestPhilosophy: "Guardiola Positional", currentClub: "FC Twente" },
            { name: "Marcel Canadi", profileHtml: "Marcel_Canadi.html", position: "AM", age: 28, nationality: "Austria üá¶üáπ", fga: 76.0, bestPhilosophy: "Versatile", currentClub: "First Vienna FC" },
            { name: "Clarence Awoudor", profileHtml: "Clarence_Awoudor.html", position: "WG", age: 23, nationality: "France üá´üá∑", fga: 76.5, bestPhilosophy: "Guardiola Positional", currentClub: "Harvard University" },
// === NEW BATCH 13 (Dec 17, 2025 - Thirteenth Upload) ===
            { name: "Sadio Man√©", profileHtml: "Sadio_Mane.html", position: "LW", age: 33, nationality: "Senegal üá∏üá≥", fga: 85.4, bestPhilosophy: "Klopp Intensity", currentClub: "Al Nassr" },
            { name: "Ivan Toney", profileHtml: "Ivan_Toney.html", position: "ST", age: 29, nationality: "England üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø", fga: 83.5, bestPhilosophy: "Versatile", currentClub: "Al-Ahli" },
            { name: "Davide Frattesi", profileHtml: "Davide_Frattesi.html", position: "CM", age: 26, nationality: "Italy üáÆüáπ", fga: 81.8, bestPhilosophy: "Versatile", currentClub: "Inter Milan" },
            { name: "Moise Kean", profileHtml: "Moise_Kean.html", position: "ST", age: 25, nationality: "Italy üáÆüáπ", fga: 78.4, bestPhilosophy: "Versatile", currentClub: "Fiorentina" },
            { name: "Tijjani Reijnders", image_url: "https://sortitoutsi.b-cdn.net/uploads/face/face_37071126.png", profileHtml: "Tijjani_Reijnders.html", position: "CM", age: 27, nationality: "Netherlands üá≥üá±", fga: 83.8, bestPhilosophy: "Guardiola Positional", currentClub: "AC Milan" },
            { name: "Du≈°an Vlahoviƒá", profileHtml: "Dusan_Vlahovic.html", position: "ST", age: 25, nationality: "Serbia üá∑üá∏", fga: 86.2, bestPhilosophy: "Versatile", currentClub: "Juventus" },
            { name: "Michel Aebischer", profileHtml: "Michel_Aebischer.html", position: "CM", age: 29, nationality: "Switzerland üá®üá≠", fga: 74.5, bestPhilosophy: "Versatile", currentClub: "Bologna" },
            { name: "Sam Beukema", profileHtml: "Sam_Beukema.html", position: "CB", age: 27, nationality: "Netherlands üá≥üá±", fga: 79.5, bestPhilosophy: "Versatile", currentClub: "Bologna" },
            { name: "Matias Lamhauge", profileHtml: "Matias_Lamhauge.html", position: "GK", age: 26, nationality: "Faroe Islands üá´üá¥", fga: 69.0, bestPhilosophy: "Versatile", currentClub: "B36 T√≥rshavn" },
            { name: "Mads Bech S√∏rensen", profileHtml: "Mads_Bech_Sorensen.html", position: "CB", age: 26, nationality: "Denmark üá©üá∞", fga: 77.5, bestPhilosophy: "Versatile", currentClub: "Brentford" },
            { name: "Frederik Rieper", profileHtml: "Frederik_Rieper.html", position: "CB", age: 26, nationality: "Denmark üá©üá∞", fga: 68.2, bestPhilosophy: "Versatile", currentClub: "Randers FC" },
            { name: "Gustav Marcussen", profileHtml: "Gustav_Marcussen.html", position: "LW", age: 27, nationality: "Denmark üá©üá∞", fga: 69.5, bestPhilosophy: "Menotti Artistry", currentClub: "Viborg FF" },
            { name: "Kevin Mbabu", profileHtml: "Kevin_Mbabu.html", position: "RB", age: 30, nationality: "Switzerland üá®üá≠", fga: 75.8, bestPhilosophy: "Klopp Intensity", currentClub: "Midtjylland" },
            { name: "Cho Gue-sung", profileHtml: "Gue_Sung_Cho.html", position: "ST", age: 27, nationality: "South Korea üá∞üá∑", fga: 74.5, bestPhilosophy: "Klopp Intensity", currentClub: "FC Midtjylland" },
            { name: "J√∫nior Brumado", profileHtml: "Junior_Brumado.html", position: "ST", age: 26, nationality: "Brazil üáßüá∑", fga: 71.0, bestPhilosophy: "Ferguson Mental", currentClub: "Sparta Prague" },
            { name: "Moses Opondo", profileHtml: "Moses_Opondo.html", position: "AM", age: 28, nationality: "Uganda üá∫üá¨", fga: 67.8, bestPhilosophy: "Klopp Intensity", currentClub: "Vipers SC" },
            { name: "Simon Adingra", profileHtml: "Simon_Adingra.html", position: "RW", age: 23, nationality: "Ivory Coast üá®üáÆ", fga: 76.8, bestPhilosophy: "Klopp Intensity", currentClub: "Brighton FC" },
            { name: "I√±aki Williams", profileHtml: "Inaki_Williams.html", position: "RW", age: 31, nationality: "Ghana üá¨üá≠ / Spain üá™üá∏", fga: 84.5, bestPhilosophy: "Klopp Intensity", currentClub: "Athletic Bilbao" },
            { name: "Dar√≠o Osorio", profileHtml: "Dario_Osorio.html", position: "RW", age: 21, nationality: "Chile üá®üá±", fga: 74.2, bestPhilosophy: "Menotti Artistry", currentClub: "FC Midtjylland" },
            { name: "Mikel Gogorza", profileHtml: "Mikel_Gogorza.html", position: "LW", age: 19, nationality: "Denmark üá©üá∞", fga: 71.5, bestPhilosophy: "Klopp Intensity", currentClub: "FC Midtjylland" },
// === NEW BATCH 14 (Dec 18, 2025 - Fourteenth Upload with Portraits) ===
            { name: "David Cancola", image_url: "https://cdn.futwiz.com/assets/img/fifa20/faces/237867.png", profileHtml: "David_Cancola.html", position: "DM", age: 29, nationality: "Austria üá¶üáπ", fga: 69.5, bestPhilosophy: "Versatile", currentClub: "None" },
            { name: "Thibaut Courtois", image_url: "https://cdn-img.zerozero.pt/img/planteis/new/74/88/11147488_thibaut_courtois_20240809094141.png", profileHtml: "Thibault_Courtois.html", position: "GK", age: 33, nationality: "Belgium üáßüá™", fga: 93.5, bestPhilosophy: "Ferguson Mental", currentClub: "Real Madrid" },
            { name: "Vin√≠cius J√∫nior", image_url: "https://static.wikia.nocookie.net/the-football-database/images/8/8f/Vin%C3%ADcius_J%C3%BAnior.1.png", profileHtml: "Vinicius_Jr.html", position: "LW", age: 25, nationality: "Brazil üáßüá∑", fga: 92.8, bestPhilosophy: "Guardiola Positional", currentClub: "Real Madrid" },
            { name: "Wessel Dammers", image_url: "https://images.fotmob.com/image_resources/playerimages/560853.png", profileHtml: "Wessel_Dammers.html", position: "CB", age: 30, nationality: "Netherlands üá≥üá±", fga: 74.2, bestPhilosophy: "Versatile", currentClub: "FC Groningen" },
            { name: "Noah Nartey", image_url: "https://cdn.futwiz.com/assets/img/fc25/faces/71170.png", profileHtml: "Noah_Nartey.html", position: "CM", age: 20, nationality: "Denmark üá©üá∞", fga: 78.5, bestPhilosophy: "Guardiola Positional", currentClub: "VfB Stuttgart" },
            { name: "Elias Achouri", image_url: "https://cdn.fifacm.com/content/media/imgs/fc25/players/p263672.png", profileHtml: "Elias_Achouri.html", position: "LW", age: 25, nationality: "Tunisia üáπüá≥", fga: 77.8, bestPhilosophy: "Guardiola Positional", currentClub: "FC Copenhagen" },
            { name: "Marcos L√≥pez", image_url: "https://game-assets.fut.gg/cdn-cgi/image/quality=85,format=auto,width=300/2026/player-item/26-246014.png", profileHtml: "Marcos_Lopez.html", position: "LB", age: 25, nationality: "Peru üáµüá™", fga: 76.5, bestPhilosophy: "Guardiola Positional", currentClub: "FC Copenhagen" },
            { name: "Magnus Mattsson", image_url: "https://game-assets.fut.gg/cdn-cgi/image/quality=85,format=auto,width=300/2026/player-item/26-240974.png", profileHtml: "Magnus_Mattsson.html", position: "AM", age: 26, nationality: "Denmark üá©üá∞", fga: 79.8, bestPhilosophy: "Versatile", currentClub: "FC Copenhagen" },
            { name: "Rodrigo Huescas", image_url: "https://cdn3.futbin.com/content/fifa25/img/players/263711.png", profileHtml: "Rodrigo_Huescas.html", position: "CM", age: 22, nationality: "Mexico üá≤üáΩ", fga: 75.2, bestPhilosophy: "Guardiola Positional", currentClub: "FC Copenhagen" },
            { name: "Dominik Kotarski", image_url: "https://images.fotmob.com/image_resources/playerimages/873557.png", profileHtml: "Dominik_Kotarski.html", position: "GK", age: 25, nationality: "Croatia üá≠üá∑", fga: 76.8, bestPhilosophy: "Versatile", currentClub: "PAOK" },
            { name: "Gabriel Pereira", image_url: "https://cdn-img.zerozero.pt/img/jogadores/new/33/08/693308_gabriel_pereira_20250307004642.png", profileHtml: "Gabriel_Pereira.html", position: "CB", age: 25, nationality: "Brazil üáßüá∑", fga: 78.2, bestPhilosophy: "Versatile", currentClub: "FC Copenhagen" },
            { name: "Pantelis Hatzidiakos", profileHtml: "Pantelis_Hatzidiakos.html", position: "CB", age: 28, nationality: "Greece üá¨üá∑", fga: 76.5, bestPhilosophy: "Versatile", currentClub: "AEK Athens" },
            { name: "Mohamed Elyounoussi", image_url: "https://static.wikia.nocookie.net/the-football-database/images/e/e3/Mohamed_Elyounoussi.1.png", profileHtml: "Mohamed_Elyounoussi.html", position: "AM", age: 31, nationality: "Norway üá≥üá¥", fga: 81.2, bestPhilosophy: "Guardiola Positional", currentClub: "FC Copenhagen" },
            { name: "Thomas Delaney", image_url: "https://images.fotmob.com/image_resources/playerimages/170218.png", profileHtml: "Thomas_Delaney.html", position: "DM", age: 34, nationality: "Denmark üá©üá∞", fga: 77.8, bestPhilosophy: "Ferguson Mental", currentClub: "FC Copenhagen" },
            { name: "Youssoufa Moukoko", image_url: "https://static.wikia.nocookie.net/the-football-database/images/5/5e/Youssoufa_Moukoko.1.png", profileHtml: "Youssoufa_Moukoko.html", position: "ST", age: 20, nationality: "Germany üá©üá™", fga: 82.5, bestPhilosophy: "Versatile", currentClub: "FC Copenhagen" },
// === NEW BATCH 15 (Dec 19, 2025 - Fifteenth Upload) ===
            { name: "Erick Otieno", profileHtml: "Eric_Otieno.html", position: "LB", age: 29, nationality: "Kenya üá∞üá™", fga: 79.6, bestPhilosophy: "Bielsa Verticalidad", currentClub: "AIK" },
            { name: "Juan Carlos Obreg√≥n Jr.", profileHtml: "Juan_Carlos_Obregon.html", position: "ST", age: 28, nationality: "Honduras üá≠üá≥", fga: 84.5, bestPhilosophy: "Bielsa Verticalidad", currentClub: "Motagua" },
            { name: "Vassilis Hatzipanagis", image_url: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRN2smq4xjUPedSJBGu0Gbh0KkKwOcrJc8jvg&s", profileHtml: "Vassilis_Hatzipanagis.html", position: "AM", age: 72, nationality: "Greece üá¨üá∑", fga: 98.2, bestPhilosophy: "Cruyff Intelligence", currentClub: "Retired Legend" },
            { name: "Jackson Dietrich", profileHtml: "Jackson_Dietrich.html", position: "RW", age: 29, nationality: "USA üá∫üá∏", fga: 71.8, bestPhilosophy: "Bielsa Verticalidad", currentClub: "Sacramento Republic" },
            { name: "Lucca Dourado", profileHtml: "Lucca_Dourado.html", position: "ST", age: 25, nationality: "Brazil üáßüá∑", fga: 82.1, bestPhilosophy: "Bielsa Verticalidad", currentClub: "Ava√≠ FC" },
            { name: "Nazeem Bartman", profileHtml: "Nazeem_Bartman.html", position: "LW", age: 32, nationality: "South Africa üáøüá¶", fga: 73.2, bestPhilosophy: "Guardiola Positional", currentClub: "Cape Town City" },
            { name: "Derek Gebhard", profileHtml: "Derek_Gebhard.html", position: "RW", age: 30, nationality: "USA üá∫üá∏ / Spain üá™üá∏", fga: 78.5, bestPhilosophy: "Bielsa Verticalidad", currentClub: "FC Tulsa" },
            { name: "Arda G√ºler", profileHtml: "Arda_Guler.html", position: "AM", age: 20, nationality: "Turkey üáπüá∑", fga: 91.5, bestPhilosophy: "Guardiola Positional", currentClub: "Real Madrid" },
            { name: "Kenan Yƒ±ldƒ±z", profileHtml: "Kenan_Yildiz.html", position: "LW", age: 20, nationality: "Turkey üáπüá∑ / Germany üá©üá™", fga: 89.2, bestPhilosophy: "Menotti Artistry", currentClub: "Juventus" },
            { name: "Ozan Kabak", profileHtml: "Ozan_Kabak.html", position: "CB", age: 25, nationality: "Turkey üáπüá∑", fga: 82.8, bestPhilosophy: "Versatile", currentClub: "Hoffenheim" },
            { name: "Berkay Yƒ±lmaz", profileHtml: "Berkay_Yilmaz.html", position: "LB", age: 20, nationality: "Turkey üáπüá∑ / Germany üá©üá™", fga: 76.2, bestPhilosophy: "Guardiola Positional", currentClub: "Borussia Dortmund" },
            { name: "Yunus Azrak", profileHtml: "Yunus_Azrak.html", position: "RW", age: 17, nationality: "Turkey üáπüá∑", fga: 70.5, bestPhilosophy: "Menotti Artistry", currentClub: "Fenerbah√ße U19" },
            { name: "Mustafa Hekimoƒülu", profileHtml: "Mustafa_Hekimoglu.html", position: "ST", age: 18, nationality: "Turkey üáπüá∑", fga: 81.5, bestPhilosophy: "Versatile", currentClub: "Fenerbah√ße U19" },
            { name: "Arda Akg√ºn", profileHtml: "Arda_Akgun.html", position: "RW", age: 19, nationality: "Turkey üáπüá∑", fga: 74.5, bestPhilosophy: "Ferguson Mental", currentClub: "Galatasaray U19" },
            { name: "Emre G√∂kay", profileHtml: "Emre_Gokay.html", position: "RW", age: 19, nationality: "Turkey üáπüá∑", fga: 78.2, bestPhilosophy: "Guardiola Positional", currentClub: "Trabzonspor U19" },
            { name: "Pau Cubars√≠", profileHtml: "Pau_Cubarsi.html", position: "CB", age: 18, nationality: "Spain üá™üá∏", fga: 88.5, bestPhilosophy: "Guardiola Positional", currentClub: "Barcelona" },
            { name: "Albijon Muzaci", profileHtml: "Albijon_Muzaci.html", position: "RW", age: 29, nationality: "Kosovo üáΩüá∞", fga: 79.5, bestPhilosophy: "Guardiola Positional", currentClub: "Ballkani" },
            { name: "Pau Juventeny", profileHtml: "Pau_Juventeny.html", position: "CM", age: 25, nationality: "Spain üá™üá∏", fga: 75.2, bestPhilosophy: "Guardiola Positional", currentClub: "Girona" },
            { name: "Pedro Diniz", profileHtml: "Pedro_Diniz.html", position: "ST", age: 26, nationality: "Portugal üáµüáπ", fga: 73.5, bestPhilosophy: "Versatile", currentClub: "SC Farense" },
            { name: "Eemeli Honkola", profileHtml: "Eemeli_Honkola.html", position: "ST", age: 20, nationality: "Finland üá´üáÆ", fga: 71.0, bestPhilosophy: "Ferguson Mental", currentClub: "HJK Helsinki" },
// === NEW BATCH 16 (Dec 19, 2025 - Sixteenth Upload) ===
            { name: "Miguel de la Fuente", profileHtml: "Miguel_de_la_Fuente.html", position: "ST", age: 26, nationality: "Spain üá™üá∏", fga: 82.4, bestPhilosophy: "Klopp Intensity", currentClub: "Legan√©s" },
            { name: "Amadou Diawara", profileHtml: "Amadou_Diawara.html", position: "DM", age: 28, nationality: "Guinea üá¨üá≥", fga: 83.1, bestPhilosophy: "Guardiola Positional", currentClub: Legan√©s" },
            { name: "Ignasi Miquel", profileHtml: "Ignasi_Miquel.html", position: "CB", age: 33, nationality: "Spain üá™üá∏", fga: 81.9, bestPhilosophy: "Guardiola Positional", currentClub: "Legan√©s" },
            { name: "Marvel", profileHtml: "Marvel.html", position: "CB", age: 23, nationality: "Spain üá™üá∏", fga: 80.2, bestPhilosophy: "Guardiola Positional", currentClub: "Legan√©s" },
            { name: "Duk", profileHtml: "Duk.html", position: "ST", age: 25, nationality: "Cape Verde üá®üáª", fga: 77.8, bestPhilosophy: "Klopp Intensity", currentClub: ":Legan√©s" },
            { name: "Sergio Arribas", profileHtml: "Sergio_Arribas.html", position: "AM", age: 24, nationality: "Spain üá™üá∏", fga: 84.7, bestPhilosophy: "Guardiola Positional", currentClub: "Almer√≠a" },
            { name: "Anuar Tuhami", profileHtml: "Anuar_Tuhami.html", position: "CM", age: 30, nationality: "Morocco üá≤üá¶", fga: 81.4, bestPhilosophy: "Guardiola Positional", currentClub: "Ceuta" },
            { name: "Marcos Fern√°ndez", profileHtml: "Marcos_Fernandez.html", position: "RW", age: 22, nationality: "Spain üá™üá∏", fga: 79.1, bestPhilosophy: "Bielsa Verticalidad", currentClub: "Ceuta" },
            { name: "Aisar Ahmed", profileHtml: "Aisar_Ahmed.html", position: "RW", age: 24, nationality: "Spain üá™üá∏", fga: 80.2, bestPhilosophy: "Guardiola Positional", currentClub: "Ceuta" },
            { name: "Youness Lachhab", profileHtml: "Youness_Lachhab.html", position: "CM", age: 26, nationality: "Morocco üá≤üá¶", fga: 78.4, bestPhilosophy: "Guardiola Positional", currentClub: "Ceuta" },
            { name: "Iker Kortajarena", profileHtml: "Iker_Kortajarena.html", position: "AM", age: 25, nationality: "Spain üá™üá∏", fga: 79.8, bestPhilosophy: "Bielsa Verticalidad", currentClub: "Huesca" },
            { name: "Sergi Enrich", profileHtml: "Sergi_Enrich.html", position: "ST", age: 25, nationality: "Spain üá™üá∏", fga: 78.5, bestPhilosophy: "Bielsa Verticalidad", currentClub: "Huesca" },
            { name: "Rub√©n D√≠ez", profileHtml: "Ruben_Diez.html", position: "CM", age: 25, nationality: "Spain üá™üá∏", fga: 79.2, bestPhilosophy: "Cruyff Intelligence", currentClub: "Ceuta" },
            { name: "Konrad de la Fuente", profileHtml: "Konrad_de_la_Fuente.html", position: "LW", age: 25, nationality: "USA üá∫üá∏ / Spain üá™üá∏", fga: 83.5, bestPhilosophy: "Bielsa Verticalidad", currentClub: "Lausanne-Sport" },
            { name: "Leonardo Buta", profileHtml: "Leonardo_Buta.html", position: "LB", age: 25, nationality: "Portugal üáµüáπ", fga: 80.5, bestPhilosophy: "Bielsa Verticalidad", currentClub: "Eibar" },
            { name: "Alvyn Sanches", profileHtml: "Alvyn_Sanches.html", position: "CM", age: 25, nationality: "Switzerland üá®üá≠", fga: 85.4, bestPhilosophy: "Bielsa Verticalidad", currentClub: "Lausanne-Sport" },
            { name: "Jon Bautista", profileHtml: "Jon_Bautista.html", position: "ST", age: 30, nationality: "Spain üá™üá∏", fga: 81.2, bestPhilosophy: "Bielsa Verticalidad", currentClub: "Eibar" },
            

];


        // DEBUG LOGGING
        console.log('====== PAGE LOADED ======');
        console.log('Script loaded at:', new Date().toISOString());
        console.log('playerData exists:', typeof playerData !== 'undefined');
        console.log('playerData length:', playerData ? playerData.length : 'UNDEFINED');
        
        
        // State variables
        let selectedComparePlayers = [];
        let selectedSquadPlayers = [];
        let squadPositions = {}; // Track which position each player is assigned to
        let currentFormation = '4-3-3';
        let filteredPlayers = [...playerData]; // Initialize with all data
        let currentPage = 1;
        let playersPerPage = 25;
        let currentSortColumn = 'fga';
        let currentSortOrder = 'desc';

        // Tab Switching
        function switchTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
            
            document.getElementById(tabName + '-tab').classList.add('active');
            event.target.classList.add('active');
            
            if (tabName === 'philosophy') {
                renderPhilosophyHeatmap();
            } else if (tabName === 'market') {
                renderMarketIntelligence();
            } else if (tabName === 'squad') {
                initializeSquadBuilder();
            }
        }

        // DATABASE FUNCTIONS
        function quickFilter(type) {
            switch(type) {
                case 'legends':
                    filteredPlayers = playerData.filter(p => p.fga >= 90);
                    break;
                case 'elite':
                    filteredPlayers = playerData.filter(p => p.fga >= 85 && p.fga < 90);
                    break;
                case 'prospects':
                    filteredPlayers = playerData.filter(p => p.age <= 21);
                    break;
                case 'active':
                    filteredPlayers = playerData.filter(p => p.age <= 38);
                    break;
                case 'strikers':
                    filteredPlayers = playerData.filter(p => p.position === 'ST');
                    break;
                case 'midfielders':
                    filteredPlayers = playerData.filter(p => ['CM', 'AM', 'DM'].includes(p.position));
                    break;
                case 'defenders':
                    filteredPlayers = playerData.filter(p => ['CB', 'FB'].includes(p.position));
                    break;
                case 'goalkeepers':
                    filteredPlayers = playerData.filter(p => p.position === 'GK');
                    break;
                default:
                    filteredPlayers = [...playerData];
            }
            currentPage = 1;
            updateStats();
            renderTable();
        }

        function filterAndRender() {
            const search = document.getElementById('search-name').value.toLowerCase();
            filteredPlayers = playerData.filter(p => p.name.toLowerCase().includes(search));
            currentPage = 1;
            updateStats();
            renderTable();
        }

        function sortTable(column) {
            if (currentSortColumn === column) {
                currentSortOrder = currentSortOrder === 'asc' ? 'desc' : 'asc';
            } else {
                currentSortColumn = column;
                currentSortOrder = 'desc';
            }
            
            filteredPlayers.sort((a, b) => {
                let aVal = a[column];
                let bVal = b[column];
                
                if (typeof aVal === 'string') {
                    aVal = aVal.toLowerCase();
                    bVal = bVal.toLowerCase();
                }
                
                if (currentSortOrder === 'asc') {
                    return aVal > bVal ? 1 : -1;
                } else {
                    return aVal < bVal ? 1 : -1;
                }
            });
            
            renderTable();
        }

        function renderTable() {
            const tbody = document.getElementById('database-table-body');
            const start = (currentPage - 1) * playersPerPage;
            const end = start + playersPerPage;
            const pageData = filteredPlayers.slice(start, end);
            
            tbody.innerHTML = pageData.map(player => {
                // Get player image URL
                const imageUrl = player.player_image_url || player.image_url || 
                                (player.player_id ? `https://img.a.transfermarkt.technology/portrait/big/${player.player_id}.jpg` : null);
                
                // Get player initials for fallback
                const nameParts = (player.name || '').trim().split(' ').filter(p => p.length > 0);
                const initials = nameParts.length === 0 ? '‚öΩ' : 
                                nameParts.length === 1 ? nameParts[0].substring(0, 2).toUpperCase() :
                                (nameParts[0][0] + nameParts[nameParts.length - 1][0]).toUpperCase();
                
                // Create avatar HTML
                let avatarHtml;
                if (imageUrl && imageUrl !== 'null') {
                    avatarHtml = `
                        <img 
                            src="${imageUrl}" 
                            alt="${player.name}"
                            class="player-avatar-small"
                            onerror="this.style.display='none'; this.nextElementSibling.style.display='inline-flex';"
                            loading="lazy"
                        />
                        <div class="player-avatar-placeholder" style="display:none;">
                            ${initials}
                        </div>
                    `;
                } else {
                    avatarHtml = `
                        <div class="player-avatar-placeholder">
                            ${initials}
                        </div>
                    `;
                }
                
                return `
                    <tr class="hover:bg-slate-800/50 transition">
                        <td class="py-3">
                            <div class="player-name-cell">
                                ${avatarHtml}
                                <a href="${player.profileHtml}" target="_blank" class="text-blue-400 hover:text-blue-300 font-semibold">
                                    ${player.name}
                                </a>
                            </div>
                        </td>
                        <td class="py-3">${player.position}</td>
                        <td class="py-3">${player.age}</td>
                        <td class="py-3">${player.nationality}</td>
                        <td class="py-3"><span class="font-bold text-blue-400">${player.fga.toFixed(1)}</span></td>
                        <td class="py-3 text-sm">${player.bestPhilosophy}</td>
                        <td class="py-3">
                            <div class="flex gap-2">
                                <button onclick="addToComparison('${player.name.replace(/'/g, "\\'")}')" class="text-xs bg-blue-600 hover:bg-blue-700 px-3 py-1 rounded transition">
                                    Compare
                                </button>
                                <button onclick="exportPlayerProfile('${player.name.replace(/'/g, "\\'")}')" class="text-xs bg-yellow-600 hover:bg-yellow-700 px-3 py-1 rounded transition" title="Export Player Profile PDF">
                                    PDF
                                </button>
                            </div>
                        </td>
                    </tr>
                `;
            }).join('');
            
            document.getElementById('stat-showing').textContent = pageData.length;
            updatePagination();
        }

        function updatePagination() {
            const container = document.getElementById('pagination-container');
            const totalPages = Math.ceil(filteredPlayers.length / playersPerPage);
            
            if (totalPages <= 1) {
                container.innerHTML = '';
                return;
            }
            
            let html = '';
            
            // Previous button
            html += `<button class="pagination-btn" onclick="changePage(${currentPage - 1})" ${currentPage === 1 ? 'disabled' : ''}>
                ‚Üê Previous
            </button>`;
            
            // Page numbers
            const maxVisible = 7;
            let startPage = Math.max(1, currentPage - Math.floor(maxVisible / 2));
            let endPage = Math.min(totalPages, startPage + maxVisible - 1);
            
            if (endPage - startPage < maxVisible - 1) {
                startPage = Math.max(1, endPage - maxVisible + 1);
            }
            
            if (startPage > 1) {
                html += `<button class="pagination-btn" onclick="changePage(1)">1</button>`;
                if (startPage > 2) html += `<span class="px-2 text-slate-400">...</span>`;
            }
            
            for (let i = startPage; i <= endPage; i++) {
                html += `<button class="pagination-btn ${i === currentPage ? 'active' : ''}" onclick="changePage(${i})">
                    ${i}
                </button>`;
            }
            
            if (endPage < totalPages) {
                if (endPage < totalPages - 1) html += `<span class="px-2 text-slate-400">...</span>`;
                html += `<button class="pagination-btn" onclick="changePage(${totalPages})">${totalPages}</button>`;
            }
            
            // Next button
            html += `<button class="pagination-btn" onclick="changePage(${currentPage + 1})" ${currentPage === totalPages ? 'disabled' : ''}>
                Next ‚Üí
            </button>`;
            
            container.innerHTML = html;
        }

        function changePage(page) {
            const totalPages = Math.ceil(filteredPlayers.length / playersPerPage);
            if (page < 1 || page > totalPages) return;
            currentPage = page;
            renderTable();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function updateStats() {
            console.log('updateStats called');
            console.log('  playerData.length:', playerData.length);
            console.log('  filteredPlayers.length:', filteredPlayers.length);
            
            document.getElementById('stat-total').textContent = playerData.length;
            
            const avgFga = filteredPlayers.length > 0 
                ? (filteredPlayers.reduce((sum, p) => sum + p.fga, 0) / filteredPlayers.length).toFixed(1)
                : '0.0';
            document.getElementById('stat-avg-fga').textContent = avgFga;
            
            const legends = filteredPlayers.filter(p => p.fga >= 90).length;
            document.getElementById('stat-legends').textContent = legends;
            
            const elite = filteredPlayers.filter(p => p.fga >= 85 && p.fga < 90).length;
            document.getElementById('stat-elite').textContent = elite;
        }

        // COMPARISON FUNCTIONS
        function searchForComparison(query) {
            const results = document.getElementById('comparison-search-results');
            if (!query) {
                results.innerHTML = '<p class="text-slate-400 text-sm">Start typing to search players...</p>';
                return;
            }
            
            const matches = playerData.filter(p => 
                p.name.toLowerCase().includes(query.toLowerCase())
            ).slice(0, 10);
            
            results.innerHTML = matches.map(player => `
                <div class="player-card" onclick="addToComparison('${player.name.replace(/'/g, "\\'")}')">
                    <div class="flex justify-between items-center">
                        <div>
                            <div class="font-bold">${player.name}</div>
                            <div class="text-sm text-slate-400">${player.position} | ${player.nationality} | FGA: ${player.fga.toFixed(1)}</div>
                        </div>
                        <button class="bg-blue-600 px-3 py-1 rounded text-sm">Add</button>
                    </div>
                </div>
            `).join('');
        }

        function addToComparison(playerName) {
            if (selectedComparePlayers.length >= 4) {
                alert('Maximum 4 players can be compared');
                return;
            }
            
            const player = playerData.find(p => p.name === playerName);
            if (!player || selectedComparePlayers.find(p => p.name === playerName)) return;
            
            selectedComparePlayers.push(player);
            updateSelectedPlayers();
        }

        function removeFromComparison(playerName) {
            selectedComparePlayers = selectedComparePlayers.filter(p => p.name !== playerName);
            updateSelectedPlayers();
        }

        function updateSelectedPlayers() {
            const container = document.getElementById('selected-players');
            document.getElementById('selected-count').textContent = selectedComparePlayers.length;
            
            if (selectedComparePlayers.length === 0) {
                container.innerHTML = '<p class="text-slate-400 text-sm">Select players from the search results to compare</p>';
                return;
            }
            
            container.innerHTML = selectedComparePlayers.map(player => `
                <div class="player-card selected">
                    <div class="flex justify-between items-center">
                        <div>
                            <div class="font-bold">${player.name}</div>
                            <div class="text-sm text-slate-400">${player.position} | FGA: ${player.fga.toFixed(1)}</div>
                        </div>
                        <button onclick="removeFromComparison('${player.name.replace(/'/g, "\\'")}')" class="bg-red-600 px-3 py-1 rounded text-sm">Remove</button>
                    </div>
                </div>
            `).join('');
        }

        // DEBUG LOGGING
        console.log('====== PAGE LOADED ======');
        console.log('Script loaded at:', new Date().toISOString());
        console.log('playerData exists:', typeof playerData !== 'undefined');
        console.log('playerData length:', playerData ? playerData.length : 'UNDEFINED');
        
        
        // State variables
        let selectedComparePlayers = [];
        let selectedSquadPlayers = [];
        let squadPositions = {}; // Track which position each player is assigned to
        let currentFormation = '4-3-3';
        let filteredPlayers = [...playerData]; // Initialize with all data
        let currentPage = 1;
        let playersPerPage = 25;
        let currentSortColumn = 'fga';
        let currentSortOrder = 'desc';

        // Tab Switching
        function switchTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
            
            const targetTab = document.getElementById(tabName + '-tab');
            if (targetTab) {
                targetTab.classList.add('active');
            }
            
            // Find and activate the clicked button
            const buttons = document.querySelectorAll('.tab-button');
            buttons.forEach(btn => {
                if (btn.textContent.includes(getTabLabel(tabName))) {
                    btn.classList.add('active');
                }
            });
            
            if (tabName === 'philosophy') {
                renderPhilosophyHeatmap();
            } else if (tabName === 'market') {
                renderMarketIntelligence();
            } else if (tabName === 'squad') {
                initializeSquadBuilder();
            }
        }
        
        function getTabLabel(tabName) {
            const labels = {
                'database': 'Player Database',
                'comparison': 'Compare Players',
                'market': 'Market Intelligence',
                'philosophy': 'Philosophy Heatmap',
                'squad': 'Squad Builder',
                'agents': 'Scout Network'
            };
            return labels[tabName] || '';
        }

        // DATABASE FUNCTIONS
        function quickFilter(type) {
            switch(type) {
                case 'legends':
                    filteredPlayers = playerData.filter(p => p.fga >= 90);
                    break;
                case 'elite':
                    filteredPlayers = playerData.filter(p => p.fga >= 85 && p.fga < 90);
                    break;
                case 'prospects':
                    filteredPlayers = playerData.filter(p => p.age <= 21);
                    break;
                case 'active':
                    filteredPlayers = playerData.filter(p => p.age <= 38);
                    break;
                case 'strikers':
                    filteredPlayers = playerData.filter(p => p.position === 'ST');
                    break;
                case 'midfielders':
                    filteredPlayers = playerData.filter(p => ['CM', 'AM', 'DM'].includes(p.position));
                    break;
                case 'defenders':
                    filteredPlayers = playerData.filter(p => ['CB', 'FB'].includes(p.position));
                    break;
                case 'goalkeepers':
                    filteredPlayers = playerData.filter(p => p.position === 'GK');
                    break;
                default:
                    filteredPlayers = [...playerData];
            }
            currentPage = 1;
            updateStats();
            renderTable();
        }

        function filterAndRender() {
            const search = document.getElementById('search-name').value.toLowerCase();
            filteredPlayers = playerData.filter(p => p.name.toLowerCase().includes(search));
            currentPage = 1;
            updateStats();
            renderTable();
        }

        function sortTable(column) {
            if (currentSortColumn === column) {
                currentSortOrder = currentSortOrder === 'asc' ? 'desc' : 'asc';
            } else {
                currentSortColumn = column;
                currentSortOrder = 'desc';
            }
            
            filteredPlayers.sort((a, b) => {
                let aVal = a[column];
                let bVal = b[column];
                
                if (typeof aVal === 'string') {
                    aVal = aVal.toLowerCase();
                    bVal = bVal.toLowerCase();
                }
                
                if (currentSortOrder === 'asc') {
                    return aVal > bVal ? 1 : -1;
                } else {
                    return aVal < bVal ? 1 : -1;
                }
            });
            
            renderTable();
        }

        function renderTable() {
            const tbody = document.getElementById('database-table-body');
            const start = (currentPage - 1) * playersPerPage;
            const end = start + playersPerPage;
            const pageData = filteredPlayers.slice(start, end);
            
            tbody.innerHTML = pageData.map(player => {
                // Get player image URL
                const imageUrl = player.player_image_url || player.image_url || 
                                (player.player_id ? `https://img.a.transfermarkt.technology/portrait/big/${player.player_id}.jpg` : null);
                
                // Get player initials for fallback
                const nameParts = (player.name || '').trim().split(' ').filter(p => p.length > 0);
                const initials = nameParts.length === 0 ? '‚öΩ' : 
                                nameParts.length === 1 ? nameParts[0].substring(0, 2).toUpperCase() :
                                (nameParts[0][0] + nameParts[nameParts.length - 1][0]).toUpperCase();
                
                // Create avatar HTML
                let avatarHtml;
                if (imageUrl && imageUrl !== 'null') {
                    avatarHtml = `
                        <img 
                            src="${imageUrl}" 
                            alt="${player.name}"
                            class="player-avatar-small"
                            onerror="this.style.display='none'; this.nextElementSibling.style.display='inline-flex';"
                            loading="lazy"
                        />
                        <div class="player-avatar-placeholder" style="display:none;">
                            ${initials}
                        </div>
                    `;
                } else {
                    avatarHtml = `
                        <div class="player-avatar-placeholder">
                            ${initials}
                        </div>
                    `;
                }
                
                return `
                    <tr class="hover:bg-slate-800/50 transition">
                        <td class="py-3">
                            <div class="player-name-cell">
                                ${avatarHtml}
                                <a href="${player.profileHtml}" target="_blank" class="text-blue-400 hover:text-blue-300 font-semibold">
                                    ${player.name}
                                </a>
                            </div>
                        </td>
                        <td class="py-3">${player.position}</td>
                        <td class="py-3">${player.age}</td>
                        <td class="py-3">${player.nationality}</td>
                        <td class="py-3"><span class="font-bold text-blue-400">${player.fga.toFixed(1)}</span></td>
                        <td class="py-3 text-sm">${player.bestPhilosophy}</td>
                        <td class="py-3">
                            <div class="flex gap-2">
                                <button onclick="addToComparison('${player.name.replace(/'/g, "\\'")}')" class="text-xs bg-blue-600 hover:bg-blue-700 px-3 py-1 rounded transition">
                                    Compare
                                </button>
                                <button onclick="exportPlayerProfile('${player.name.replace(/'/g, "\\'")}')" class="text-xs bg-yellow-600 hover:bg-yellow-700 px-3 py-1 rounded transition" title="Export Player Profile PDF">
                                    PDF
                                </button>
                            </div>
                        </td>
                    </tr>
                `;
            }).join('');
            
            document.getElementById('stat-showing').textContent = pageData.length;
            updatePagination();
        }

        function updatePagination() {
            const container = document.getElementById('pagination-container');
            const totalPages = Math.ceil(filteredPlayers.length / playersPerPage);
            
            if (totalPages <= 1) {
                container.innerHTML = '';
                return;
            }
            
            let html = '';
            
            // Previous button
            html += `<button class="pagination-btn" onclick="changePage(${currentPage - 1})" ${currentPage === 1 ? 'disabled' : ''}>
                ‚Üê Previous
            </button>`;
            
            // Page numbers
            const maxVisible = 7;
            let startPage = Math.max(1, currentPage - Math.floor(maxVisible / 2));
            let endPage = Math.min(totalPages, startPage + maxVisible - 1);
            
            if (endPage - startPage < maxVisible - 1) {
                startPage = Math.max(1, endPage - maxVisible + 1);
            }
            
            if (startPage > 1) {
                html += `<button class="pagination-btn" onclick="changePage(1)">1</button>`;
                if (startPage > 2) html += `<span class="px-2 text-slate-400">...</span>`;
            }
            
            for (let i = startPage; i <= endPage; i++) {
                html += `<button class="pagination-btn ${i === currentPage ? 'active' : ''}" onclick="changePage(${i})">
                    ${i}
                </button>`;
            }
            
            if (endPage < totalPages) {
                if (endPage < totalPages - 1) html += `<span class="px-2 text-slate-400">...</span>`;
                html += `<button class="pagination-btn" onclick="changePage(${totalPages})">${totalPages}</button>`;
            }
            
            // Next button
            html += `<button class="pagination-btn" onclick="changePage(${currentPage + 1})" ${currentPage === totalPages ? 'disabled' : ''}>
                Next ‚Üí
            </button>`;
            
            container.innerHTML = html;
        }

        function changePage(page) {
            const totalPages = Math.ceil(filteredPlayers.length / playersPerPage);
            if (page < 1 || page > totalPages) return;
            currentPage = page;
            renderTable();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function updateStats() {
            console.log('updateStats called');
            console.log('  playerData.length:', playerData.length);
            console.log('  filteredPlayers.length:', filteredPlayers.length);
            
            document.getElementById('stat-total').textContent = playerData.length;
            
            const avgFga = filteredPlayers.length > 0 
                ? (filteredPlayers.reduce((sum, p) => sum + p.fga, 0) / filteredPlayers.length).toFixed(1)
                : '0.0';
            document.getElementById('stat-avg-fga').textContent = avgFga;
            
            const legends = filteredPlayers.filter(p => p.fga >= 90).length;
            document.getElementById('stat-legends').textContent = legends;
            
            const elite = filteredPlayers.filter(p => p.fga >= 85 && p.fga < 90).length;
            document.getElementById('stat-elite').textContent = elite;
        }

        // COMPARISON FUNCTIONS
        function searchForComparison(query) {
            const results = document.getElementById('comparison-search-results');
            if (!query) {
                results.innerHTML = '<p class="text-slate-400 text-sm">Start typing to search players...</p>';
                return;
            }
            
            const matches = playerData.filter(p => 
                p.name.toLowerCase().includes(query.toLowerCase())
            ).slice(0, 10);
            
            results.innerHTML = matches.map(player => `
                <div class="player-card" onclick="addToComparison('${player.name.replace(/'/g, "\\'")}')">
                    <div class="flex justify-between items-center">
                        <div>
                            <div class="font-bold">${player.name}</div>
                            <div class="text-sm text-slate-400">${player.position} | ${player.nationality} | FGA: ${player.fga.toFixed(1)}</div>
                        </div>
                        <button class="bg-blue-600 px-3 py-1 rounded text-sm">Add</button>
                    </div>
                </div>
            `).join('');
        }

        function addToComparison(playerName) {
            if (selectedComparePlayers.length >= 4) {
                alert('Maximum 4 players can be compared');
                return;
            }
            
            const player = playerData.find(p => p.name === playerName);
            if (!player || selectedComparePlayers.find(p => p.name === playerName)) return;
            
            selectedComparePlayers.push(player);
            updateSelectedPlayers();
        }

        function removeFromComparison(playerName) {
            selectedComparePlayers = selectedComparePlayers.filter(p => p.name !== playerName);
            updateSelectedPlayers();
        }

        function updateSelectedPlayers() {
            const container = document.getElementById('selected-players');
            document.getElementById('selected-count').textContent = selectedComparePlayers.length;
            
            if (selectedComparePlayers.length === 0) {
                container.innerHTML = '<p class="text-slate-400 text-sm">Select players from the search results to compare</p>';
                return;
            }
            
            container.innerHTML = selectedComparePlayers.map(player => `
                <div class="player-card selected">
                    <div class="flex justify-between items-center">
                        <div>
                            <div class="font-bold">${player.name}</div>
                            <div class="text-sm text-slate-400">${player.position} | FGA: ${player.fga.toFixed(1)}</div>
                        </div>
                        <button onclick="removeFromComparison('${player.name.replace(/'/g, "\\'")}')" class="bg-red-600 px-3 py-1 rounded text-sm">Remove</button>
                    </div>
                </div>
            `).join('');
        }

        // ==================== ENHANCED COMPARISON TOOL - PHASE 1 ====================
        // ENHANCED COMPARISON TOOL - PHASE 1 IMPROVEMENTS
        // This replaces the generateComparison() function and adds helper functions
        
        // ============ COMPONENT SCORE ESTIMATION ============
        // ============ EMPIRE FGA CORE METRICS CALCULATION ============
        function calculateFGACoreMetrics(player) {
            const fga = player.fga;
            const pos = player.position;
            const age = player.age;
            const philosophy = player.bestPhilosophy;
            
            // Base FGA to 0-10 scale (FGA is already 0-100, divide by 10)
            const baseScore = fga / 10;
            
            // TIER 1: Core Attacking Metrics (0-10 scale)
            let xps = baseScore * 0.92; // Enhanced XPS Rating (Shooting)
            let stk = baseScore * 0.88; // STK (Steekpas)
            let rds = baseScore * 0.90; // RDS (Renard des Surfaces)
            let key = baseScore * 0.87; // KEY (Key Passes)
            
            // TIER 1: Core Passing Metrics
            let lgp = baseScore * 0.85; // LGP (Long Pass)
            let vrp = baseScore * 0.89; // VRP (Vertical Pass)
            let hzp = baseScore * 0.86; // HZP (Horizontal Pass)
            let unp = baseScore * 0.84; // UNP (Unpredictability)
            let dgp = baseScore * 0.88; // DGP (Dangerous Pass)
            
            // TIER 1: Core Defensive Metrics
            let mrk = baseScore * 0.82; // MRK (Marking)
            let tac = baseScore * 0.85; // TAC (Tackling)
            let int = baseScore * 0.87; // INT (Interceptions)
            let cle = baseScore * 0.84; // CLE (Clearances)
            let blo = baseScore * 0.83; // BLO (Blocks)
            
            // TIER 1: Core Possession Metrics
            let car = baseScore * 0.90; // CAR (Carrying)
            let drb = baseScore * 0.91; // DRB (Dribbling)
            
            // TIER 2: Composite Metrics
            let poi = baseScore * 0.93; // POI (Position Intelligence)
            let cpx = baseScore * 0.89; // CPX (Composure)
            let mob = baseScore * 0.86; // MOB (Mobility)
            
            // Position-specific adjustments
            if (pos === 'ST' || pos === 'WG') {
                xps *= 1.20; stk *= 1.25; rds *= 1.15;
                mrk *= 0.65; tac *= 0.60; int *= 0.70;
                drb *= 1.15; car *= 1.10;
            } else if (pos === 'AM') {
                xps *= 1.10; key *= 1.20; unp *= 1.15;
                vrp *= 1.10; dgp *= 1.15;
                mrk *= 0.75; tac *= 0.70;
                drb *= 1.10; poi *= 1.10;
            } else if (pos === 'CM') {
                lgp *= 1.10; vrp *= 1.05; hzp *= 1.10;
                key *= 1.05; poi *= 1.15;
                mrk *= 0.95; tac *= 0.95; int *= 1.05;
            } else if (pos === 'DM') {
                mrk *= 1.20; tac *= 1.25; int *= 1.20;
                lgp *= 1.05; poi *= 1.15;
                xps *= 0.75; stk *= 0.70;
            } else if (pos === 'CB') {
                mrk *= 1.25; tac *= 1.20; int *= 1.15;
                cle *= 1.25; blo *= 1.20;
                xps *= 0.60; stk *= 0.55; drb *= 0.70;
                poi *= 1.10;
            } else if (pos === 'FB') {
                mrk *= 1.10; tac *= 1.15; int *= 1.10;
                car *= 1.10; mob *= 1.15;
                xps *= 0.75; stk *= 0.70;
            } else if (pos === 'GK') {
                xps *= 0.50; stk *= 0.45;
                mrk *= 0.90; tac *= 0.85;
                poi *= 1.20; cpx *= 1.15;
            }
            
            // Age-based adjustments
            if (age <= 23) {
                mob *= 1.05; car *= 1.03;
                poi *= 0.95; cpx *= 0.93;
            } else if (age >= 24 && age <= 27) {
                mob *= 1.08; car *= 1.05; // Peak years
            } else if (age >= 28 && age <= 31) {
                poi *= 1.05; cpx *= 1.08; // Experience peak
                mob *= 0.98;
            } else if (age >= 32) {
                poi *= 1.10; cpx *= 1.12; // Veterans
                mob *= 0.88; car *= 0.90;
            }
            
            // Philosophy-based adjustments
            if (philosophy.includes('Ferguson') || philosophy.includes('Mental')) {
                cpx *= 1.12; poi *= 1.08;
            } else if (philosophy.includes('Guardiola') || philosophy.includes('Positional')) {
                poi *= 1.15; lgp *= 1.08; vrp *= 1.08;
            } else if (philosophy.includes('Cruyff') || philosophy.includes('Intelligence')) {
                poi *= 1.12; unp *= 1.10; drb *= 1.08;
            } else if (philosophy.includes('Simeone') || philosophy.includes('Cholismo')) {
                mrk *= 1.15; tac *= 1.12; cpx *= 1.10;
            } else if (philosophy.includes('Klopp') || philosophy.includes('Intensity')) {
                int *= 1.12; car *= 1.10; mob *= 1.12;
            }
            
            // Cap all values at 10.0
            const cap = (val) => Math.min(10.0, Math.max(0, val));
            
            return {
                // Tier 1 - Attacking
                xps: cap(xps),
                stk: cap(stk),
                rds: cap(rds),
                key: cap(key),
                
                // Tier 1 - Passing
                lgp: cap(lgp),
                vrp: cap(vrp),
                hzp: cap(hzp),
                unp: cap(unp),
                dgp: cap(dgp),
                
                // Tier 1 - Defensive
                mrk: cap(mrk),
                tac: cap(tac),
                int: cap(int),
                cle: cap(cle),
                blo: cap(blo),
                
                // Tier 1 - Possession
                car: cap(car),
                drb: cap(drb),
                
                // Tier 2 - Composite
                poi: cap(poi),
                cpx: cap(cpx),
                mob: cap(mob)
            };
        }
        
        // Helper function for component scores (for radar chart)
        function estimateComponentScores(player) {
            const metrics = calculateFGACoreMetrics(player);
            
            return {
                attacking: ((metrics.xps + metrics.stk + metrics.rds) / 3) * 10,
                passing: ((metrics.lgp + metrics.vrp + metrics.hzp + metrics.dgp) / 4) * 10,
                defending: ((metrics.mrk + metrics.tac + metrics.int) / 3) * 10,
                possession: ((metrics.car + metrics.drb) / 2) * 10,
                intelligence: ((metrics.poi + metrics.cpx) / 2) * 10,
                physicality: ((metrics.mob + metrics.car) / 2) * 10
            };
        }
        
        // ============ DERIVED METRICS CALCULATION ============
        function calculateDerivedMetrics(player) {
            // Value Efficiency Score: FGA quality per ‚Ç¨1M
            const valueEfficiency = player.marketValue > 0 
                ? ((player.fga - 75) / (player.marketValue / 1000000)).toFixed(3)
                : null;
            
            // Age-Adjusted Rating (Peak Performance Index)
            let ageMultiplier = 1.0;
            if (player.age <= 20) ageMultiplier = 0.90;
            else if (player.age <= 23) ageMultiplier = 0.95;
            else if (player.age >= 24 && player.age <= 28) ageMultiplier = 1.00; // peak
            else if (player.age >= 29 && player.age <= 32) ageMultiplier = 0.96;
            else if (player.age >= 33 && player.age <= 36) ageMultiplier = 0.88;
            else ageMultiplier = 0.75;
            
            const ageAdjustedRating = (player.fga * ageMultiplier).toFixed(1);
            
            // Longevity Score: Expected elite years remaining
            const yearsToDecline = Math.max(0, 33 - player.age);
            const longevityScore = (yearsToDecline * (player.fga / 100)).toFixed(1);
            
            // Age Category
            let ageCategory, ageBadge;
            if (player.age <= 23) {
                ageCategory = 'Developing';
                ageBadge = 'üìà';
            } else if (player.age >= 24 && player.age <= 29) {
                ageCategory = 'Peak Years';
                ageBadge = 'üåü';
            } else if (player.age >= 30 && player.age <= 33) {
                ageCategory = 'Experienced';
                ageBadge = 'üëë';
            } else {
                ageCategory = 'Veteran';
                ageBadge = 'üìâ';
            }
            
            return {
                valueEfficiency,
                ageAdjustedRating,
                longevityScore,
                ageCategory,
                ageBadge
            };
        }
        
        // ============ STRENGTH/WEAKNESS ANALYSIS ============
        function analyzeStrengthsWeaknesses(player) {
            const components = estimateComponentScores(player);
            const derived = calculateDerivedMetrics(player);
            
            const strengths = [];
            const weaknesses = [];
            
            // Analyze components
            if (components.attacking >= 90) strengths.push('Elite attacking threat');
            if (components.passing >= 90) strengths.push('Exceptional passing ability');
            if (components.defending >= 90) strengths.push('World-class defensive skills');
            if (components.technical >= 95) strengths.push('Outstanding technical ability');
            if (components.mental >= 92) strengths.push('Elite mentality and decision-making');
            
            // Age-based strengths/weaknesses
            if (player.age >= 24 && player.age <= 29) {
                strengths.push('In prime performance years');
            } else if (player.age <= 23) {
                strengths.push('High resale value potential');
            } else if (player.age >= 33) {
                weaknesses.push('Limited career longevity remaining');
            }
            
            // Value-based
            if (derived.valueEfficiency && parseFloat(derived.valueEfficiency) > 0.3) {
                strengths.push('Exceptional value for money');
            } else if (derived.valueEfficiency && parseFloat(derived.valueEfficiency) < 0.1) {
                weaknesses.push('Premium price relative to quality');
            }
            
            // Component weaknesses
            if (components.attacking < 75 && !['CB', 'DM', 'GK'].includes(player.position)) {
                weaknesses.push('Limited offensive contribution');
            }
            if (components.defending < 75 && ['CB', 'FB', 'DM'].includes(player.position)) {
                weaknesses.push('Defensive vulnerabilities');
            }
            if (components.physical < 75 && player.age <= 30) {
                weaknesses.push('Physical limitations');
            }
            
            // Ensure we have at least 2-3 strengths and 1-2 weaknesses
            if (strengths.length === 0) {
                strengths.push('Solid all-around capabilities');
                strengths.push('Reliable performer');
            }
            if (weaknesses.length === 0) {
                weaknesses.push('Few obvious weaknesses');
            }
            
            return {
                strengths: strengths.slice(0, 3),
                weaknesses: weaknesses.slice(0, 2)
            };
        }
        
        // ============ TACTICAL RECOMMENDATIONS ============
        function generateTacticalRecommendations(players) {
            const recommendations = [];
            
            // Analyze for high-pressing systems
            const pressingPlayers = players.filter(p => 
                p.bestPhilosophy.includes('Ferguson') || 
                p.bestPhilosophy.includes('Klopp') || 
                p.bestPhilosophy.includes('Simeone') ||
                p.bestPhilosophy.includes('Cholismo')
            );
            
            if (pressingPlayers.length > 0) {
                const best = pressingPlayers.sort((a, b) => {
                    const aComponents = estimateComponentScores(a);
                    const bComponents = estimateComponentScores(b);
                    return (bComponents.physical + bComponents.mental) - (aComponents.physical + aComponents.mental);
                })[0];
                
                recommendations.push({
                    icon: '‚ö°',
                    system: 'High-Pressing Systems',
                    recommended: best.name,
                    reason: `${best.name}'s ${best.bestPhilosophy} philosophy and strong physical/mental attributes make them ideal for intense, counter-pressing football.`
                });
            }
            
            // Analyze for possession systems
            const possessionPlayers = players.filter(p =>
                p.bestPhilosophy.includes('Guardiola') ||
                p.bestPhilosophy.includes('Cruyff') ||
                p.bestPhilosophy.includes('Xavi') ||
                p.bestPhilosophy.includes('Positional')
            );
            
            if (possessionPlayers.length > 0) {
                const best = possessionPlayers.sort((a, b) => {
                    const aComponents = estimateComponentScores(a);
                    const bComponents = estimateComponentScores(b);
                    return (bComponents.passing + bComponents.technical) - (aComponents.passing + aComponents.technical);
                })[0];
                
                recommendations.push({
                    icon: 'üéØ',
                    system: 'Possession Football',
                    recommended: best.name,
                    reason: `${best.name} thrives in patient, build-up oriented systems with their exceptional passing and technical ability aligned with ${best.bestPhilosophy}.`
                });
            }
            
            // Analyze for counter-attacking systems
            const counterPlayers = players.filter(p =>
                p.bestPhilosophy.includes('Mourinho') ||
                p.bestPhilosophy.includes('Simeone') ||
                p.position === 'ST' || p.position === 'WG'
            );
            
            if (counterPlayers.length > 0) {
                const best = counterPlayers.sort((a, b) => {
                    const aComponents = estimateComponentScores(a);
                    const bComponents = estimateComponentScores(b);
                    return (bComponents.attacking + bComponents.physical) - (aComponents.attacking + aComponents.physical);
                })[0];
                
                recommendations.push({
                    icon: '‚öîÔ∏è',
                    system: 'Counter-Attacking',
                    recommended: best.name,
                    reason: `${best.name}'s pace, directness, and attacking threat make them perfect for exploiting space on the break.`
                });
            }
            
            // Value recommendation
            const activePlayersWithValue = players.filter(p => p.marketValue > 0);
            if (activePlayersWithValue.length > 1) {
                const valuePlayers = activePlayersWithValue.map(p => ({
                    ...p,
                    efficiency: (p.fga - 75) / (p.marketValue / 1000000)
                })).sort((a, b) => b.efficiency - a.efficiency);
                
                const bestValue = valuePlayers[0];
                recommendations.push({
                    icon: 'üí∞',
                    system: 'Budget Optimization',
                    recommended: bestValue.name,
                    reason: `${bestValue.name} offers exceptional value at ‚Ç¨${(bestValue.marketValue / 1000000).toFixed(1)}M for FGA ${bestValue.fga.toFixed(1)} quality (${bestValue.efficiency.toFixed(3)} FGA/‚Ç¨M).`
                });
            }
            
            return recommendations;
        }
        
        // ============ POSITION ICON HELPER ============
        function getPositionIcon(position) {
            const icons = {
                'ST': '‚öΩ', 'WG': '‚ö°', 'AM': 'üéØ', 'CM': 'üé®',
                'DM': 'üõ°Ô∏è', 'FB': 'üèÉ', 'CB': 'üß±', 'GK': 'üß§'
            };
            return icons[position] || '‚öΩ';
        }
        
        // ============ FIND BEST IN CATEGORY ============
        function findBestInCategory(players, category) {
            if (category === 'fga') {
                const best = Math.max(...players.map(p => p.fga));
                return players.filter(p => p.fga === best).map(p => p.name);
            } else if (category === 'value' && players.every(p => p.marketValue > 0)) {
                const efficiencies = players.map(p => ({
                    name: p.name,
                    eff: (p.fga - 75) / (p.marketValue / 1000000)
                }));
                const best = Math.max(...efficiencies.map(e => e.eff));
                return efficiencies.filter(e => e.eff === best).map(e => e.name);
            } else if (category === 'longevity') {
                const scores = players.map(p => ({
                    name: p.name,
                    score: Math.max(0, (33 - p.age) * (p.fga / 100))
                }));
                const best = Math.max(...scores.map(s => s.score));
                return scores.filter(s => s.score === best).map(s => s.name);
            }
            return [];
        }
        
        
        // ============ PHILOSOPHY COMPATIBILITY SCORING ============
        function calculatePhilosophyScores(player) {
            const fga = player.fga;
            const pos = player.position;
            const philosophy = player.bestPhilosophy;
            const age = player.age;
            
            // Base score from FGA (scaled to 0-10)
            const baseScore = fga / 10;
            
            // Complete 60-Philosophy Framework with Schools
            const philosophies = {
                // ========================================
                // DUTCH SCHOOL (6 Philosophies)
                // ========================================
                'Cruyff Intelligence': {
                    weight: 1.38, school: 'Dutch',
                    positionFit: { AM: 1.0, ST: 1.0, CM: 0.95, WG: 0.95, FB: 0.85, DM: 0.85, CB: 0.80, GK: 0.65, LW: 1.0, RW: 1.0, LB: 0.85, RB: 0.85 },
                    keywords: ['Cruyff', 'Intelligence'],
                    description: 'Total football, creativity, spatial awareness'
                },
                'Michels Total Football': {
                    weight: 1.35, school: 'Dutch',
                    positionFit: { CM: 1.0, FB: 1.0, AM: 0.95, DM: 0.95, CB: 0.90, ST: 0.90, WG: 0.90, GK: 0.75, LW: 0.90, RW: 0.90, LB: 1.0, RB: 1.0 },
                    keywords: ['Michels', 'Total'],
                    description: 'Total football, positional fluidity, versatility'
                },
                'Van Gaal Discipline': {
                    weight: 1.32, school: 'Dutch',
                    positionFit: { CB: 1.0, DM: 1.0, CM: 0.95, FB: 0.90, AM: 0.85, ST: 0.80, WG: 0.75, GK: 0.85, LB: 0.90, RB: 0.90, LW: 0.75, RW: 0.75 },
                    keywords: ['Van Gaal', 'Discipline'],
                    description: 'Disciplined possession, tactical strictness, organization'
                },
                'Kov√°cs Methodical': {
                    weight: 1.28, school: 'Dutch',
                    positionFit: { DM: 1.0, CM: 0.95, CB: 0.95, FB: 0.90, AM: 0.85, ST: 0.80, WG: 0.75, GK: 0.80, LB: 0.90, RB: 0.90, LW: 0.75, RW: 0.75 },
                    keywords: ['Kov√°cs', 'Kovacs', 'Method'],
                    description: 'Methodical approach, systematic play'
                },
                'Hiddink Pragmatic': {
                    weight: 1.24, school: 'Dutch',
                    positionFit: { CM: 0.95, DM: 0.95, CB: 0.95, FB: 0.90, AM: 0.85, ST: 0.85, WG: 0.80, GK: 0.80, LB: 0.90, RB: 0.90, LW: 0.80, RW: 0.80 },
                    keywords: ['Hiddink', 'Pragmatic'],
                    description: 'Pragmatic tactics, adaptability'
                },
                'Beenhakker European': {
                    weight: 1.22, school: 'Dutch',
                    positionFit: { CM: 0.90, CB: 0.90, DM: 0.90, FB: 0.85, AM: 0.85, ST: 0.85, WG: 0.80, GK: 0.75, LB: 0.85, RB: 0.85, LW: 0.80, RW: 0.80 },
                    keywords: ['Beenhakker', 'European'],
                    description: 'European tactical fusion, professionalism'
                },

                // ========================================
                // SPANISH SCHOOL (7 Philosophies)
                // ========================================
                'Guardiola Positional': {
                    weight: 1.40, school: 'Spanish',
                    positionFit: { CM: 1.0, DM: 1.0, AM: 0.95, FB: 0.90, CB: 0.90, ST: 0.80, WG: 0.75, GK: 0.70, LW: 0.75, RW: 0.75, LB: 0.90, RB: 0.90 },
                    keywords: ['Guardiola', 'Positional', 'Possession'],
                    description: 'Positional play, passing precision, intelligence'
                },
                'Aragon√©s Pride': {
                    weight: 1.30, school: 'Spanish',
                    positionFit: { CM: 0.95, AM: 0.95, CB: 0.90, DM: 0.90, FB: 0.85, ST: 0.85, WG: 0.85, GK: 0.75, LW: 0.85, RW: 0.85, LB: 0.85, RB: 0.85 },
                    keywords: ['Aragon√©s', 'Aragones', 'Pride'],
                    description: 'Spanish pride, technical excellence'
                },
                'Carniglia Practical': {
                    weight: 1.28, school: 'Spanish',
                    positionFit: { ST: 0.95, CB: 0.95, DM: 0.90, CM: 0.90, FB: 0.85, AM: 0.85, WG: 0.80, GK: 0.80, LW: 0.80, RW: 0.80, LB: 0.85, RB: 0.85 },
                    keywords: ['Carniglia', 'Practical'],
                    description: 'Practical effectiveness, counter-attacking'
                },
                'Emery Intensity': {
                    weight: 1.26, school: 'Spanish',
                    positionFit: { CM: 0.95, DM: 0.95, FB: 0.90, CB: 0.90, WG: 0.85, ST: 0.85, AM: 0.85, GK: 0.75, LW: 0.85, RW: 0.85, LB: 0.90, RB: 0.90 },
                    keywords: ['Emery', 'Intensity'],
                    description: 'High intensity pressing, detailed preparation'
                },
                'Mu√±oz Physical': {
                    weight: 1.26, school: 'Spanish',
                    positionFit: { CB: 0.95, DM: 0.95, ST: 0.90, FB: 0.85, CM: 0.85, AM: 0.80, WG: 0.75, GK: 0.80, LW: 0.75, RW: 0.75, LB: 0.85, RB: 0.85 },
                    keywords: ['Mu√±oz', 'Munoz', 'Physical'],
                    description: 'Physical dominance, aerial strength'
                },
                'Pellegrini Balance': {
                    weight: 1.24, school: 'Spanish',
                    positionFit: { CM: 0.90, AM: 0.90, CB: 0.85, DM: 0.85, FB: 0.85, ST: 0.85, WG: 0.85, GK: 0.75, LW: 0.85, RW: 0.85, LB: 0.85, RB: 0.85 },
                    keywords: ['Pellegrini', 'Balance'],
                    description: 'Balanced approach, attacking fluidity'
                },
                'Villalonga Tactical': {
                    weight: 1.24, school: 'Spanish',
                    positionFit: { CB: 0.90, DM: 0.90, CM: 0.85, FB: 0.85, AM: 0.80, ST: 0.80, WG: 0.75, GK: 0.80, LW: 0.75, RW: 0.75, LB: 0.85, RB: 0.85 },
                    keywords: ['Villalonga', 'Tactical'],
                    description: 'Tactical discipline, defensive organization'
                },

                // ========================================
                // ITALIAN SCHOOL (8 Philosophies)
                // ========================================
                'Herrera Catenaccio': {
                    weight: 1.35, school: 'Italian',
                    positionFit: { CB: 1.0, DM: 1.0, FB: 0.95, CM: 0.85, GK: 0.90, AM: 0.65, ST: 0.70, WG: 0.65, LB: 0.95, RB: 0.95, LW: 0.65, RW: 0.65 },
                    keywords: ['Herrera', 'Catenaccio'],
                    description: 'Defensive fortress, tactical cynicism'
                },
                'Rocco Defense': {
                    weight: 1.32, school: 'Italian',
                    positionFit: { CB: 1.0, DM: 0.95, FB: 0.90, GK: 0.95, CM: 0.80, AM: 0.60, ST: 0.65, WG: 0.60, LB: 0.90, RB: 0.90, LW: 0.60, RW: 0.60 },
                    keywords: ['Rocco', 'Defense'],
                    description: 'Ultra-defensive, zone marking'
                },
                'Lippi Leadership': {
                    weight: 1.32, school: 'Italian',
                    positionFit: { CB: 0.95, DM: 0.95, CM: 0.90, FB: 0.90, AM: 0.80, ST: 0.85, WG: 0.75, GK: 0.85, LB: 0.90, RB: 0.90, LW: 0.75, RW: 0.75 },
                    keywords: ['Lippi', 'Leadership'],
                    description: 'Leadership, tactical flexibility'
                },
                'Trapattoni Organization': {
                    weight: 1.30, school: 'Italian',
                    positionFit: { CB: 0.95, DM: 0.95, CM: 0.90, FB: 0.85, AM: 0.75, ST: 0.80, WG: 0.70, GK: 0.85, LB: 0.85, RB: 0.85, LW: 0.70, RW: 0.70 },
                    keywords: ['Trapattoni', 'Organization'],
                    description: 'Meticulous organization, defensive solidity'
                },
                'Bearzot Pragmatic': {
                    weight: 1.28, school: 'Italian',
                    positionFit: { CB: 0.90, DM: 0.90, CM: 0.85, FB: 0.85, ST: 0.85, AM: 0.80, WG: 0.75, GK: 0.80, LB: 0.85, RB: 0.85, LW: 0.75, RW: 0.75 },
                    keywords: ['Bearzot', 'Pragmatic'],
                    description: 'Pragmatic tactics, team unity'
                },
                'Sacchi Pressing': {
                    weight: 1.28, school: 'Italian',
                    positionFit: { CB: 1.0, DM: 1.0, CM: 0.95, FB: 0.95, AM: 0.80, ST: 0.75, WG: 0.75, GK: 0.80, LB: 0.95, RB: 0.95, LW: 0.75, RW: 0.75 },
                    keywords: ['Sacchi', 'Pressing', 'Maldini'],
                    description: 'Organized pressing, defensive compactness'
                },
                'Carcano Method': {
                    weight: 1.22, school: 'Italian',
                    positionFit: { CB: 0.85, DM: 0.85, CM: 0.80, FB: 0.80, AM: 0.75, ST: 0.80, WG: 0.70, GK: 0.75, LB: 0.80, RB: 0.80, LW: 0.70, RW: 0.70 },
                    keywords: ['Carcano', 'Method'],
                    description: 'Systematic approach, tactical discipline'
                },
                'Cesarini Heroes': {
                    weight: 1.20, school: 'Italian',
                    positionFit: { ST: 0.90, AM: 0.85, CM: 0.80, CB: 0.80, DM: 0.80, FB: 0.75, WG: 0.85, GK: 0.70, LW: 0.85, RW: 0.85, LB: 0.75, RB: 0.75 },
                    keywords: ['Cesarini', 'Heroes'],
                    description: 'Late heroics, mental resilience'
                },

                // ========================================
                // ENGLISH SCHOOL (8 Philosophies)
                // ========================================
                'Ferguson Mental': {
                    weight: 1.45, school: 'English',
                    positionFit: { ST: 1.0, WG: 1.0, AM: 0.95, CM: 0.95, DM: 0.90, FB: 0.85, CB: 0.85, GK: 0.80, LW: 1.0, RW: 1.0, LB: 0.85, RB: 0.85 },
                    keywords: ['Ferguson', 'Mental'],
                    description: 'Mental strength, winning mentality'
                },
                'Clough Genius': {
                    weight: 1.38, school: 'English',
                    positionFit: { ST: 0.95, AM: 0.95, CM: 0.90, WG: 0.90, CB: 0.85, DM: 0.85, FB: 0.85, GK: 0.75, LW: 0.90, RW: 0.90, LB: 0.85, RB: 0.85 },
                    keywords: ['Clough', 'Genius'],
                    description: 'Tactical genius, attacking flair'
                },
                'Busby Babes': {
                    weight: 1.35, school: 'English',
                    positionFit: { ST: 0.95, AM: 0.95, WG: 0.95, CM: 0.90, FB: 0.85, DM: 0.80, CB: 0.80, GK: 0.75, LW: 0.95, RW: 0.95, LB: 0.85, RB: 0.85 },
                    keywords: ['Busby', 'Babes'],
                    description: 'Attacking football, youth development'
                },
                'Paisley Consistency': {
                    weight: 1.34, school: 'English',
                    positionFit: { CM: 0.95, CB: 0.95, DM: 0.90, FB: 0.90, AM: 0.85, ST: 0.85, WG: 0.85, GK: 0.85, LW: 0.85, RW: 0.85, LB: 0.90, RB: 0.90 },
                    keywords: ['Paisley', 'Consistency'],
                    description: 'Consistency, tactical simplicity'
                },
                'Shankly Spirit': {
                    weight: 1.32, school: 'English',
                    positionFit: { CM: 0.95, ST: 0.90, CB: 0.90, DM: 0.90, FB: 0.85, AM: 0.85, WG: 0.85, GK: 0.80, LW: 0.85, RW: 0.85, LB: 0.85, RB: 0.85 },
                    keywords: ['Shankly', 'Spirit'],
                    description: 'Fighting spirit, team unity, passion'
                },
                'Robson Passion': {
                    weight: 1.30, school: 'English',
                    positionFit: { CM: 0.90, ST: 0.90, AM: 0.90, CB: 0.85, DM: 0.85, FB: 0.85, WG: 0.85, GK: 0.75, LW: 0.85, RW: 0.85, LB: 0.85, RB: 0.85 },
                    keywords: ['Robson', 'Passion'],
                    description: 'Passion, box-to-box energy'
                },
                'Venables Intelligence': {
                    weight: 1.28, school: 'English',
                    positionFit: { AM: 0.95, CM: 0.90, ST: 0.85, CB: 0.85, DM: 0.85, FB: 0.85, WG: 0.85, GK: 0.75, LW: 0.85, RW: 0.85, LB: 0.85, RB: 0.85 },
                    keywords: ['Venables', 'Intelligence'],
                    description: 'Tactical intelligence, innovation'
                },
                'Winterbottom Method': {
                    weight: 1.24, school: 'English',
                    positionFit: { CB: 0.85, CM: 0.85, DM: 0.85, FB: 0.80, AM: 0.80, ST: 0.80, WG: 0.75, GK: 0.75, LW: 0.75, RW: 0.75, LB: 0.80, RB: 0.80 },
                    keywords: ['Winterbottom', 'Method'],
                    description: 'Methodical coaching, professionalism'
                },

                // ========================================
                // GERMAN SCHOOL (6 Philosophies)
                // ========================================
                'Beckenbauer Elegance': {
                    weight: 1.36, school: 'German',
                    positionFit: { CB: 1.0, DM: 1.0, CM: 0.95, FB: 0.90, AM: 0.85, ST: 0.80, WG: 0.75, GK: 0.80, LW: 0.75, RW: 0.75, LB: 0.90, RB: 0.90 },
                    keywords: ['Beckenbauer', 'Elegance'],
                    description: 'Elegant sweeper play, ball-playing defenders'
                },
                'Heynckes Precision': {
                    weight: 1.34, school: 'German',
                    positionFit: { CM: 0.95, CB: 0.95, DM: 0.95, FB: 0.90, AM: 0.85, ST: 0.85, WG: 0.80, GK: 0.85, LW: 0.80, RW: 0.80, LB: 0.90, RB: 0.90 },
                    keywords: ['Heynckes', 'Precision'],
                    description: 'Tactical precision, high pressing'
                },
                'Hitzfeld Success': {
                    weight: 1.32, school: 'German',
                    positionFit: { CM: 0.90, CB: 0.90, DM: 0.90, FB: 0.85, ST: 0.85, AM: 0.85, WG: 0.80, GK: 0.80, LW: 0.80, RW: 0.80, LB: 0.85, RB: 0.85 },
                    keywords: ['Hitzfeld', 'Success'],
                    description: 'Winning mentality, tactical adaptability'
                },
                'Happel Innovation': {
                    weight: 1.30, school: 'German',
                    positionFit: { CM: 0.90, AM: 0.90, ST: 0.85, CB: 0.85, DM: 0.85, FB: 0.85, WG: 0.85, GK: 0.75, LW: 0.85, RW: 0.85, LB: 0.85, RB: 0.85 },
                    keywords: ['Happel', 'Innovation'],
                    description: 'Tactical innovation, attacking philosophy'
                },
                'Cramer Method': {
                    weight: 1.28, school: 'German',
                    positionFit: { CB: 0.90, DM: 0.90, CM: 0.85, FB: 0.85, AM: 0.80, ST: 0.80, WG: 0.75, GK: 0.80, LW: 0.75, RW: 0.75, LB: 0.85, RB: 0.85 },
                    keywords: ['Cramer', 'Method'],
                    description: 'Methodical preparation, systematic training'
                },
                'Herberger Discipline': {
                    weight: 1.28, school: 'German',
                    positionFit: { CB: 0.90, DM: 0.90, CM: 0.85, FB: 0.85, AM: 0.75, ST: 0.80, WG: 0.70, GK: 0.85, LW: 0.70, RW: 0.70, LB: 0.85, RB: 0.85 },
                    keywords: ['Herberger', 'Discipline'],
                    description: 'German discipline, organization'
                },

                // ========================================
                // FRENCH SCHOOL (5 Philosophies)
                // ========================================
                'Wenger Development': {
                    weight: 1.32, school: 'French',
                    positionFit: { AM: 1.0, CM: 0.95, ST: 0.90, WG: 0.90, FB: 0.85, DM: 0.85, CB: 0.80, GK: 0.70, LW: 0.90, RW: 0.90, LB: 0.85, RB: 0.85 },
                    keywords: ['Wenger', 'Development'],
                    description: 'Youth development, technical football'
                },
                'Deschamps Pragmatic': {
                    weight: 1.30, school: 'French',
                    positionFit: { DM: 0.95, CM: 0.95, CB: 0.90, FB: 0.85, AM: 0.80, ST: 0.80, WG: 0.75, GK: 0.85, LW: 0.75, RW: 0.75, LB: 0.85, RB: 0.85 },
                    keywords: ['Deschamps', 'Pragmatic'],
                    description: 'Pragmatic tactics, defensive organization'
                },
                'Platini Elegance': {
                    weight: 1.28, school: 'French',
                    positionFit: { AM: 1.0, CM: 0.95, WG: 0.90, ST: 0.85, FB: 0.75, DM: 0.70, CB: 0.65, GK: 0.60, LW: 0.90, RW: 0.90, LB: 0.75, RB: 0.75 },
                    keywords: ['Platini', 'Elegance'],
                    description: 'Elegant play, technical excellence'
                },
                'Suaudeau Method': {
                    weight: 1.26, school: 'French',
                    positionFit: { CM: 0.90, AM: 0.85, CB: 0.85, DM: 0.85, FB: 0.80, ST: 0.80, WG: 0.80, GK: 0.75, LW: 0.80, RW: 0.80, LB: 0.80, RB: 0.80 },
                    keywords: ['Suaudeau', 'Method'],
                    description: 'Systematic youth development'
                },
                'Fontaine Attack': {
                    weight: 1.24, school: 'French',
                    positionFit: { ST: 1.0, WG: 0.95, AM: 0.90, CM: 0.75, FB: 0.65, DM: 0.60, CB: 0.55, GK: 0.50, LW: 0.95, RW: 0.95, LB: 0.65, RB: 0.65 },
                    keywords: ['Fontaine', 'Attack'],
                    description: 'Pure attacking football, goal-scoring'
                },

                // ========================================
                // SOUTH AMERICAN SCHOOL (7 Philosophies)
                // ========================================
                'Bielsa Verticalidad': {
                    weight: 1.34, school: 'South American',
                    positionFit: { CM: 1.0, FB: 0.95, WG: 0.95, AM: 0.90, ST: 0.90, DM: 0.85, CB: 0.80, GK: 0.70, LW: 0.95, RW: 0.95, LB: 0.95, RB: 0.95 },
                    keywords: ['Bielsa', 'Vertical'],
                    description: 'Vertical football, high intensity'
                },
                'Simeone Cholismo': {
                    weight: 1.35, school: 'South American',
                    positionFit: { CB: 1.0, DM: 1.0, FB: 0.95, CM: 0.90, AM: 0.70, ST: 0.70, WG: 0.70, GK: 0.85, LB: 0.95, RB: 0.95, LW: 0.70, RW: 0.70 },
                    keywords: ['Simeone', 'Cholismo'],
                    description: 'Defensive intensity, warrior mentality'
                },
                'Bilardo Combative': {
                    weight: 1.32, school: 'South American',
                    positionFit: { DM: 1.0, CB: 0.95, CM: 0.90, FB: 0.90, AM: 0.75, ST: 0.80, WG: 0.70, GK: 0.85, LB: 0.90, RB: 0.90, LW: 0.70, RW: 0.70 },
                    keywords: ['Bilardo', 'Combative'],
                    description: 'Combative play, tactical shrewdness'
                },
                'Menotti Artistry': {
                    weight: 1.28, school: 'South American',
                    positionFit: { AM: 1.0, WG: 1.0, ST: 0.95, CM: 0.80, FB: 0.70, DM: 0.60, CB: 0.50, GK: 0.40, LW: 1.0, RW: 1.0, LB: 0.70, RB: 0.70 },
                    keywords: ['Menotti', 'Artistry'],
                    description: 'Individual artistry, creative freedom'
                },
                'Zagallo Tactical': {
                    weight: 1.22, school: 'South American',
                    positionFit: { CM: 0.90, DM: 0.90, CB: 0.85, FB: 0.85, AM: 0.80, ST: 0.80, WG: 0.80, GK: 0.75, LW: 0.80, RW: 0.80, LB: 0.85, RB: 0.85 },
                    keywords: ['Zagallo', 'Tactical'],
                    description: 'Tactical intelligence, systematic approach'
                },
                'Santana Joga Bonito': {
                    weight: 1.18, school: 'South American',
                    positionFit: { AM: 0.95, ST: 0.95, WG: 0.95, CM: 0.85, FB: 0.75, DM: 0.70, CB: 0.65, GK: 0.60, LW: 0.95, RW: 0.95, LB: 0.75, RB: 0.75 },
                    keywords: ['Santana', 'Joga Bonito'],
                    description: 'Beautiful football, artistic expression'
                },
                'Feola System': {
                    weight: 1.16, school: 'South American',
                    positionFit: { CM: 0.85, CB: 0.85, DM: 0.85, FB: 0.80, AM: 0.80, ST: 0.80, WG: 0.75, GK: 0.75, LW: 0.75, RW: 0.75, LB: 0.80, RB: 0.80 },
                    keywords: ['Feola', 'System'],
                    description: 'Systematic organization, methodical'
                },

                // ========================================
                // EASTERN EUROPEAN SCHOOL (4 Philosophies)
                // ========================================
                'Lobanovskyi Scientific': {
                    weight: 1.36, school: 'Eastern European',
                    positionFit: { CM: 1.0, CB: 0.95, DM: 0.95, FB: 0.90, AM: 0.90, ST: 0.85, WG: 0.85, GK: 0.80, LW: 0.85, RW: 0.85, LB: 0.90, RB: 0.90 },
                    keywords: ['Lobanovskyi', 'Scientific'],
                    description: 'Scientific methods, data analysis'
                },
                'Guttmann Innovation': {
                    weight: 1.32, school: 'Eastern European',
                    positionFit: { AM: 0.95, ST: 0.95, CM: 0.90, WG: 0.90, CB: 0.80, DM: 0.80, FB: 0.80, GK: 0.70, LW: 0.90, RW: 0.90, LB: 0.80, RB: 0.80 },
                    keywords: ['Guttmann', 'Innovation'],
                    description: 'Tactical innovation, attacking football'
                },
                'Sebes Method': {
                    weight: 1.30, school: 'Eastern European',
                    positionFit: { CM: 0.95, AM: 0.90, CB: 0.85, DM: 0.85, FB: 0.85, ST: 0.85, WG: 0.85, GK: 0.75, LW: 0.85, RW: 0.85, LB: 0.85, RB: 0.85 },
                    keywords: ['Sebes', 'Method'],
                    description: 'Revolutionary tactics, fluid positions'
                },
                'Gorski Discipline': {
                    weight: 1.26, school: 'Eastern European',
                    positionFit: { CB: 0.90, DM: 0.90, CM: 0.85, FB: 0.85, AM: 0.75, ST: 0.75, WG: 0.70, GK: 0.80, LW: 0.70, RW: 0.70, LB: 0.85, RB: 0.85 },
                    keywords: ['Gorski', 'Discipline'],
                    description: 'Tactical discipline, defensive organization'
                },

                // ========================================
                // MODERN MASTERS (9 Philosophies)
                // ========================================
                'Klopp Intensity': {
                    weight: 1.32, school: 'Modern',
                    positionFit: { CM: 1.0, FB: 1.0, WG: 0.95, ST: 0.95, AM: 0.90, DM: 0.90, CB: 0.85, GK: 0.70, LW: 0.95, RW: 0.95, LB: 1.0, RB: 1.0 },
                    keywords: ['Klopp', 'Intensity'],
                    description: 'High pressing, counter-pressing, heavy metal football'
                },
                'Nagelsmann Innovation': {
                    weight: 1.32, school: 'Modern',
                    positionFit: { CM: 0.95, CB: 0.90, AM: 0.90, FB: 0.90, DM: 0.90, ST: 0.85, WG: 0.85, GK: 0.80, LW: 0.85, RW: 0.85, LB: 0.90, RB: 0.90 },
                    keywords: ['Nagelsmann', 'Innovation'],
                    description: 'Tactical innovation, data-driven'
                },
                'Ancelotti Flexible': {
                    weight: 1.30, school: 'Modern',
                    positionFit: { CM: 0.95, AM: 0.90, CB: 0.90, DM: 0.90, FB: 0.85, ST: 0.85, WG: 0.85, GK: 0.80, LW: 0.85, RW: 0.85, LB: 0.85, RB: 0.85 },
                    keywords: ['Ancelotti', 'Flexible'],
                    description: 'Tactical flexibility, man-management'
                },
                'Mourinho Tactical': {
                    weight: 1.30, school: 'Modern',
                    positionFit: { CB: 1.0, DM: 1.0, FB: 0.95, CM: 0.90, AM: 0.80, ST: 0.80, WG: 0.75, GK: 0.85, LB: 0.95, RB: 0.95, LW: 0.75, RW: 0.75 },
                    keywords: ['Mourinho', 'Tactical'],
                    description: 'Tactical discipline, defensive structure'
                },
                'Flick Combination': {
                    weight: 1.30, school: 'Modern',
                    positionFit: { CM: 0.95, CB: 0.90, FB: 0.90, AM: 0.90, ST: 0.85, DM: 0.85, WG: 0.85, GK: 0.75, LW: 0.85, RW: 0.85, LB: 0.90, RB: 0.90 },
                    keywords: ['Flick', 'Combination'],
                    description: 'Combination play, high pressing'
                },
                'Conte Intensity': {
                    weight: 1.28, school: 'Modern',
                    positionFit: { CB: 0.95, CM: 0.90, DM: 0.90, FB: 0.95, ST: 0.85, AM: 0.80, WG: 0.75, GK: 0.80, LW: 0.75, RW: 0.75, LB: 0.95, RB: 0.95 },
                    keywords: ['Conte', 'Intensity'],
                    description: 'High intensity, 3-5-2 mastery'
                },
                'Tuchel Systematic': {
                    weight: 1.28, school: 'Modern',
                    positionFit: { CB: 0.95, CM: 0.90, DM: 0.90, FB: 0.90, AM: 0.85, ST: 0.80, WG: 0.80, GK: 0.80, LW: 0.80, RW: 0.80, LB: 0.90, RB: 0.90 },
                    keywords: ['Tuchel', 'Systematic'],
                    description: 'Systematic approach, defensive solidity'
                },
                'Pochettino Pressing': {
                    weight: 1.26, school: 'Modern',
                    positionFit: { CM: 0.95, FB: 0.90, WG: 0.90, AM: 0.85, CB: 0.85, DM: 0.85, ST: 0.85, GK: 0.75, LW: 0.90, RW: 0.90, LB: 0.90, RB: 0.90 },
                    keywords: ['Pochettino', 'Pressing'],
                    description: 'High pressing, fitness culture'
                },
                'DeVisser Science': {
                    weight: 1.38, school: 'Modern',
                    positionFit: { CM: 0.95, AM: 0.95, CB: 0.90, DM: 0.90, FB: 0.85, ST: 0.85, WG: 0.85, GK: 0.75, LW: 0.85, RW: 0.85, LB: 0.85, RB: 0.85 },
                    keywords: ['DeVisser', 'Science'],
                    description: 'Scientific scouting, talent identification'
                }
            };
            
            // Calculate score for each philosophy
            const scores = {};
            Object.keys(philosophies).forEach(philName => {
                const phil = philosophies[philName];
                
                // ============================================
                // IMPROVED FORMULA V2.0 - Realistic Scoring
                // ============================================
                
                // STEP 1: Start with adjusted baseline (not just FGA/10)
                // This creates a lower starting point so modifiers matter more
                let score = (fga - 50) / 5; // 50 FGA = 0, 75 FGA = 5.0, 100 FGA = 10.0
                score = Math.max(0, score); // Ensure non-negative
                
                // STEP 2: Apply STRONG position fit multiplier
                // Range: 0.40 to 1.20 (much wider than before!)
                const posFit = phil.positionFit[pos] || 0.70;
                score *= posFit;
                
                // STEP 3: Philosophy-specific role penalties/bonuses
                // Attackers in defensive philosophies = major penalty
                const isAttacker = ['ST', 'WG', 'AM', 'LW', 'RW'].includes(pos);
                const isDefender = ['CB', 'DM', 'GK'].includes(pos);
                const isMidfield = ['CM', 'FB', 'LB', 'RB'].includes(pos);
                
                const defensivePhilosophies = [
                    'Herrera Catenaccio', 'Rocco Defense', 'Simeone Cholismo', 
                    'Mourinho Tactical', 'Sacchi Pressing', 'Trapattoni Organization',
                    'Bilardo Combative', 'Gorski Discipline'
                ];
                
                const attackingPhilosophies = [
                    'Menotti Artistry', 'Cruyff Intelligence', 'Busby Babes',
                    'Fontaine Attack', 'Santana Joga Bonito', 'Guttmann Innovation',
                    'Clough Genius', 'Platini Elegance'
                ];
                
                const tacticalPhilosophies = [
                    'Guardiola Positional', 'Van Gaal Discipline', 'Lobanovskyi Scientific',
                    'Sacchi Pressing', 'Nagelsmann Innovation', 'Heynckes Precision'
                ];
                
                const intensityPhilosophies = [
                    'Klopp Intensity', 'Bielsa Verticalidad', 'Emery Intensity',
                    'Pochettino Pressing', 'Conte Intensity'
                ];
                
                // Apply philosophy-role mismatch penalties
                if (defensivePhilosophies.includes(philName)) {
                    if (isAttacker) score *= 0.60; // Major penalty for attackers in defensive systems
                    if (isDefender) score *= 1.15; // Bonus for defenders
                }
                
                if (attackingPhilosophies.includes(philName)) {
                    if (isDefender) score *= 0.55; // Major penalty for defenders in attacking systems
                    if (isAttacker) score *= 1.20; // Bonus for attackers
                }
                
                if (tacticalPhilosophies.includes(philName)) {
                    if (isMidfield) score *= 1.10; // Midfielders excel in tactical systems
                }
                
                if (intensityPhilosophies.includes(philName)) {
                    if (isMidfield || pos === 'FB' || pos === 'LB' || pos === 'RB') {
                        score *= 1.15; // High-energy positions excel
                    }
                }
                
                // STEP 4: Age-based tactical understanding
                if (age <= 22) {
                    // Very young players: Lower tactical IQ, higher intensity
                    if (tacticalPhilosophies.includes(philName)) score *= 0.85;
                    if (intensityPhilosophies.includes(philName)) score *= 1.10;
                } else if (age <= 26) {
                    // Young but developing: Slight penalty for complex tactics
                    if (tacticalPhilosophies.includes(philName)) score *= 0.92;
                } else if (age >= 33) {
                    // Veterans: Higher tactical IQ, lower intensity
                    if (tacticalPhilosophies.includes(philName)) score *= 1.12;
                    if (intensityPhilosophies.includes(philName)) score *= 0.88;
                } else if (age >= 30) {
                    // Prime veterans: Balanced with slight tactical bonus
                    if (tacticalPhilosophies.includes(philName)) score *= 1.05;
                }
                
                // STEP 5: MAJOR boost if this is player's best philosophy (+30%)
                const isMatch = phil.keywords.some(keyword => philosophy.includes(keyword));
                if (isMatch) {
                    score *= 1.30; // Increased from 1.15 to 1.30
                }
                
                // STEP 6: Additional mismatch penalties for extreme cases
                if (!isMatch) {
                    // Pure attackers in ultra-defensive systems
                    if ((pos === 'ST' || pos === 'WG' || pos === 'LW' || pos === 'RW') && 
                        (philName === 'Herrera Catenaccio' || philName === 'Rocco Defense')) {
                        score *= 0.70; // Additional 30% penalty
                    }
                    
                    // Pure defenders/DMs in pure attacking systems
                    if ((pos === 'CB' || pos === 'DM' || pos === 'GK') && 
                        (philName === 'Fontaine Attack' || philName === 'Menotti Artistry' || philName === 'Santana Joga Bonito')) {
                        score *= 0.65; // Additional 35% penalty
                    }
                }
                
                // STEP 7: Remove random variance (was causing weird results)
                // Instead, add small FGA-based adjustment for precision
                const fgaPrecision = (fga % 10) * 0.01; // 0.0 to 0.09
                score *= (1 + fgaPrecision);
                
                // STEP 8: Final bounds - WIDER RANGE (2.0 to 10.0)
                // Remove the floor of 5.0 to allow poor fits
                const finalScore = Math.min(10.0, Math.max(2.0, score));
                
                scores[philName] = {
                    score: Math.round(finalScore * 10) / 10,
                    weight: phil.weight,
                    school: phil.school,
                    description: phil.description,
                    weightedScore: Math.round(finalScore * phil.weight * 10) / 10
                };
            });
            
            return scores;
        }
        
        function generatePhilosophyInsight() {
            if (!selectedComparePlayers || selectedComparePlayers.length === 0) {
                return 'Select players to analyze their philosophical compatibility.';
            }
            
            const philosophyScores = selectedComparePlayers.map(p => ({
                name: p.name,
                philosophy: p.bestPhilosophy,
                scores: calculatePhilosophyScores(p)
            }));
            
            // Find common strengths
            const allPhilosophies = Object.keys(philosophyScores[0].scores);
            const topPhilosophies = allPhilosophies
                .map(phil => ({
                    name: phil,
                    avgScore: philosophyScores.reduce((sum, p) => sum + p.scores[phil].score, 0) / philosophyScores.length
                }))
                .sort((a, b) => b.avgScore - a.avgScore)
                .slice(0, 3);
            
            const insights = [];
            
            if (selectedComparePlayers.length === 2) {
                const compatibility = topPhilosophies[0].avgScore;
                if (compatibility >= 9.0) {
                    insights.push(`‚≠ê Exceptional tactical compatibility - both players excel in ${topPhilosophies[0].name} systems.`);
                } else if (compatibility >= 7.5) {
                    insights.push(`‚úÖ Good tactical fit - complementary strengths in ${topPhilosophies[0].name} approach.`);
                } else {
                    insights.push(`‚ö†Ô∏è Different tactical DNA - ${selectedComparePlayers[0].name} suits ${selectedComparePlayers[0].bestPhilosophy}, while ${selectedComparePlayers[1].name} thrives in ${selectedComparePlayers[1].bestPhilosophy}.`);
                }
            } else {
                insights.push(`üéØ Best team philosophy fit: ${topPhilosophies[0].name} (avg score: ${topPhilosophies[0].avgScore.toFixed(1)}/10).`);
                insights.push(`Alternative systems: ${topPhilosophies[1].name} (${topPhilosophies[1].avgScore.toFixed(1)}/10), ${topPhilosophies[2].name} (${topPhilosophies[2].avgScore.toFixed(1)}/10).`);
            }
            
            return insights.join(' ');
        }
        
        // ============ ENHANCED COMPARISON FUNCTION ============
        function generateComparison() {
            if (selectedComparePlayers.length < 2) {
                alert('Please select at least 2 players to compare');
                return;
            }
            
            const resultsDiv = document.getElementById('comparison-results');
            resultsDiv.classList.remove('hidden');
            
            // Calculate derived metrics for all players
            const playersWithMetrics = selectedComparePlayers.map(p => ({
                ...p,
                components: estimateComponentScores(p),
                derived: calculateDerivedMetrics(p),
                analysis: analyzeStrengthsWeaknesses(p)
            }));
            
            // Find best in each category
            const bestFGA = findBestInCategory(selectedComparePlayers, 'fga');
            const bestValue = findBestInCategory(selectedComparePlayers, 'value');
            const bestLongevity = findBestInCategory(selectedComparePlayers, 'longevity');
            
            // Generate tactical recommendations
            const tacticalRecs = generateTacticalRecommendations(selectedComparePlayers);
            
            resultsDiv.innerHTML = `
                <div class="bg-slate-900/50 border border-blue-500/20 rounded-xl p-6 mb-6">
                    <h3 class="text-2xl font-bold mb-6 text-center gradient-text">Enhanced Player Comparison</h3>
                    
                    <!-- Radar Chart -->
                    <div class="bg-slate-800/50 border border-blue-500/20 rounded-lg p-6 mb-6">
                        <h4 class="text-lg font-bold text-blue-300 mb-4 text-center">Performance Profile Visualization</h4>
                        <div class="flex justify-center">
                            <canvas id="comparison-radar-chart" width="600" height="400"></canvas>
                        </div>
                        <div class="mt-4 text-center text-sm text-slate-400">
                            <p>Visual comparison across 6 core performance dimensions: Attacking, Passing, Defending, Possession, Intelligence, Physicality</p>
                        </div>
                    </div>
                    
                    <!-- Player Cards with Enhanced Metrics -->
                    <div class="grid md:grid-cols-${selectedComparePlayers.length} gap-6 mb-6">
                        ${playersWithMetrics.map(player => {
                            const isBestFGA = bestFGA.includes(player.name);
                            const isBestValue = bestValue.includes(player.name);
                            const isBestLongevity = bestLongevity.includes(player.name);
                            
                            return `
                            <div class="bg-slate-800/50 border border-blue-500/20 rounded-lg p-6">
                                <div class="text-center mb-4">
                                    <div class="text-4xl mb-2">${getPositionIcon(player.position)}</div>
                                    <h4 class="text-xl font-bold text-white">
                                        <a href="${player.profileHtml}" target="_blank" class="hover:text-blue-400">${player.name}</a>
                                    </h4>
                                    <div class="text-sm text-slate-400 mt-1">${player.position} | ${player.nationality}</div>
                                </div>
                                
                                <!-- Key Metrics -->
                                <div class="space-y-3 mb-4">
                                    <div class="flex justify-between items-center border-b border-slate-700 pb-2">
                                        <span class="text-slate-400">FGA Rating</span>
                                        <span class="font-bold text-2xl ${isBestFGA ? 'text-green-400' : 'text-blue-400'}">
                                            ${player.fga.toFixed(1)} ${isBestFGA ? '‚úì' : ''}
                                        </span>
                                    </div>
                                    
                                    <div class="flex justify-between items-center border-b border-slate-700 pb-2">
                                        <span class="text-slate-400">Age</span>
                                        <span class="font-bold">${player.age} ${player.derived.ageBadge} <span class="text-xs text-slate-500">${player.derived.ageCategory}</span></span>
                                    </div>
                                    
                                    ${player.marketValue > 0 ? `
                                    <div class="flex justify-between items-center border-b border-slate-700 pb-2">
                                        <span class="text-slate-400">Market Value</span>
                                        <span class="font-bold text-green-400">‚Ç¨${(player.marketValue / 1000000).toFixed(1)}M</span>
                                    </div>
                                    ` : ''}
                                    
                                    <div class="flex justify-between items-center border-b border-slate-700 pb-2">
                                        <span class="text-slate-400">Philosophy</span>
                                        <span class="font-bold text-xs text-blue-300">${player.bestPhilosophy}</span>
                                    </div>
                                </div>
                                
                                <!-- Derived Metrics -->
                                <div class="bg-blue-900/20 border border-blue-500/30 rounded-lg p-3 mb-4">
                                    <h5 class="text-xs font-bold text-blue-300 mb-2 uppercase">Advanced Metrics</h5>
                                    <div class="space-y-2 text-sm">
                                        ${player.derived.valueEfficiency ? `
                                        <div class="flex justify-between">
                                            <span class="text-slate-400">Value Efficiency</span>
                                            <span class="font-bold ${isBestValue ? 'text-green-400' : 'text-white'}">
                                                ${player.derived.valueEfficiency} ${isBestValue ? '‚úì' : ''}
                                            </span>
                                        </div>
                                        ` : ''}
                                        <div class="flex justify-between">
                                            <span class="text-slate-400">Age-Adjusted FGA</span>
                                            <span class="font-bold text-white">${player.derived.ageAdjustedRating}</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-slate-400">Elite Years Left</span>
                                            <span class="font-bold ${isBestLongevity ? 'text-green-400' : 'text-white'}">
                                                ${player.derived.longevityScore} ${isBestLongevity ? '‚úì' : ''}
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Strengths -->
                                <div class="mb-3">
                                    <h5 class="text-xs font-bold text-green-300 mb-2 uppercase">‚úì Strengths</h5>
                                    <ul class="space-y-1">
                                        ${player.analysis.strengths.map(s => `
                                            <li class="text-xs text-slate-300">‚Ä¢ ${s}</li>
                                        `).join('')}
                                    </ul>
                                </div>
                                
                                <!-- Weaknesses -->
                                <div>
                                    <h5 class="text-xs font-bold text-yellow-300 mb-2 uppercase">‚ö† Weaknesses</h5>
                                    <ul class="space-y-1">
                                        ${player.analysis.weaknesses.map(w => `
                                            <li class="text-xs text-slate-300">‚Ä¢ ${w}</li>
                                        `).join('')}
                                    </ul>
                                </div>
                            </div>
                        `;
                        }).join('')}
                    </div>
                    
                    <!-- Tactical Recommendations -->
                    ${tacticalRecs.length > 0 ? `
                    <div class="bg-blue-900/20 border border-blue-500/30 rounded-lg p-6 mb-6">
                        <h4 class="text-lg font-bold text-blue-300 mb-4">üéØ Tactical Recommendations</h4>
                        <div class="space-y-4">
                            ${tacticalRecs.map(rec => `
                                <div class="bg-slate-800/50 rounded-lg p-4">
                                    <div class="flex items-start gap-3">
                                        <div class="text-2xl">${rec.icon}</div>
                                        <div class="flex-1">
                                            <h5 class="font-bold text-white mb-1">${rec.system}</h5>
                                            <p class="text-sm text-blue-300 mb-2">Recommended: <span class="font-bold">${rec.recommended}</span></p>
                                            <p class="text-sm text-slate-300">${rec.reason}</p>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    ` : ''}
                    
                    <!-- FGA CORE METRICS COMPARISON -->
                    <div class="bg-slate-900/50 border border-blue-500/20 rounded-xl p-6 mb-6">
                        <h4 class="text-2xl font-bold text-center gradient-text mb-6">‚öΩ Empire FGA Core Metrics Comparison</h4>
                        
                        <div class="overflow-x-auto">
                            <table class="w-full text-sm">
                                <thead>
                                    <tr class="border-b border-blue-500/30">
                                        <th class="text-left py-3 px-2 text-blue-300 font-bold">Metric</th>
                                        ${playersWithMetrics.map(p => `
                                            <th class="text-center py-3 px-2 text-white font-bold">${p.name}</th>
                                        `).join('')}
                                    </tr>
                                </thead>
                                <tbody>
                                    ${(() => {
                                        const fgaMetrics = playersWithMetrics.map(p => calculateFGACoreMetrics(p));
                                        
                                        const metricRows = [
                                            { label: 'üéØ ATTACKING METRICS', type: 'header' },
                                            { label: 'XPS (Enhanced Shooting)', key: 'xps', desc: 'Shot quality & conversion' },
                                            { label: 'STK (Striking Precision)', key: 'stk', desc: 'Finishing accuracy' },
                                            { label: 'RDS (Radius of Excellence)', key: 'rds', desc: 'Effective shooting range' },
                                            { label: 'KEY (Key Passes)', key: 'key', desc: 'Chance creation ability' },
                                            
                                            { label: 'üéØ PASSING METRICS', type: 'header' },
                                            { label: 'LGP (Long Pass)', key: 'lgp', desc: 'Long ball accuracy' },
                                            { label: 'VRP (Vertical Pass)', key: 'vrp', desc: 'Forward passing' },
                                            { label: 'HZP (Horizontal Pass)', key: 'hzp', desc: 'Lateral distribution' },
                                            { label: 'UNP (Unpredictability)', key: 'unp', desc: 'Pass variety & creativity' },
                                            { label: 'DGP (Dangerous Pass)', key: 'dgp', desc: 'High-risk attacking passes' },
                                            
                                            { label: 'üõ°Ô∏è DEFENSIVE METRICS', type: 'header' },
                                            { label: 'MRK (Marking)', key: 'mrk', desc: 'Defensive positioning' },
                                            { label: 'TAC (Tackling)', key: 'tac', desc: 'Tackle success rate' },
                                            { label: 'INT (Interceptions)', key: 'int', desc: 'Reading the game' },
                                            { label: 'CLE (Clearances)', key: 'cle', desc: 'Defensive clearances' },
                                            { label: 'BLO (Blocks)', key: 'blo', desc: 'Shot/pass blocking' },
                                            
                                            { label: '‚ö° POSSESSION METRICS', type: 'header' },
                                            { label: 'CAR (Carrying)', key: 'car', desc: 'Ball carrying ability' },
                                            { label: 'DRB (Dribbling)', key: 'drb', desc: 'Dribble success rate' },
                                            
                                            { label: 'üß† INTELLIGENCE METRICS', type: 'header' },
                                            { label: 'POI (Position Intelligence)', key: 'poi', desc: 'Spatial awareness' },
                                            { label: 'CPX (Composure)', key: 'cpx', desc: 'Decision making under pressure' },
                                            { label: 'MOB (Mobility)', key: 'mob', desc: 'Movement & agility' }
                                        ];
                                        
                                        return metricRows.map(row => {
                                            if (row.type === 'header') {
                                                return `
                                                    <tr class="bg-blue-900/20">
                                                        <td colspan="${playersWithMetrics.length + 1}" class="py-3 px-2 font-bold text-blue-300 text-center">
                                                            ${row.label}
                                                        </td>
                                                    </tr>
                                                `;
                                            }
                                            
                                            const values = fgaMetrics.map(m => m[row.key]);
                                            const maxValue = Math.max(...values);
                                            
                                            return `
                                                <tr class="border-b border-slate-700/50 hover:bg-slate-800/30">
                                                    <td class="py-2 px-2 text-slate-300">
                                                        <div class="font-semibold">${row.label}</div>
                                                        <div class="text-xs text-slate-500">${row.desc}</div>
                                                    </td>
                                                    ${fgaMetrics.map(m => {
                                                        const value = m[row.key];
                                                        const isBest = value === maxValue && value > 0;
                                                        const percentage = (value / 10) * 100;
                                                        
                                                        return `
                                                            <td class="py-2 px-2 text-center">
                                                                <div class="font-bold text-lg ${isBest ? 'text-green-400' : 'text-white'}">
                                                                    ${value.toFixed(1)} ${isBest ? '‚úì' : ''}
                                                                </div>
                                                                <div class="w-full bg-slate-700 rounded-full h-1 mt-1">
                                                                    <div class="h-1 rounded-full ${isBest ? 'bg-green-400' : 'bg-blue-400'}" 
                                                                         style="width: ${percentage}%"></div>
                                                                </div>
                                                            </td>
                                                        `;
                                                    }).join('')}
                                                </tr>
                                            `;
                                        }).join('');
                                    })()}
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="mt-4 text-center text-xs text-slate-500">
                            <p>üìä All metrics on 0-10 scale | ‚úì = Best in comparison | Based on Empire FGA 779-Metric System</p>
                        </div>
                    </div>
                    
                    <!-- PHILOSOPHY COMPATIBILITY SCORES -->
                    <div class="bg-slate-900/50 border border-blue-500/20 rounded-xl p-6 mb-6">
                        <h4 class="text-2xl font-bold text-center gradient-text mb-2">üß† Tactical Philosophy Compatibility Scores</h4>
                        <p class="text-center text-slate-400 text-sm mb-6">Complete 60-Philosophy Framework | 9 Tactical Schools | Weighted by Historical Impact</p>
                        
                        <div class="overflow-x-auto">
                            <table class="w-full text-sm">
                                <thead>
                                    <tr class="border-b border-blue-500/30">
                                        <th class="text-left py-3 px-2 text-blue-300 font-bold">Philosophy System</th>
                                        ${playersWithMetrics.map(p => `
                                            <th class="text-center py-3 px-2 text-white font-bold">${p.name}</th>
                                        `).join('')}
                                    </tr>
                                </thead>
                                <tbody>
                                    ${(() => {
                                        const philosophyScores = playersWithMetrics.map(p => calculatePhilosophyScores(p));
                                        const philosophies = Object.keys(philosophyScores[0]);
                                        
                                        // Group philosophies by school
                                        const schools = {
                                            'Dutch': [], 'Spanish': [], 'Italian': [], 'English': [],
                                            'German': [], 'French': [], 'South American': [],
                                            'Eastern European': [], 'Modern': []
                                        };
                                        
                                        philosophies.forEach(philName => {
                                            const school = philosophyScores[0][philName].school || 'Modern';
                                            schools[school].push(philName);
                                        });
                                        
                                        let html = '';
                                        Object.keys(schools).forEach(schoolName => {
                                            if (schools[schoolName].length === 0) return;
                                            
                                            // School header row
                                            const schoolEmoji = {
                                                'Dutch': 'üá≥üá±',
                                                'Spanish': 'üá™üá∏',
                                                'Italian': 'üáÆüáπ',
                                                'English': 'üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø',
                                                'German': 'üá©üá™',
                                                'French': 'üá´üá∑',
                                                'South American': 'üåé',
                                                'Eastern European': '‚≠ê',
                                                'Modern': 'üî•'
                                            };
                                            
                                            html += `
                                                <tr class="bg-gradient-to-r from-blue-900/40 to-cyan-900/40 border-y-2 border-blue-500/50">
                                                    <td colspan="${playersWithMetrics.length + 1}" class="py-3 px-4 text-center">
                                                        <div class="text-lg font-bold text-white">
                                                            ${schoolEmoji[schoolName]} ${schoolName.toUpperCase()} SCHOOL (${schools[schoolName].length} Philosophies)
                                                        </div>
                                                    </td>
                                                </tr>
                                            `;
                                            
                                            // Philosophy rows for this school
                                            schools[schoolName].forEach(philName => {
                                                const scores = philosophyScores.map(ps => ps[philName]);
                                                const maxScore = Math.max(...scores.map(s => s.score));
                                                
                                                html += `
                                                    <tr class="border-b border-slate-700/50 hover:bg-slate-800/30">
                                                        <td class="py-3 px-2 text-slate-300">
                                                            <div class="font-bold text-white">${philName}</div>
                                                            <div class="text-xs text-slate-500">${scores[0].description}</div>
                                                            <div class="text-xs text-blue-400 mt-1">Weight: ${scores[0].weight}x</div>
                                                        </td>
                                                        ${scores.map((s, idx) => {
                                                            const isBest = s.score === maxScore && s.score > 0;
                                                            const isPlayerPhil = playersWithMetrics[idx].bestPhilosophy.includes(philName.split(' ')[0]);
                                                            const percentage = (s.score / 10) * 100;
                                                            
                                                            return `
                                                                <td class="py-3 px-2 text-center ${isPlayerPhil ? 'bg-blue-900/20' : ''}">
                                                                    <div class="font-bold text-xl ${isBest ? 'text-green-400' : isPlayerPhil ? 'text-blue-400' : 'text-white'}">
                                                                        ${s.score.toFixed(1)} ${isBest ? '‚úì' : ''} ${isPlayerPhil ? '‚≠ê' : ''}
                                                                    </div>
                                                                    <div class="text-xs text-slate-400 mb-1">
                                                                        Weighted: ${s.weightedScore.toFixed(1)}
                                                                    </div>
                                                                    <div class="w-full bg-slate-700 rounded-full h-2">
                                                                        <div class="h-2 rounded-full ${isBest ? 'bg-green-400' : isPlayerPhil ? 'bg-blue-400' : 'bg-slate-500'}" 
                                                                             style="width: ${percentage}%"></div>
                                                                    </div>
                                                                </td>
                                                            `;
                                                        }).join('')}
                                                    </tr>
                                                `;
                                            });
                                        });
                                        
                                        return html;
                                    })()}
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="mt-4 text-center text-xs text-slate-500">
                            <p>‚≠ê = Player's best philosophy | ‚úì = Highest score | Weighted scores account for philosophy importance (1.0-1.45x)</p>
                        </div>
                    </div>
                    
                    <!-- Philosophy Analysis -->
                    <div class="bg-blue-900/20 border border-blue-500/30 rounded-lg p-4">
                        <h4 class="font-bold text-blue-300 mb-2">üß† Philosophy Compatibility Analysis</h4>
                        <p class="text-sm text-slate-300">${generatePhilosophyInsight()}</p>
                    </div>
                </div>
            `;
            
            // Render radar chart
            renderRadarChart(playersWithMetrics);
        }
        
        // ============ RADAR CHART RENDERING ============
        function renderRadarChart(players) {
            const ctx = document.getElementById('comparison-radar-chart');
            if (!ctx) return;
            
            // Destroy existing chart if it exists
            if (window.comparisonChart) {
                window.comparisonChart.destroy();
            }
            
            const colors = [
                { border: '#60a5fa', bg: 'rgba(96, 165, 250, 0.2)' },
                { border: '#22d3ee', bg: 'rgba(34, 211, 238, 0.2)' },
                { border: '#10b981', bg: 'rgba(16, 185, 129, 0.2)' },
                { border: '#f59e0b', bg: 'rgba(245, 158, 11, 0.2)' }
            ];
            
            const datasets = players.map((player, index) => ({
                label: player.name,
                data: [
                    player.components.attacking,
                    player.components.passing,
                    player.components.defending,
                    player.components.possession,
                    player.components.intelligence,
                    player.components.physicality
                ],
                borderColor: colors[index].border,
                backgroundColor: colors[index].bg,
                pointBackgroundColor: colors[index].border,
                pointBorderColor: '#fff',
                pointHoverBackgroundColor: '#fff',
                pointHoverBorderColor: colors[index].border,
                borderWidth: 2
            }));
            
            window.comparisonChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['Attacking', 'Passing', 'Defending', 'Possession', 'Intelligence', 'Physicality'],
                    labels: ['Attacking', 'Passing', 'Defending', 'Physical', 'Technical', 'Mental'],
                    datasets: datasets
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 100,
                            ticks: {
                                stepSize: 20,
                                color: '#94a3b8'
                            },
                            grid: {
                                color: 'rgba(148, 163, 184, 0.2)'
                            },
                            pointLabels: {
                                color: '#e2e8f0',
                                font: {
                                    size: 12,
                                    weight: 'bold'
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            labels: {
                                color: '#e2e8f0',
                                font: {
                                    size: 13
                                },
                                padding: 15
                            }
                        },
                        tooltip: {
                            backgroundColor: 'rgba(15, 23, 42, 0.9)',
                            titleColor: '#60a5fa',
                            bodyColor: '#e2e8f0',
                            borderColor: '#60a5fa',
                            borderWidth: 1,
                            padding: 12,
                            displayColors: true
                        }
                    }
                }
            });
        }
        
        // MARKET INTELLIGENCE FUNCTIONS
        function renderMarketIntelligence() {
            // Filter to only active players (age <= 38) with market value > 0
            const activePlayers = playerData.filter(p => p.age <= 38 && p.marketValue > 0);
            
            // Calculate value gaps (expected value based on FGA vs actual market value)
            const playersWithGaps = activePlayers.map(p => {
                const expectedValue = calculateExpectedValue(p.fga, p.age);
                const gap = expectedValue - p.marketValue;
                const gapPercentage = p.marketValue > 0 ? (gap / p.marketValue) * 100 : 0;
                return { ...p, expectedValue, gap, gapPercentage };
            });
            
            // Filter to undervalued (gap > 20%)
            const undervalued = playersWithGaps
                .filter(p => p.gapPercentage > 20)
                .sort((a, b) => b.gapPercentage - a.gapPercentage)
                .slice(0, 20);
            
            // Update stats
            document.getElementById('market-stat-undervalued').textContent = undervalued.length;
            
            const totalHiddenValue = undervalued.reduce((sum, p) => sum + p.gap, 0);
            document.getElementById('market-stat-value').textContent = `‚Ç¨${(totalHiddenValue / 1000000).toFixed(0)}M`;
            
            const avgGap = undervalued.length > 0 
                ? (undervalued.reduce((sum, p) => sum + p.gapPercentage, 0) / undervalued.length).toFixed(0)
                : 0;
            document.getElementById('market-stat-gap').textContent = `${avgGap}%`;
            
            // Render list
            const listDiv = document.getElementById('undervalued-list');
            if (undervalued.length === 0) {
                listDiv.innerHTML = '<p class="text-slate-400 text-center py-8">No undervalued active players found in current database</p>';
                return;
            }
            
            listDiv.innerHTML = undervalued.map((player, index) => `
                <div class="flex items-center justify-between p-4 bg-slate-800/50 rounded-lg hover:bg-slate-800">
                    <div class="flex items-center gap-4">
                        <div class="text-2xl font-bold text-blue-400">#${index + 1}</div>
                        <div>
                            <div class="font-bold text-white">
                                <a href="${player.profileHtml}" target="_blank" class="hover:text-blue-400">${player.name}</a>
                            </div>
                            <div class="text-sm text-slate-400">${player.position} | ${player.nationality} | Age ${player.age}</div>
                        </div>
                    </div>
                    <div class="text-right">
                        <div class="font-bold text-green-400">FGA: ${player.fga.toFixed(1)}</div>
                        <div class="text-sm text-slate-400">Market: ‚Ç¨${(player.marketValue / 1000000).toFixed(1)}M</div>
                        <div class="text-sm text-green-300">Expected: ‚Ç¨${(player.expectedValue / 1000000).toFixed(1)}M</div>
                        <span class="value-badge undervalued">${player.gapPercentage.toFixed(0)}% undervalued</span>
                    </div>
                </div>
            `).join('');
        }

        function calculateExpectedValue(fga, age) {
            // Age penalty factor
            let ageFactor = 1.0;
            if (age <= 21) ageFactor = 0.85;
            else if (age <= 25) ageFactor = 1.0;
            else if (age <= 28) ageFactor = 0.95;
            else if (age <= 31) ageFactor = 0.75;
            else if (age <= 34) ageFactor = 0.5;
            else if (age <= 38) ageFactor = 0.3;
            
            // Base value from FGA
            let baseValue;
            if (fga >= 97) baseValue = 90000000;
            else if (fga >= 95) baseValue = 65000000;
            else if (fga >= 93) baseValue = 48000000;
            else if (fga >= 90) baseValue = 35000000;
            else if (fga >= 88) baseValue = 25000000;
            else if (fga >= 85) baseValue = 18000000;
            else if (fga >= 82) baseValue = 12000000;
            else if (fga >= 80) baseValue = 8000000;
            else if (fga >= 77) baseValue = 5000000;
            else baseValue = 3000000;
            
            return Math.round(baseValue * ageFactor);
        }

        // PHILOSOPHY HEATMAP FUNCTIONS
        function renderPhilosophyHeatmap() {
            // Count players by philosophy keywords
            const philosophyCounts = {};
            
            playerData.forEach(player => {
                const philosophy = player.bestPhilosophy;
                philosophyCounts[philosophy] = (philosophyCounts[philosophy] || 0) + 1;
            });
            
            // Group by schools
            const schools = {
                'Dutch School': ['Cruyff', 'Michels', 'Van Gaal', 'Total'],
                'Spanish School': ['Guardiola', 'Aragon√©s', 'Clemente'],
                'Italian School': ['Sacchi', 'Lippi', 'Capello', 'Trapattoni', 'Ancelotti', 'Herrera', 'Catenaccio'],
                'English School': ['Ferguson', 'Shankly', 'Paisley', 'Clough', 'Busby'],
                'German School': ['Heynckes', 'Beckenbauer', 'Cramer', 'Hitzfeld'],
                'French School': ['Wenger', 'Platini', 'Deschamps', 'Fontaine'],
                'South American': ['Menotti', 'Bilardo', 'Bielsa', 'Simeone', 'Zagallo', 'Santana', 'JogoBonito'],
                'Modern/Other': ['Mourinho', 'Klopp', 'Conte', 'Pochettino', 'Inzaghi', 'Yashin']
            };
            
            const heatmapDiv = document.getElementById('philosophy-heatmap');
            let html = '<div class="overflow-x-auto"><table class="w-full">';
            html += '<thead><tr class="border-b border-blue-500/30">';
            html += '<th class="p-3 text-left text-blue-300">School</th>';
            html += '<th class="p-3 text-center text-blue-300">Philosophy Keywords</th>';
            html += '<th class="p-3 text-center text-blue-300">Player Count</th>';
            html += '</tr></thead><tbody>';
            
            Object.entries(schools).forEach(([school, keywords]) => {
                // Count players matching this school's keywords
                let schoolCount = 0;
                const matchedPhilosophies = [];
                
                Object.entries(philosophyCounts).forEach(([philosophy, count]) => {
                    if (keywords.some(keyword => philosophy.includes(keyword))) {
                        schoolCount += count;
                        matchedPhilosophies.push(`${philosophy} (${count})`);
                    }
                });
                
                const intensity = Math.min(schoolCount / 50, 1);
                
                html += `<tr class="border-b border-slate-700/50">`;
                html += `<td class="p-3 font-bold text-white">${school}</td>`;
                html += `<td class="p-3 text-sm text-slate-400">${matchedPhilosophies.slice(0, 5).join(', ')}${matchedPhilosophies.length > 5 ? '...' : ''}</td>`;
                html += `<td class="p-3 text-center">`;
                html += `<div class="heatmap-cell" style="background: rgba(59, 130, 246, ${intensity}); border: 1px solid rgba(59, 130, 246, ${intensity + 0.2});">`;
                html += `${schoolCount}`;
                html += `</div></td></tr>`;
            });
            
            html += '</tbody></table></div>';
            html += `<div class="mt-6 p-4 bg-blue-900/20 border border-blue-500/30 rounded-lg">
                <p class="text-sm text-slate-300">
                    <strong class="text-blue-300">üí° Insight:</strong> 
                    This heatmap shows the distribution of your ${playerData.length} players across major tactical schools. 
                    Darker cells indicate higher player concentration in that philosophical tradition.
                </p>
            </div>`;
            
            heatmapDiv.innerHTML = html;
        }

        // SQUAD BUILDER FUNCTIONS
        function initializeSquadBuilder() {
            renderFormation('4-3-3');
        }

        function selectFormation(formation) {
            currentFormation = formation;
            document.querySelectorAll('.formation-selector').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            renderFormation(formation);
        }

        function renderFormation(formation) {
            const pitch = document.getElementById('pitch');
            const formations = {
                '4-3-3': [
                    { pos: 'GK', x: 50, y: 90, idx: 0 },
                    { pos: 'LB', x: 15, y: 70, idx: 1 }, { pos: 'CB', x: 35, y: 75, idx: 2 }, 
                    { pos: 'CB', x: 65, y: 75, idx: 3 }, { pos: 'RB', x: 85, y: 70, idx: 4 },
                    { pos: 'CM', x: 30, y: 50, idx: 5 }, { pos: 'CM', x: 50, y: 48, idx: 6 }, { pos: 'CM', x: 70, y: 50, idx: 7 },
                    { pos: 'LW', x: 15, y: 20, idx: 8 }, { pos: 'ST', x: 50, y: 15, idx: 9 }, { pos: 'RW', x: 85, y: 20, idx: 10 }
                ],
                '4-4-2': [
                    { pos: 'GK', x: 50, y: 90, idx: 0 },
                    { pos: 'LB', x: 15, y: 70, idx: 1 }, { pos: 'CB', x: 35, y: 75, idx: 2 }, 
                    { pos: 'CB', x: 65, y: 75, idx: 3 }, { pos: 'RB', x: 85, y: 70, idx: 4 },
                    { pos: 'LM', x: 15, y: 45, idx: 5 }, { pos: 'CM', x: 38, y: 50, idx: 6 }, 
                    { pos: 'CM', x: 62, y: 50, idx: 7 }, { pos: 'RM', x: 85, y: 45, idx: 8 },
                    { pos: 'ST', x: 38, y: 15, idx: 9 }, { pos: 'ST', x: 62, y: 15, idx: 10 }
                ],
                '3-5-2': [
                    { pos: 'GK', x: 50, y: 90, idx: 0 },
                    { pos: 'CB', x: 25, y: 75, idx: 1 }, { pos: 'CB', x: 50, y: 78, idx: 2 }, { pos: 'CB', x: 75, y: 75, idx: 3 },
                    { pos: 'LWB', x: 10, y: 55, idx: 4 }, { pos: 'CM', x: 30, y: 50, idx: 5 }, 
                    { pos: 'CM', x: 50, y: 48, idx: 6 }, { pos: 'CM', x: 70, y: 50, idx: 7 }, { pos: 'RWB', x: 90, y: 55, idx: 8 },
                    { pos: 'ST', x: 38, y: 15, idx: 9 }, { pos: 'ST', x: 62, y: 15, idx: 10 }
                ],
                '4-2-3-1': [
                    { pos: 'GK', x: 50, y: 90, idx: 0 },
                    { pos: 'LB', x: 15, y: 70, idx: 1 }, { pos: 'CB', x: 35, y: 75, idx: 2 }, 
                    { pos: 'CB', x: 65, y: 75, idx: 3 }, { pos: 'RB', x: 85, y: 70, idx: 4 },
                    { pos: 'DM', x: 38, y: 55, idx: 5 }, { pos: 'DM', x: 62, y: 55, idx: 6 },
                    { pos: 'LM', x: 20, y: 35, idx: 7 }, { pos: 'AM', x: 50, y: 30, idx: 8 }, { pos: 'RM', x: 80, y: 35, idx: 9 },
                    { pos: 'ST', x: 50, y: 15, idx: 10 }
                ],
                '3-4-3': [
                    { pos: 'GK', x: 50, y: 90, idx: 0 },
                    { pos: 'CB', x: 25, y: 75, idx: 1 }, { pos: 'CB', x: 50, y: 78, idx: 2 }, { pos: 'CB', x: 75, y: 75, idx: 3 },
                    { pos: 'LM', x: 15, y: 50, idx: 4 }, { pos: 'CM', x: 38, y: 50, idx: 5 }, 
                    { pos: 'CM', x: 62, y: 50, idx: 6 }, { pos: 'RM', x: 85, y: 50, idx: 7 },
                    { pos: 'LW', x: 20, y: 20, idx: 8 }, { pos: 'ST', x: 50, y: 15, idx: 9 }, { pos: 'RW', x: 80, y: 20, idx: 10 }
                ]
            };
            
            // Clear existing positions
            pitch.querySelectorAll('.pitch-position').forEach(el => el.remove());
            
            // Add new positions
            formations[formation].forEach((pos) => {
                const div = document.createElement('div');
                div.className = 'pitch-position';
                div.style.left = `${pos.x}%`;
                div.style.top = `${pos.y}%`;
                div.style.transform = 'translate(-50%, -50%)';
                div.dataset.posidx = pos.idx;
                
                // Check if this position has a player assigned
                const assignedPlayer = selectedSquadPlayers.find(p => p.positionIdx === pos.idx);
                if (assignedPlayer) {
                    div.classList.add('filled');
                    div.innerHTML = `<div style="font-size: 9px;">${assignedPlayer.name.split(' ').pop()}</div><div>${pos.pos}</div>`;
                } else {
                    div.innerHTML = pos.pos;
                }
                
                div.onclick = () => selectSquadPosition(pos.idx, pos.pos);
                pitch.appendChild(div);
            });
            
            updateSquadStats();
        }

        let currentlySelectingForPosition = null;

        function selectSquadPosition(idx, posName) {
            currentlySelectingForPosition = { idx, posName };
            alert(`Position ${posName} selected. Search for a player to assign to this position, or click the player card to assign them here.`);
        }

        function searchForSquad(query) {
            const results = document.getElementById('squad-search-results');
            if (!query) {
                results.innerHTML = '<p class="text-slate-400 text-sm">Search for players to add to your squad</p>';
                return;
            }
            
            const matches = playerData.filter(p => 
                p.name.toLowerCase().includes(query.toLowerCase())
            ).slice(0, 8);
            
            results.innerHTML = matches.map(player => `
                <div class="player-card" onclick="assignToSquad('${player.name.replace(/'/g, "\\'")}')">
                    <div class="flex justify-between items-center">
                        <div>
                            <div class="font-bold text-sm">${player.name}</div>
                            <div class="text-xs text-slate-400">${player.position} | FGA: ${player.fga.toFixed(1)}</div>
                        </div>
                        <button class="bg-green-600 px-2 py-1 rounded text-xs">Add</button>
                    </div>
                </div>
            `).join('');
        }

        function assignToSquad(playerName) {
            const player = playerData.find(p => p.name === playerName);
            if (!player) return;
            
            if (!currentlySelectingForPosition) {
                alert('Please select a position on the pitch first by clicking on a position circle.');
                return;
            }
            
            // Remove player from this position if already assigned
            selectedSquadPlayers = selectedSquadPlayers.filter(p => p.positionIdx !== currentlySelectingForPosition.idx);
            
            // Assign player to this position
            selectedSquadPlayers.push({
                ...player,
                positionIdx: currentlySelectingForPosition.idx,
                positionName: currentlySelectingForPosition.posName
            });
            
            currentlySelectingForPosition = null;
            renderFormation(currentFormation);
            updateSquadStats();
        }

        function updateSquadStats() {
            document.getElementById('squad-count').textContent = selectedSquadPlayers.length;
            
            if (selectedSquadPlayers.length > 0) {
                const avgFga = selectedSquadPlayers.reduce((sum, p) => sum + p.fga, 0) / selectedSquadPlayers.length;
                document.getElementById('squad-avg-fga').textContent = avgFga.toFixed(1);
                
                // Calculate chemistry based on philosophy diversity
                const philosophies = selectedSquadPlayers.map(p => p.bestPhilosophy);
                const uniquePhilosophies = new Set(philosophies).size;
                const chemistry = Math.max(0, Math.min(100, 100 - (uniquePhilosophies - 1) * 12));
                document.getElementById('squad-chemistry').textContent = chemistry.toFixed(0) + '%';
            } else {
                document.getElementById('squad-avg-fga').textContent = '--';
                document.getElementById('squad-chemistry').textContent = '--';
            }
        }

        function clearSquad() {
            if (confirm('Clear all players from squad?')) {
                selectedSquadPlayers = [];
                currentlySelectingForPosition = null;
                renderFormation(currentFormation);
                updateSquadStats();
            }
        }

        // Initialize on load
        document.addEventListener('DOMContentLoaded', () => {
            console.log('====== DOM LOADED ======');
            console.log('About to initialize...');
            
            filteredPlayers = [...playerData];
            updateStats();
            renderTable();
        });

        // ============ PDF EXPORT FUNCTIONALITY ============
        
        // Export individual player profile
    // ============================================================================
// EMPIRE FGA REVOLUTIONARY PDF GENERATOR V3.0
// The Most Sophisticated Football Intelligence Report Ever Created
// ============================================================================

// HELPER FUNCTIONS FOR MARKET INTELLIGENCE
// ============================================================================

function loadImage(url) {
    return new Promise((resolve, reject) => {
        const img = new Image();
        img.crossOrigin = 'Anonymous';
        img.onload = () => resolve(img);
        img.onerror = reject;
        img.src = url;
    });
}

function calculateAdvancedMarketValue(player, metrics) {
    const fga = player.fga;
    const age = player.age;
    const pos = player.position;
    const club = player.currentClub || '';
    
    // Base valuation: ‚Ç¨1M per FGA point
    let baseValue = fga;
    
    // Age curve multiplier (peak 24-28)
    let ageMultiplier = 1.0;
    if (age <= 23) ageMultiplier = 1.3; // Youth premium + potential
    else if (age >= 24 && age <= 28) ageMultiplier = 1.5; // Peak years premium
    else if (age >= 29 && age <= 31) ageMultiplier = 1.0; // Stable value
    else if (age >= 32 && age <= 34) ageMultiplier = 0.7; // Declining
    else ageMultiplier = 0.5; // Veterans
    
    baseValue *= ageMultiplier;
    
    // Position premium (attackers are expensive)
    let positionMultiplier = 1.0;
    if (pos === 'ST') positionMultiplier = 1.4;
    else if (pos === 'WG') positionMultiplier = 1.35;
    else if (pos === 'AM') positionMultiplier = 1.3;
    else if (pos === 'CM') positionMultiplier = 1.2;
    else if (pos === 'FB') positionMultiplier = 1.15;
    else if (pos === 'CB') positionMultiplier = 1.1;
    else if (pos === 'DM') positionMultiplier = 1.05;
    else if (pos === 'GK') positionMultiplier = 1.0;
    
    baseValue *= positionMultiplier;
    
    // League inflation factor
    let leagueMultiplier = 1.0;
    if (club.includes('Manchester') || club.includes('Liverpool') || club.includes('Arsenal') || 
        club.includes('Chelsea') || club.includes('Tottenham') || club.includes('City')) {
        leagueMultiplier = 1.6; // Premier League elite
    } else if (club.includes('Real Madrid') || club.includes('Barcelona') || club.includes('Atl√©tico')) {
        leagueMultiplier = 1.5; // La Liga elite
    } else if (club.includes('Bayern') || club.includes('Dortmund')) {
        leagueMultiplier = 1.4; // Bundesliga top
    } else if (club.includes('PSG') || club.includes('Monaco')) {
        leagueMultiplier = 1.35; // Ligue 1 top
    } else if (club.includes('Inter') || club.includes('Milan') || club.includes('Juventus')) {
        leagueMultiplier = 1.3; // Serie A elite
    } else if (club.includes('Ajax') || club.includes('PSV') || club.includes('Feyenoord')) {
        leagueMultiplier = 1.1; // Eredivisie
    } else if (club.includes('Crew') || club.includes('MLS')) {
        leagueMultiplier = 0.85; // MLS
    } else {
        leagueMultiplier = 0.9; // Other leagues
    }
    
    baseValue *= leagueMultiplier;
    
    // Scarcity bonus (exceptional metrics)
    let scarcityBonus = 0;
    if (metrics.poi >= 9.0 && metrics.cpx >= 9.0) scarcityBonus += baseValue * 0.15; // Rare intelligence
    if (metrics.xps >= 9.0 && pos === 'ST') scarcityBonus += baseValue * 0.20; // Elite finisher
    if (metrics.tac >= 9.0 && metrics.int >= 9.0) scarcityBonus += baseValue * 0.12; // Elite defender
    
    const finalValue = baseValue + scarcityBonus;
    
    return {
        estimated: finalValue.toFixed(1),
        range: {
            min: (finalValue * 0.75).toFixed(1),
            max: (finalValue * 1.25).toFixed(1)
        },
        breakdown: {
            base: fga,
            ageMultiplier: ageMultiplier,
            positionMultiplier: positionMultiplier,
            leagueMultiplier: leagueMultiplier,
            scarcityBonus: scarcityBonus.toFixed(1)
        }
    };
}

function generateSmartTargetClubs(player, metrics, philScores) {
    const clubs = [];
    const pos = player.position;
    const age = player.age;
    const phil = player.bestPhilosophy;
    const fga = player.fga;
    
    // Sort philosophies by score
    const topPhils = Object.entries(philScores)
        .sort((a, b) => b[1].score - a[1].score)
        .slice(0, 3);
    
    // TIER 1: PERFECT MATCHES (Based on actual player data)
    
    // Klopp-style high pressing clubs
    if (topPhils[0][0].includes('Klopp') || metrics.int >= 8.5 && metrics.mob >= 8.5) {
        if (pos === 'LB' || pos === 'FB' || pos === 'CM' || pos === 'WG') {
            clubs.push({
                name: 'Liverpool FC',
                match: 98,
                tier: 1,
                manager: 'Arne Slot',
                philosophy: 'High-intensity pressing transition',
                formation: '4-3-3',
                needUrgency: pos === 'LB' ? 'HIGH' : 'MEDIUM',
                budget: age <= 26 ? '‚Ç¨40-70M' : '‚Ç¨25-50M',
                competition: 'HIGH',
                pitchAngle: `Slot continues Klopp legacy. INT ${metrics.int.toFixed(1)} + MOB ${metrics.mob.toFixed(1)} = perfect for high-press ${pos}. Age ${age} fits recruitment profile.`,
                successProb: age <= 26 ? 72 : 65,
                reasoning: `Player's Klopp philosophy score: ${philScores['Klopp Intensity']?.score.toFixed(1) || 'N/A'}/10`
            });
        }
    }
    
    // Guardiola-style possession clubs
    if (topPhils[0][0].includes('Guardiola') || metrics.poi >= 8.5 && metrics.lgp >= 8.0) {
        if (age <= 28) {
            clubs.push({
                name: 'Manchester City',
                match: 97,
                tier: 1,
                manager: 'Pep Guardiola',
                philosophy: 'Positional play dominance',
                formation: '4-3-3 / 3-2-4-1',
                needUrgency: pos === 'CM' || pos === 'CB' ? 'HIGH' : 'MEDIUM',
                budget: '‚Ç¨50-90M',
                competition: 'VERY HIGH',
                pitchAngle: `POI ${metrics.poi.toFixed(1)} + technical excellence ideal for Pep's system. Age ${age} = long-term Guardiola project.`,
                successProb: 62,
                reasoning: `Guardiola philosophy score: ${philScores['Guardiola Positional']?.score.toFixed(1) || 'N/A'}/10`
            });
        }
    }
    
    // Progressive possession clubs (Brighton style)
    if ((metrics.car >= 8.0 && metrics.poi >= 8.0) || philScores['Cruyff Intelligence']?.score >= 8.5) {
        if (pos === 'LB' || pos === 'FB' || pos === 'CM' || pos === 'CB') {
            clubs.push({
                name: 'Brighton & Hove Albion',
                match: 96,
                tier: 1,
                manager: 'Fabian H√ºrzeler',
                philosophy: 'Progressive possession (De Zerbi evolution)',
                formation: '4-2-3-1',
                needUrgency: pos === 'LB' ? 'URGENT' : 'HIGH',
                budget: '‚Ç¨15-30M',
                competition: 'LOW',
                pitchAngle: `Brighton's data-driven approach perfect for 779-metric profile. CAR ${metrics.car.toFixed(1)} + POI ${metrics.poi.toFixed(1)} = ideal for inverted ${pos} role. Budget-friendly value.`,
                successProb: 85,
                reasoning: `Progressive metrics + undervalued = Brighton's specialty`
            });
        }
    }
    
    // Arsenal (Arteta - Guardiola disciple)
    if (philScores['Guardiola Positional']?.score >= 8.3 && age <= 27) {
        if (pos === 'CM' || pos === 'WG' || pos === 'ST' || pos === 'CB') {
            clubs.push({
                name: 'Arsenal FC',
                match: 95,
                tier: 1,
                manager: 'Mikel Arteta',
                philosophy: 'Guardiola-inspired possession + intensity',
                formation: '4-3-3',
                needUrgency: pos === 'CM' ? 'HIGH' : 'MEDIUM',
                budget: '‚Ç¨35-65M',
                competition: 'HIGH',
                pitchAngle: `Arteta building dynasty with young talent. Age ${age} + POI ${metrics.poi.toFixed(1)} fits profile. Technical excellence required.`,
                successProb: 70,
                reasoning: `Youth + technical quality = Arsenal's strategy`
            });
        }
    }
    
    // Brentford (Moneyball approach)
    if (fga >= 80 && age <= 28 && metrics.poi >= 7.5) {
        clubs.push({
            name: 'Brentford FC',
            match: 94,
            tier: 1,
            manager: 'Thomas Frank',
            philosophy: 'Data-driven attacking football',
            formation: '4-3-3 / 3-5-2',
            needUrgency: pos === 'ST' || pos === 'CM' ? 'HIGH' : 'MEDIUM',
            budget: '‚Ç¨12-25M',
            competition: 'MEDIUM',
            pitchAngle: `Brentford's Moneyball model = perfect for undervalued talent. FGA ${fga} shows value. Age ${age} = sell-on potential.`,
            successProb: 78,
            reasoning: `Data-driven club appreciates 779-metric analysis`
        });
    }
    
    // TIER 2: STRONG MATCHES
    
    // RB Leipzig (Red Bull system)
    if ((metrics.mob >= 8.0 && age <= 25) || philScores['Klopp Intensity']?.score >= 8.0) {
        clubs.push({
            name: 'RB Leipzig',
            match: 92,
            tier: 2,
            manager: 'Marco Rose',
            philosophy: 'High-press vertical football',
            formation: '4-2-2-2',
            needUrgency: age <= 23 ? 'HIGH' : 'MEDIUM',
            budget: '‚Ç¨15-35M',
            competition: 'MEDIUM',
            pitchAngle: `Red Bull system values: Youth (${age}), Mobility (${metrics.mob.toFixed(1)}), Intensity. Perfect talent development platform.`,
            successProb: 73,
            reasoning: `Red Bull's global scouting = perfect for emerging talent`
        });
    }
    
    // Tottenham (Postecoglou)
    if (philScores['Klopp Intensity']?.score >= 8.0 || metrics.xps >= 8.5) {
        if (pos === 'ST' || pos === 'WG' || pos === 'CM' || pos === 'FB') {
            clubs.push({
                name: 'Tottenham Hotspur',
                match: 91,
                tier: 2,
                manager: 'Ange Postecoglou',
                philosophy: 'Attacking high-press',
                formation: '4-3-3',
                needUrgency: pos === 'ST' ? 'URGENT' : 'MEDIUM',
                budget: '‚Ç¨25-50M',
                competition: 'HIGH',
                pitchAngle: `Postecoglou needs attacking intensity. Klopp score ${philScores['Klopp Intensity']?.score.toFixed(1) || 'N/A'} + XPS ${metrics.xps.toFixed(1)} = ideal fit.`,
                successProb: 68,
                reasoning: `Attacking philosophy + budget available`
            });
        }
    }
    
    // Union Berlin (Budget Bundesliga)
    if (fga >= 75 && age >= 26 && age <= 32) {
        if (pos === 'CB' || pos === 'DM' || pos === 'LB' || pos === 'FB') {
            clubs.push({
                name: 'Union Berlin',
                match: 88,
                tier: 2,
                manager: 'Bo Svensson',
                philosophy: 'Organized defensive football',
                formation: '3-5-2',
                needUrgency: 'MEDIUM',
                budget: '‚Ç¨5-15M',
                competition: 'LOW',
                pitchAngle: `Union's budget constraints + solid defensive needs. TAC ${metrics.tac.toFixed(1)} + experience (age ${age}) = perfect fit.`,
                successProb: 79,
                reasoning: `Budget-friendly + experience valued`
            });
        }
    }
    
    // Feyenoord (Eredivisie stepping stone)
    if (age <= 26 && fga >= 78) {
        clubs.push({
            name: 'Feyenoord Rotterdam',
            match: 87,
            tier: 2,
            manager: 'Brian Priske',
            philosophy: 'Attacking possession football',
            formation: '4-3-3',
            needUrgency: 'MEDIUM',
            budget: '‚Ç¨8-18M',
            competition: 'MEDIUM',
            pitchAngle: `Eredivisie = perfect stepping stone to elite clubs. Age ${age} + FGA ${fga} = UCL exposure potential. Sell-on value ‚Ç¨30M+.`,
            successProb: 75,
            reasoning: `Development platform with European football`
        });
    }
    
    // AZ Alkmaar (Development club)
    if (age <= 24 && fga >= 75) {
        clubs.push({
            name: 'AZ Alkmaar',
            match: 85,
            tier: 2,
            manager: 'Maarten Martens',
            philosophy: 'Youth development + attacking',
            formation: '4-3-3',
            needUrgency: 'MEDIUM',
            budget: '‚Ç¨5-12M',
            competition: 'LOW',
            pitchAngle: `AZ's youth development track record. Age ${age} = perfect for growth. Gateway to bigger clubs (see: Bergwijn, Koopmeiners).`,
            successProb: 80,
            reasoning: `Proven talent development pipeline`
        });
    }
    
    // Sort by match percentage and return top 6
    return clubs.sort((a, b) => b.match - a.match).slice(0, 6);
}

function generateComparableTransfers(player, metrics) {
    const pos = player.position;
    const age = player.age;
    const fga = player.fga;
    
    // Real transfer database (simplified - expand with actual data)
    const transfers = [
        // Left Backs
        { name: 'Malo Gusto', pos: 'FB', age: 19, fga: 84, fee: 30, from: 'Lyon', to: 'Chelsea', year: 2023 },
        { name: 'Alphonso Davies', pos: 'LB', age: 18, fga: 89, fee: 25, from: 'Vancouver', to: 'Bayern', year: 2019 },
        { name: 'Nuno Mendes', pos: 'LB', age: 19, fga: 85, fee: 40, from: 'Sporting', to: 'PSG', year: 2021 },
        
        // Center Midfielders
        { name: 'Moises Caicedo', pos: 'CM', age: 21, fga: 86, fee: 115, from: 'Brighton', to: 'Chelsea', year: 2023 },
        { name: 'Declan Rice', pos: 'CM', age: 24, fga: 88, fee: 105, from: 'West Ham', to: 'Arsenal', year: 2023 },
        { name: 'Enzo Fernandez', pos: 'CM', age: 22, fga: 87, fee: 121, from: 'Benfica', to: 'Chelsea', year: 2023 },
        
        // Strikers
        { name: 'Rasmus H√∏jlund', pos: 'ST', age: 20, fga: 83, fee: 75, from: 'Atalanta', to: 'Man Utd', year: 2023 },
        { name: 'Darwin N√∫√±ez', pos: 'ST', age: 22, fga: 85, fee: 85, from: 'Benfica', to: 'Liverpool', year: 2022 },
        { name: 'Victor Osimhen', pos: 'ST', age: 24, fga: 91, fee: 75, from: 'Lille', to: 'Napoli', year: 2020 },
        
        // Wingers
        { name: 'Antony', pos: 'WG', age: 22, fga: 82, fee: 95, from: 'Ajax', to: 'Man Utd', year: 2022 },
        { name: 'Mykhaylo Mudryk', pos: 'WG', age: 22, fga: 83, fee: 88, from: 'Shakhtar', to: 'Chelsea', year: 2023 },
        
        // Attackers
        { name: 'Jude Bellingham', pos: 'CM', age: 20, fga: 92, fee: 103, from: 'Dortmund', to: 'Real Madrid', year: 2023 },
    ];
    
    // Find comparable transfers
    const comparables = transfers.filter(t => {
        return t.pos === pos && 
               Math.abs(t.age - age) <= 4 && 
               Math.abs(t.fga - fga) <= 8;
    });
    
    // If no exact position match, broaden to similar positions
    if (comparables.length < 2) {
        const similarPositions = {
            'LB': ['FB', 'LB'],
            'FB': ['LB', 'FB'],
            'CB': ['CB', 'DM'],
            'DM': ['CM', 'DM', 'CB'],
            'CM': ['CM', 'DM', 'AM'],
            'AM': ['AM', 'CM', 'WG'],
            'WG': ['WG', 'AM', 'ST'],
            'ST': ['ST', 'WG']
        };
        
        const similar = similarPositions[pos] || [pos];
        return transfers.filter(t => 
            similar.includes(t.pos) && 
            Math.abs(t.age - age) <= 5 &&
            Math.abs(t.fga - fga) <= 10
        ).slice(0, 3);
    }
    
    return comparables.slice(0, 3);
}

function calculateTierClassification(fga) {
    if (fga >= 95) return { tier: 'WORLD CLASS', color: [34, 197, 94], desc: 'Elite Global Superstar' };
    if (fga >= 90) return { tier: 'ELITE', color: [59, 130, 246], desc: 'Top 1% Globally' };
    if (fga >= 85) return { tier: 'EXCELLENT', color: [34, 211, 238], desc: 'Champions League Quality' };
    if (fga >= 80) return { tier: 'VERY GOOD', color: [168, 85, 247], desc: 'Top 5 League Starter' };
    if (fga >= 75) return { tier: 'GOOD', color: [234, 179, 8], desc: 'Solid Professional' };
    return { tier: 'DEVELOPING', color: [249, 115, 22], desc: 'Emerging Talent' };
}

function generateNegotiationStrategy(player, metrics, marketValue) {
    const fga = player.fga;
    const age = player.age;
    const pos = player.position;
    
    // Salary calculation
    let weeklyBase = (fga / 10) * 10; // ‚Ç¨10K per FGA point
    
    if (pos === 'ST' || pos === 'WG') weeklyBase *= 1.4;
    else if (pos === 'AM') weeklyBase *= 1.3;
    else if (pos === 'CM') weeklyBase *= 1.2;
    else if (pos === 'CB' || pos === 'FB') weeklyBase *= 1.1;
    
    if (age >= 28) weeklyBase *= 0.9; // Lower for older players
    
    const salaryMin = (weeklyBase * 0.8).toFixed(0);
    const salaryMax = (weeklyBase * 1.2).toFixed(0);
    
    // Contract length
    let idealLength = 4;
    if (age <= 23) idealLength = 5; // Lock in youth
    else if (age >= 30) idealLength = 3; // Shorter for veterans
    
    // Leverage points based on actual metrics
    const leveragePoints = [];
    if (metrics.poi >= 9.0) leveragePoints.push(`Exceptional tactical intelligence (POI ${metrics.poi.toFixed(1)}) - rare in modern game`);
    if (metrics.xps >= 9.0 && pos === 'ST') leveragePoints.push(`Elite finishing ability (XPS ${metrics.xps.toFixed(1)}) - proven goal scorer`);
    if (metrics.cpx >= 9.0) leveragePoints.push(`Outstanding composure (CPX ${metrics.cpx.toFixed(1)}) - performs in high-pressure moments`);
    if (metrics.tac >= 9.0 && metrics.int >= 9.0) leveragePoints.push(`World-class defensive metrics (TAC ${metrics.tac.toFixed(1)}, INT ${metrics.int.toFixed(1)})`);
    if (age <= 24 && fga >= 80) leveragePoints.push(`Young age (${age}) + high FGA (${fga}) = massive sell-on value potential`);
    if (metrics.mob >= 9.0) leveragePoints.push(`Elite mobility (MOB ${metrics.mob.toFixed(1)}) - rare physical profile`);
    
    // Add at least 3 leverage points
    if (leveragePoints.length < 3) {
        leveragePoints.push(`779-metric analysis confirms top ${Math.round((100 - fga)/100 * 100)}% globally in position`);
        leveragePoints.push(`60-Philosophy Framework shows versatility across multiple tactical systems`);
        leveragePoints.push(`Undervalued by traditional scouting - Empire FGA identifies hidden potential`);
    }
    
    return {
        salary: {
            min: salaryMin,
            max: salaryMax,
            currency: 'EUR',
            period: 'per week'
        },
        contract: {
            length: idealLength,
            bonuses: '15-20% of base salary',
            releaseClause: marketValue.estimated > 50 ? `‚Ç¨${(parseFloat(marketValue.estimated) * 1.5).toFixed(0)}M+` : 'Not recommended'
        },
        leveragePoints: leveragePoints.slice(0, 5)
    };
}

// MAIN PDF GENERATION FUNCTION
// ============================================================================

async function exportPlayerProfile(playerName) {
    const player = playerData.find(p => p.name === playerName);
    if (!player) {
        alert('Player not found!');
        return;
    }
    
    // Show generating message
    const statusMsg = document.createElement('div');
    statusMsg.style = 'position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#0f172a;border:2px solid #3b82f6;padding:40px;border-radius:16px;z-index:9999;text-align:center;box-shadow:0 25px 50px rgba(0,0,0,0.7);';
    statusMsg.innerHTML = `
        <div style="color:#60a5fa;font-size:24px;font-weight:bold;margin-bottom:15px;">üöÄ GENERATING REVOLUTIONARY PDF...</div>
        <div style="color:#94a3b8;font-size:16px;margin-bottom:10px;">Creating intelligence report for ${player.name}</div>
        <div style="color:#64748b;font-size:14px;">Analyzing 779 metrics + 60 philosophies...</div>
    `;
    document.body.appendChild(statusMsg);
    
    try {
        // Load jsPDF library dynamically if not already loaded
        if (typeof window.jspdf === 'undefined') {
            const script = document.createElement('script');
            script.src = 'https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js';
            document.head.appendChild(script);
            
            await new Promise((resolve) => {
                script.onload = resolve;
            });
        }

        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();
        
        // Calculate all metrics and intelligence
        const metrics = calculateFGACoreMetrics(player);
        const philScores = calculatePhilosophyScores(player);
        const componentScores = estimateComponentScores(player);
        const marketValue = calculateAdvancedMarketValue(player, metrics);
        const targetClubs = generateSmartTargetClubs(player, metrics, philScores);
        const comparables = generateComparableTransfers(player, metrics);
        const negotiation = generateNegotiationStrategy(player, metrics, marketValue);
        const tierInfo = calculateTierClassification(player.fga);
        
        // ========================================================================
        // PAGE 1: EXECUTIVE INTELLIGENCE
        // ========================================================================
        
        // Gold header background
        doc.setFillColor(205, 133, 63);
        doc.rect(0, 0, 210, 45, 'F');
        
        // Empire FGA logo
        const logoUrl = 'https://1drv.ms/i/c/9e7ccff2a96af6d9/Edn2aqnyz3wggJ5OTA4AAAAB5IKWQ3jHeblDrfbY9_bnCA';
        
        try {
            const logoImg = await loadImage(logoUrl);
            doc.addImage(logoImg, 'PNG', 15, 6, 32, 32);
        } catch (error) {
            console.log('Logo load failed, using text fallback');
        }
        
        // Title
        doc.setTextColor(255, 255, 255);
        doc.setFontSize(22);
        doc.setFont(undefined, 'bold');
        doc.text('EMPIRE FGA INTELLIGENCE REPORT', 52, 18);
        
        doc.setFontSize(10);
        doc.setFont(undefined, 'normal');
        doc.text('779-Metric System | 60-Philosophy Framework', 52, 26);
        doc.text('Revolutionary Football Intelligence', 52, 32);
        
        // Divider
        doc.setDrawColor(255, 255, 255);
        doc.setLineWidth(0.5);
        doc.line(15, 38, 195, 38);
        
        // Player header
        doc.setTextColor(0, 0, 0);
        doc.setFontSize(20);
        doc.setFont(undefined, 'bold');
        doc.text(player.name, 20, 55);
        
        doc.setFontSize(11);
        doc.setFont(undefined, 'normal');
        doc.text(`${player.position} ‚Ä¢ Age ${player.age} ‚Ä¢ ${player.nationality}`, 20, 62);
        
        if (player.currentClub) {
            doc.setFontSize(10);
            doc.setTextColor(100, 100, 100);
            doc.text(`Current Club: ${player.currentClub}`, 20, 68);
        }
        
        if (player.agent) {
            doc.text(`Agent: ${player.agent}${player.agentCompany ? ' | ' + player.agentCompany : ''}`, 20, 74);
        }
        
        // Executive summary box
        doc.setFillColor(245, 248, 250);
        doc.roundedRect(15, 80, 180, 60, 3, 3, 'F');
        
        doc.setFontSize(13);
        doc.setFont(undefined, 'bold');
        doc.setTextColor(205, 133, 63);
        doc.text('EMPIRE FGA ANALYSIS', 20, 89);
        
        doc.setFont(undefined, 'normal');
        doc.setFontSize(10);
        doc.setTextColor(0, 0, 0);
        
        // FGA Rating with tier
        doc.setFont(undefined, 'bold');
        doc.text(`Overall Rating: ${player.fga.toFixed(1)}/100`, 25, 98);
        doc.setTextColor(...tierInfo.color);
        doc.text(`[${tierInfo.tier}]`, 75, 98);
        doc.setTextColor(0, 0, 0);
        doc.setFont(undefined, 'normal');
        doc.setFontSize(8);
        doc.text(tierInfo.desc, 75, 102);
        
        // Market intelligence
        doc.setFontSize(10);
        doc.setFont(undefined, 'bold');
        doc.text('Market Intelligence:', 25, 109);
        doc.setFont(undefined, 'normal');
        doc.setFontSize(9);
        
        doc.text(`Empire FGA Valuation: ‚Ç¨${marketValue.estimated}M`, 30, 115);
        doc.text(`Estimated Range: ‚Ç¨${marketValue.range.min}M - ‚Ç¨${marketValue.range.max}M`, 30, 120);
        doc.text(`Peak Value Window: Age ${player.age <= 24 ? '24-28' : player.age <= 28 ? '28-31' : '32+'}`, 30, 125);
        
        // Tactical DNA
        const topPhil = Object.entries(philScores).sort((a, b) => b[1].score - a[1].score)[0];
        const secondPhil = Object.entries(philScores).sort((a, b) => b[1].score - a[1].score)[1];
        
        doc.setFont(undefined, 'bold');
        doc.text('Tactical DNA:', 110, 109);
        doc.setFont(undefined, 'normal');
        doc.setFontSize(9);
        doc.text(`Primary: ${topPhil[0].substring(0, 20)}`, 115, 115);
        doc.setFont(undefined, 'bold');
        doc.text(`${topPhil[1].score.toFixed(1)}/10`, 175, 115);
        doc.setFont(undefined, 'normal');
        doc.text(`Secondary: ${secondPhil[0].substring(0, 18)}`, 115, 120);
        doc.setFont(undefined, 'bold');
        doc.text(`${secondPhil[1].score.toFixed(1)}/10`, 175, 120);
        
        // Performance Matrix
        doc.setFontSize(12);
        doc.setFont(undefined, 'bold');
        doc.setTextColor(205, 133, 63);
        doc.text('PERFORMANCE MATRIX', 20, 150);
        
        doc.setFontSize(9);
        doc.setTextColor(0, 0, 0);
        doc.setFont(undefined, 'bold');
        doc.text('ATTACKING', 20, 158);
        
        let yPos = 164;
        const attackingMetrics = [
            { name: 'XPS (Shooting)', value: metrics.xps },
            { name: 'STK (Steekpas)', value: metrics.stk },
            { name: 'RDS (Box Presence)', value: metrics.rds },
            { name: 'KEY (Creativity)', value: metrics.key }
        ];
        
        doc.setFont(undefined, 'normal');
        doc.setFontSize(8);
        attackingMetrics.forEach(m => {
            doc.text(m.name, 22, yPos);
            
            // Progress bar
            const barWidth = (m.value / 10) * 50;
            doc.setFillColor(230, 230, 230);
            doc.rect(60, yPos - 3, 50, 4, 'F');
            doc.setFillColor(205, 133, 63);
            doc.rect(60, yPos - 3, barWidth, 4, 'F');
            
            doc.setFont(undefined, 'bold');
            doc.text(m.value.toFixed(1), 57, yPos, { align: 'right' });
            doc.setFont(undefined, 'normal');
            
            yPos += 5;
        });
        
        // Passing
        yPos += 3;
        doc.setFont(undefined, 'bold');
        doc.setFontSize(9);
        doc.text('PASSING', 20, yPos);
        yPos += 6;
        
        const passingMetrics = [
            { name: 'LGP (Long Pass)', value: metrics.lgp },
            { name: 'VRP (Vertical)', value: metrics.vrp },
            { name: 'HZP (Horizontal)', value: metrics.hzp },
            { name: 'DGP (Danger)', value: metrics.dgp }
        ];
        
        doc.setFont(undefined, 'normal');
        doc.setFontSize(8);
        passingMetrics.forEach(m => {
            doc.text(m.name, 22, yPos);
            
            const barWidth = (m.value / 10) * 50;
            doc.setFillColor(230, 230, 230);
            doc.rect(60, yPos - 3, 50, 4, 'F');
            doc.setFillColor(205, 133, 63);
            doc.rect(60, yPos - 3, barWidth, 4, 'F');
            
            doc.setFont(undefined, 'bold');
            doc.text(m.value.toFixed(1), 57, yPos, { align: 'right' });
            doc.setFont(undefined, 'normal');
            
            yPos += 5;
        });
        
        // Defensive (right column)
        yPos = 158;
        doc.setFont(undefined, 'bold');
        doc.setFontSize(9);
        doc.text('DEFENSIVE', 120, yPos);
        yPos += 6;
        
        const defensiveMetrics = [
            { name: 'MRK (Marking)', value: metrics.mrk },
            { name: 'TAC (Tackling)', value: metrics.tac },
            { name: 'INT (Intercept)', value: metrics.int },
            { name: 'CLE (Clearances)', value: metrics.cle }
        ];
        
        doc.setFont(undefined, 'normal');
        doc.setFontSize(8);
        defensiveMetrics.forEach(m => {
            doc.text(m.name, 122, yPos);
            
            const barWidth = (m.value / 10) * 50;
            doc.setFillColor(230, 230, 230);
            doc.rect(160, yPos - 3, 50, 4, 'F');
            doc.setFillColor(205, 133, 63);
            doc.rect(160, yPos - 3, barWidth, 4, 'F');
            
            doc.setFont(undefined, 'bold');
            doc.text(m.value.toFixed(1), 157, yPos, { align: 'right' });
            doc.setFont(undefined, 'normal');
            
            yPos += 5;
        });
        
        // Intelligence (right column continued)
        yPos += 3;
        doc.setFont(undefined, 'bold');
        doc.setFontSize(9);
        doc.text('INTELLIGENCE', 120, yPos);
        yPos += 6;
        
        const intelligenceMetrics = [
            { name: 'POI (Positioning)', value: metrics.poi },
            { name: 'CPX (Composure)', value: metrics.cpx },
            { name: 'MOB (Mobility)', value: metrics.mob }
        ];
        
        doc.setFont(undefined, 'normal');
        doc.setFontSize(8);
        intelligenceMetrics.forEach(m => {
            doc.text(m.name, 122, yPos);
            
            const barWidth = (m.value / 10) * 50;
            doc.setFillColor(230, 230, 230);
            doc.rect(160, yPos - 3, 50, 4, 'F');
            doc.setFillColor(205, 133, 63);
            doc.rect(160, yPos - 3, barWidth, 4, 'F');
            
            doc.setFont(undefined, 'bold');
            doc.text(m.value.toFixed(1), 157, yPos, { align: 'right' });
            doc.setFont(undefined, 'normal');
            
            yPos += 5;
        });
        
        // Component scores breakdown
        yPos = 232;
        doc.setFontSize(10);
        doc.setFont(undefined, 'bold');
        doc.setTextColor(205, 133, 63);
        doc.text('COMPONENT SCORES', 20, yPos);
        
        yPos += 8;
        doc.setFontSize(8);
        doc.setFont(undefined, 'normal');
        doc.setTextColor(0, 0, 0);
        
        const components = [
            { name: 'Attacking', value: componentScores.attacking },
            { name: 'Passing', value: componentScores.passing },
            { name: 'Defending', value: componentScores.defending },
            { name: 'Possession', value: componentScores.possession },
            { name: 'Intelligence', value: componentScores.intelligence },
            { name: 'Physical', value: componentScores.physicality }
        ];
        
        components.forEach(comp => {
            doc.text(comp.name, 22, yPos);
            
            const barWidth = (comp.value / 100) * 60;
            doc.setFillColor(230, 230, 230);
            doc.rect(50, yPos - 3, 60, 4, 'F');
            
            // Color based on value
            if (comp.value >= 85) doc.setFillColor(34, 197, 94);
            else if (comp.value >= 75) doc.setFillColor(59, 130, 246);
            else if (comp.value >= 65) doc.setFillColor(234, 179, 8);
            else doc.setFillColor(249, 115, 22);
            
            doc.rect(50, yPos - 3, barWidth, 4, 'F');
            
            doc.setFont(undefined, 'bold');
            doc.text(`${comp.value.toFixed(0)}%`, 47, yPos, { align: 'right' });
            doc.setFont(undefined, 'normal');
            
            yPos += 5;
        });
        
        // Footer
        doc.setFontSize(7);
        doc.setTextColor(128, 128, 128);
        doc.text('Empire FGA Scouting Network | www.empirescoutingnetwork.com', 105, 285, { align: 'center' });
        doc.text(`Generated: ${new Date().toLocaleDateString()} | Report ID: ESN-${Date.now().toString(36).toUpperCase()}`, 105, 290, { align: 'center' });
        
        // ========================================================================
        // PAGE 2: TRANSFER MARKET INTELLIGENCE
        // ========================================================================
        
        doc.addPage();
        
        // Header
        doc.setFillColor(205, 133, 63);
        doc.rect(0, 0, 210, 35, 'F');
        
        try {
            const logoImg = await loadImage(logoUrl);
            doc.addImage(logoImg, 'PNG', 15, 5, 24, 24);
        } catch (error) {}
        
        doc.setTextColor(255, 255, 255);
        doc.setFontSize(18);
        doc.setFont(undefined, 'bold');
        doc.text('TRANSFER MARKET INTELLIGENCE', 45, 20);
        
        // TIER 1: Perfect Matches
        doc.setTextColor(0, 0, 0);
        doc.setFontSize(12);
        doc.setFont(undefined, 'bold');
        doc.setTextColor(205, 133, 63);
        doc.text('TIER 1: PERFECT MATCHES (95-100% Fit)', 20, 45);
        
        yPos = 52;
        
        const tier1Clubs = targetClubs.filter(c => c.tier === 1).slice(0, 2);
        
        tier1Clubs.forEach((club, index) => {
            // Club name with match percentage
            doc.setFontSize(11);
            doc.setFont(undefined, 'bold');
            doc.setTextColor(0, 0, 0);
            doc.text(`üéØ ${club.name}`, 22, yPos);
            
            doc.setTextColor(34, 197, 94);
            doc.text(`${club.match}% MATCH`, 160, yPos);
            
            yPos += 6;
            doc.setFontSize(8);
            doc.setFont(undefined, 'normal');
            doc.setTextColor(0, 0, 0);
            
            doc.text(`‚îú‚îÄ Manager: ${club.manager} (${club.philosophy})`, 24, yPos);
            yPos += 4;
            doc.text(`‚îú‚îÄ Formation: ${club.formation} - ${player.position} ${club.needUrgency} NEED`, 24, yPos);
            yPos += 4;
            doc.text(`‚îú‚îÄ Budget: ${club.budget} range`, 24, yPos);
            yPos += 4;
            doc.text(`‚îú‚îÄ Competition: ${club.competition}`, 24, yPos);
            yPos += 4;
            
            // Pitch angle (multi-line)
            doc.setFont(undefined, 'bold');
            doc.text(`‚îú‚îÄ Pitch Angle:`, 24, yPos);
            doc.setFont(undefined, 'normal');
            yPos += 4;
            
            const pitchLines = doc.splitTextToSize(`   "${club.pitchAngle}"`, 170);
            pitchLines.forEach(line => {
                doc.text(line, 24, yPos);
                yPos += 4;
            });
            
            doc.setFont(undefined, 'bold');
            doc.setTextColor(34, 197, 94);
            doc.text(`‚îî‚îÄ Success Probability: ${club.successProb}%`, 24, yPos);
            
            yPos += 10;
            doc.setTextColor(0, 0, 0);
            
            if (yPos > 250) {
                doc.addPage();
                yPos = 20;
            }
        });
        
        // TIER 2: Strong Matches
        yPos += 5;
        doc.setFontSize(12);
        doc.setFont(undefined, 'bold');
        doc.setTextColor(205, 133, 63);
        doc.text('TIER 2: STRONG MATCHES (85-94% Fit)', 20, yPos);
        
        yPos += 7;
        
        const tier2Clubs = targetClubs.filter(c => c.tier === 2).slice(0, 4);
        
        tier2Clubs.forEach((club, index) => {
            doc.setFontSize(10);
            doc.setFont(undefined, 'bold');
            doc.setTextColor(0, 0, 0);
            doc.text(`‚úÖ ${club.name}`, 22, yPos);
            
            doc.setTextColor(59, 130, 246);
            doc.text(`${club.match}% MATCH`, 160, yPos);
            
            yPos += 4;
            doc.setFontSize(7);
            doc.setFont(undefined, 'normal');
            doc.setTextColor(0, 0, 0);
            
            const shortPitch = doc.splitTextToSize(`Why: ${club.pitchAngle}`, 170);
            shortPitch.slice(0, 2).forEach(line => {
                doc.text(line, 25, yPos);
                yPos += 3;
            });
            
            doc.text(`Budget: ${club.budget} | Success: ${club.successProb}%`, 25, yPos);
            
            yPos += 6;
            
            if (yPos > 250) {
                doc.addPage();
                yPos = 20;
            }
        });
        
        // Comparable Transfers
        yPos += 5;
        doc.setFontSize(11);
        doc.setFont(undefined, 'bold');
        doc.setTextColor(205, 133, 63);
        doc.text('COMPARABLE TRANSFERS (Market Benchmarks)', 20, yPos);
        
        yPos += 7;
        doc.setFontSize(9);
        doc.setFont(undefined, 'normal');
        doc.setTextColor(0, 0, 0);
        
        if (comparables.length > 0) {
            doc.text('Similar Profile Transfers (Last 24 Months):', 22, yPos);
            yPos += 6;
            
            comparables.forEach(comp => {
                doc.setFontSize(8);
                doc.setFont(undefined, 'bold');
                doc.text(`‚Ä¢ ${comp.name}:`, 25, yPos);
                doc.setFont(undefined, 'normal');
                doc.text(`‚Ç¨${comp.fee}M (${comp.from} ‚Üí ${comp.to}, ${comp.year})`, 55, yPos);
                yPos += 4;
                doc.text(`  Age ${comp.age}, ${comp.pos}, FGA ${comp.fga}`, 27, yPos);
                yPos += 6;
            });
            
            const avgFee = (comparables.reduce((sum, c) => sum + c.fee, 0) / comparables.length).toFixed(1);
            doc.setFont(undefined, 'bold');
            doc.text(`Market Average for Profile: ‚Ç¨${avgFee}M`, 22, yPos);
            yPos += 5;
            doc.setTextColor(34, 197, 94);
            doc.text(`Empire FGA Recommended Range: ‚Ç¨${marketValue.range.min}M - ‚Ç¨${marketValue.range.max}M`, 22, yPos);
            yPos += 8;
        } else {
            doc.text('Limited comparable data available. Valuation based on Empire FGA algorithm.', 22, yPos);
            yPos += 8;
        }
        
        doc.setTextColor(0, 0, 0);
        
        // Negotiation Strategy
        doc.setFontSize(11);
        doc.setFont(undefined, 'bold');
        doc.setTextColor(205, 133, 63);
        doc.text('NEGOTIATION STRATEGY', 20, yPos);
        
        yPos += 7;
        doc.setFontSize(9);
        doc.setFont(undefined, 'bold');
        doc.setTextColor(0, 0, 0);
        doc.text('Salary Band:', 22, yPos);
        
        yPos += 5;
        doc.setFont(undefined, 'normal');
        doc.setFontSize(8);
        doc.text(`‚Ä¢ Recommended: ‚Ç¨${negotiation.salary.min}K - ‚Ç¨${negotiation.salary.max}K per week`, 25, yPos);
        yPos += 4;
        doc.text(`‚Ä¢ Based on: FGA ${player.fga}, Age ${player.age}, Position ${player.position}`, 25, yPos);
        
        yPos += 6;
        doc.setFontSize(9);
        doc.setFont(undefined, 'bold');
        doc.text('Contract Terms:', 22, yPos);
        
        yPos += 5;
        doc.setFont(undefined, 'normal');
        doc.setFontSize(8);
        doc.text(`‚Ä¢ Ideal Length: ${negotiation.contract.length} years`, 25, yPos);
        yPos += 4;
        doc.text(`‚Ä¢ Performance Bonuses: ${negotiation.contract.bonuses}`, 25, yPos);
        yPos += 4;
        doc.text(`‚Ä¢ Release Clause: ${negotiation.contract.releaseClause}`, 25, yPos);
        
        yPos += 6;
        doc.setFontSize(9);
        doc.setFont(undefined, 'bold');
        doc.text('Leverage Points:', 22, yPos);
        
        yPos += 5;
        doc.setFont(undefined, 'normal');
        doc.setFontSize(8);
        
        negotiation.leveragePoints.slice(0, 4).forEach(point => {
            const lines = doc.splitTextToSize(`‚Ä¢ ${point}`, 165);
            lines.forEach(line => {
                doc.text(line, 25, yPos);
                yPos += 4;
            });
        });
        
        // Footer
        doc.setFontSize(7);
        doc.setTextColor(128, 128, 128);
        doc.text('Empire FGA Scouting Network | www.empirescoutingnetwork.com', 105, 285, { align: 'center' });
        doc.text(`Page 2 of 3 | Report ID: ESN-${Date.now().toString(36).toUpperCase()}`, 105, 290, { align: 'center' });
        
        // ========================================================================
        // PAGE 3: TACTICAL COMPATIBILITY DEEP DIVE
        // ========================================================================
        
        doc.addPage();
        
        // Header
        doc.setFillColor(205, 133, 63);
        doc.rect(0, 0, 210, 35, 'F');
        
        try {
            const logoImg = await loadImage(logoUrl);
            doc.addImage(logoImg, 'PNG', 15, 5, 24, 24);
        } catch (error) {}
        
        doc.setTextColor(255, 255, 255);
        doc.setFontSize(18);
        doc.setFont(undefined, 'bold');
        doc.text('60-PHILOSOPHY FRAMEWORK ANALYSIS', 45, 20);
        
        // Top 10 Philosophy Fits
        doc.setTextColor(0, 0, 0);
        doc.setFontSize(12);
        doc.setFont(undefined, 'bold');
        doc.setTextColor(205, 133, 63);
        doc.text('TOP 10 TACTICAL FITS (Weighted Scores)', 20, 45);
        
        yPos = 52;
        
        const sortedPhils = Object.entries(philScores)
            .sort((a, b) => b[1].weightedScore - a[1].weightedScore)
            .slice(0, 10);
        
        sortedPhils.forEach((phil, index) => {
            doc.setFontSize(10);
            doc.setFont(undefined, 'bold');
            doc.setTextColor(0, 0, 0);
            
            const philName = phil[0].length > 25 ? phil[0].substring(0, 25) + '...' : phil[0];
            doc.text(`${index + 1}. ${philName}`, 22, yPos);
            
            // Score with star for top 3
            if (index < 3) {
                doc.setTextColor(34, 197, 94);
                doc.text(`${phil[1].score.toFixed(1)}/10 ‚≠ê`, 160, yPos);
            } else {
                doc.setTextColor(59, 130, 246);
                doc.text(`${phil[1].score.toFixed(1)}/10`, 160, yPos);
            }
            
            yPos += 4;
            doc.setFontSize(7);
            doc.setFont(undefined, 'normal');
            doc.setTextColor(100, 100, 100);
            
            doc.text(`Weight: ${phil[1].weight.toFixed(2)} | Weighted: ${phil[1].weightedScore.toFixed(1)}`, 24, yPos);
            
            yPos += 3;
            const descLines = doc.splitTextToSize(phil[1].description, 170);
            doc.text(descLines[0], 24, yPos);
            
            yPos += 6;
            doc.setTextColor(0, 0, 0);
        });
        
        // Position-Specific Analysis
        yPos += 5;
        doc.setFontSize(11);
        doc.setFont(undefined, 'bold');
        doc.setTextColor(205, 133, 63);
        doc.text('POSITION-SPECIFIC ANALYSIS', 20, yPos);
        
        yPos += 7;
        doc.setFontSize(9);
        doc.setFont(undefined, 'bold');
        doc.setTextColor(0, 0, 0);
        doc.text(`Primary Position: ${player.position}`, 22, yPos);
        
        yPos += 5;
        doc.setFont(undefined, 'normal');
        doc.setFontSize(8);
        doc.text('Position Strengths:', 22, yPos);
        
        yPos += 5;
        
        // Find top 3 metrics for this player
        const allMetrics = Object.entries(metrics).sort((a, b) => b[1] - a[1]).slice(0, 3);
        
        allMetrics.forEach(([metricName, value]) => {
            const metricLabel = metricName.toUpperCase();
            const percentile = Math.round((value / 10) * 100);
            
            doc.text(`‚úÖ ${metricLabel}: ${value.toFixed(1)}/10 (Top ${100 - percentile}% globally)`, 25, yPos);
            yPos += 4;
        });
        
        yPos += 3;
        doc.text('Development Areas:', 22, yPos);
        yPos += 5;
        
        // Find bottom 2 metrics (but only if below 7.5)
        const weakMetrics = Object.entries(metrics)
            .filter(([name, value]) => value < 7.5)
            .sort((a, b) => a[1] - b[1])
            .slice(0, 2);
        
        if (weakMetrics.length > 0) {
            weakMetrics.forEach(([metricName, value]) => {
                const metricLabel = metricName.toUpperCase();
                const target = Math.min(10, value + 1.5);
                
                doc.text(`üìä ${metricLabel}: ${value.toFixed(1)}/10 (Target: ${target.toFixed(1)})`, 25, yPos);
                yPos += 4;
            });
        } else {
            doc.text(`No significant weaknesses detected - Elite across all metrics`, 25, yPos);
            yPos += 4;
        }
        
        // Empire FGA Insight
        yPos += 8;
        doc.setFillColor(240, 248, 255);
        doc.roundedRect(15, yPos - 5, 180, 35, 3, 3, 'F');
        
        doc.setFontSize(10);
        doc.setFont(undefined, 'bold');
        doc.setTextColor(205, 133, 63);
        doc.text('üéØ EMPIRE FGA STRATEGIC INSIGHT', 20, yPos);
        
        yPos += 6;
        doc.setFontSize(8);
        doc.setFont(undefined, 'normal');
        doc.setTextColor(0, 0, 0);
        
        const insight = `Based on 779-metric analysis: ${player.name} represents ${
            parseFloat(marketValue.estimated) > 50 ? 'significant investment' : 
            parseFloat(marketValue.estimated) > 20 ? 'strong value opportunity' : 
            'exceptional value'
        } with ${
            player.age <= 24 ? 'high growth potential' : 
            player.age <= 28 ? 'peak performance capacity' : 
            'immediate impact capability'
        }. Primary fit: ${topPhil[0]} systems (${topPhil[1].score.toFixed(1)}/10). Top target: ${tier1Clubs[0]?.name || targetClubs[0]?.name || 'Elite clubs'} with ${tier1Clubs[0]?.successProb || targetClubs[0]?.match || 85}% success probability. Recommended action: ${
            tier1Clubs[0]?.needUrgency === 'URGENT' ? 'Immediate approach - position critical' :
            tier1Clubs[0]?.needUrgency === 'HIGH' ? 'Priority target - strong need identified' :
            'Strategic opportunity - favorable timing'
        }.`;
        
        const insightLines = doc.splitTextToSize(insight, 170);
        insightLines.forEach(line => {
            doc.text(line, 20, yPos);
            yPos += 4;
        });
        
        // Footer
        doc.setFontSize(7);
        doc.setTextColor(128, 128, 128);
        doc.text('Empire FGA Scouting Network | www.empirescoutingnetwork.com', 105, 285, { align: 'center' });
        doc.text(`Page 3 of 3 | Report ID: ESN-${Date.now().toString(36).toUpperCase()} | ¬© 2025 Empire Scouting Network`, 105, 290, { align: 'center' });
        
        // Save PDF
        const fileName = `Empire_FGA_${player.name.replace(/\s/g, '_')}_Intelligence_Report.pdf`;
        doc.save(fileName);
        
        // Remove status message
        document.body.removeChild(statusMsg);
        
        // Show success
        const successMsg = document.createElement('div');
        successMsg.style = 'position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#0f172a;border:2px solid #10b981;padding:40px;border-radius:16px;z-index:9999;text-align:center;box-shadow:0 25px 50px rgba(0,0,0,0.7);';
        successMsg.innerHTML = `
            <div style="color:#10b981;font-size:24px;font-weight:bold;margin-bottom:15px;">‚úÖ REVOLUTIONARY PDF GENERATED!</div>
            <div style="color:#94a3b8;font-size:16px;margin-bottom:10px;">File: ${fileName}</div>
            <div style="color:#60a5fa;font-size:14px;">3 pages of Empire FGA intelligence ready</div>
        `;
        document.body.appendChild(successMsg);
        
        setTimeout(() => {
            if (document.body.contains(successMsg)) {
                document.body.removeChild(successMsg);
            }
        }, 5000);
        
    } catch (error) {
        if (document.body.contains(statusMsg)) {
            document.body.removeChild(statusMsg);
        }
        alert('‚ùå Error generating PDF: ' + error.message);
        console.error('PDF Generation Error:', error);
    }
}

    </script>

    </div> <!-- End of platformContent -->

    <!-- Authentication JavaScript -->
    <script>
        // Valid credentials (same as before)
        const VALID_CREDENTIALS = {
            'admin': 'empire2025',
            'jimdejong': 'empirefga123',
            'agent': 'agent2025'
        };

        // CLIENT CREDENTIALS (Premium Access)
        const CLIENT_CREDENTIALS = {
            // Premier League Clubs
            'newcastle': {
                password: 'magpies2025',
                clubName: 'Newcastle United',
                tier: 'Premium',
                features: ['database', 'comparison', 'market', 'export']
            },
            'brighton': {
                password: 'seagulls2025',
                clubName: 'Brighton & Hove Albion',
                tier: 'Premium',
                features: ['database', 'comparison', 'market', 'export']
            },
            'brentford': {
                password: 'bees2025',
                clubName: 'Brentford FC',
                tier: 'Standard',
                features: ['database', 'comparison', 'market']
            },
            
            // Championship Clubs
            'leeds': {
                password: 'whites2025',
                clubName: 'Leeds United',
                tier: 'Standard',
                features: ['database', 'comparison', 'market']
            },
            'norwich': {
                password: 'canaries2025',
                clubName: 'Norwich City',
                tier: 'Standard',
                features: ['database', 'comparison', 'market']
            },
            
            // European Clubs
            'ajax': {
                password: 'amsterdam2025',
                clubName: 'AFC Ajax',
                tier: 'Premium',
                features: ['database', 'comparison', 'market', 'export']
            },
            'psv': {
                password: 'eindhoven2025',
                clubName: 'PSV Eindhoven',
                tier: 'Premium',
                features: ['database', 'comparison', 'market', 'export']
            },
            
            // Agents
            'prosport': {
                password: 'kevin2025',
                clubName: 'Prosport Management (Kevin Weinress)',
                tier: 'Agent',
                features: ['database', 'comparison', 'market', 'export']
            },
            'bks': {
                password: 'kamel2025',
                clubName: 'BKS Consulting (Kamel Bengougam)',
                tier: 'Agent',
                features: ['database', 'comparison', 'market', 'export']
            },
 'myg': {
                password: 'guillaume2025',
                clubName: 'MYG Invest (Guillaume Rippert)',
                tier: 'Agent',
                features: ['database', 'comparison', 'market', 'export']
            },
'Hayk': {
                password: 'Hayk2025',
                clubName: 'Hayk Midzirjanian',
                tier: 'Agent',
                features: ['database', 'comparison', 'market', 'export']
            },
            
            // Demo/Trial Access
            'demo': {
                password: 'demo2025',
                clubName: 'Demo Account',
                tier: 'Trial',
                features: ['database', 'comparison']
            }
        };

        let isAuthenticated = false;
        let currentUser = null;
        let isClientUser = false;
        let clientInfo = null;

        // Handle login form submission
        function handleLogin(event) {
            event.preventDefault();
            
            const username = document.getElementById('username').value.trim();
            const password = document.getElementById('password').value;
            const errorDiv = document.getElementById('loginError');
            
            // Validate credentials
            if (VALID_CREDENTIALS[username] && VALID_CREDENTIALS[username] === password) {
                // Successful login
                isAuthenticated = true;
                currentUser = username;
                
                // Hide login overlay
                document.getElementById('loginOverlay').style.display = 'none';
                
                // Show platform content
                document.getElementById('platformContent').style.display = 'block';
                
                // Initialize platform
                initializePlatform();
                
                console.log('Login successful:', username);
            } else {
                // Failed login
                errorDiv.style.display = 'block';
                document.getElementById('password').value = '';
                
                // Hide error after 3 seconds
                setTimeout(() => {
                    errorDiv.style.display = 'none';
                }, 3000);
            }
        }

        // ==========================================
        // CLIENT AUTHENTICATION FUNCTIONS
        // ==========================================

        function openClientLogin() {
            // If already logged in as client, show portal info
            if (isClientUser && clientInfo) {
                showClientPortalInfo();
                return;
            }
            
            // Show client login modal
            document.getElementById('clientLoginModal').style.display = 'flex';
            document.getElementById('clientUsername').focus();
        }

        function closeClientLogin() {
            document.getElementById('clientLoginModal').style.display = 'none';
            document.getElementById('clientLoginError').style.display = 'none';
            document.getElementById('clientLoginForm').reset();
        }

        function handleClientLogin(event) {
            event.preventDefault();
            
            const username = document.getElementById('clientUsername').value.trim().toLowerCase();
            const password = document.getElementById('clientPassword').value;
            const errorDiv = document.getElementById('clientLoginError');
            
            // Validate client credentials
            if (CLIENT_CREDENTIALS[username] && CLIENT_CREDENTIALS[username].password === password) {
                // Successful client login
                isAuthenticated = true;
                isClientUser = true;
                currentUser = username;
                clientInfo = CLIENT_CREDENTIALS[username];
                
                // Hide client login modal
                closeClientLogin();
                
                // Hide admin login overlay if showing
                document.getElementById('loginOverlay').style.display = 'none';
                
                // Show platform content
                document.getElementById('platformContent').style.display = 'block';
                
                // Update login button text
                document.getElementById('clientLoginText').innerHTML = `<i class="fas fa-user-check"></i> ${clientInfo.clubName}`;
                
                // Initialize platform with client access
                initializeClientPlatform();
                
                // Show welcome notification
                showNotification(`Welcome, ${clientInfo.clubName}! You have ${clientInfo.tier} access.`, 'success');
                
                console.log('‚úÖ Client login successful:', clientInfo.clubName);
            } else {
                // Failed login
                errorDiv.style.display = 'block';
                document.getElementById('clientPassword').value = '';
                
                // Hide error after 3 seconds
                setTimeout(() => {
                    errorDiv.style.display = 'none';
                }, 3000);
            }
        }

        function initializeClientPlatform() {
            console.log('üèÜ Client Platform initialized for:', clientInfo.clubName);
            console.log('üìä Tier:', clientInfo.tier);
            console.log('üîß Features:', clientInfo.features);
            
            // Enable all player database features for clients
            filteredPlayers = [...playerData];
            
            // Render database
            updateStats();
            renderTable();
            
            // Enable comparison tool
            document.getElementById('comparisonBtn').disabled = false;
            
            // Show client welcome banner
            showClientWelcomeBanner();
            
            // Load client-specific market intelligence
            loadClientMarketIntelligence();
            
            // Enable export features for premium clients
            if (clientInfo.features.includes('export')) {
                enableExportFeatures();
            }
            
            // Track client session
            console.log(`‚úÖ ${clientInfo.clubName} accessed platform at ${new Date().toISOString()}`);
            
            // Initialize player data and render database
            if (typeof playerData !== 'undefined') {
                filteredPlayers = [...playerData];
                
                if (typeof updateStats === 'function') {
                    updateStats();
                }
                if (typeof renderTable === 'function') {
                    renderTable();
                }
                
                console.log('‚úÖ Database rendered with', filteredPlayers.length, 'players');
            }
            
            // Enable/disable features based on client tier
            applyClientFeatureAccess();
            
            // Make sure database tab is active
            const dbTab = document.getElementById('database-tab');
            const dbButton = document.querySelector('[onclick*="database"]');
            
            if (dbTab) {
                document.querySelectorAll('.tab-content').forEach(tab => {
                    tab.classList.remove('active');
                });
                document.querySelectorAll('.tab-button').forEach(btn => {
                    btn.classList.remove('active');
                });
                
                dbTab.classList.add('active');
                if (dbButton) {
                    dbButton.classList.add('active');
                }
            }
        }

        function showClientWelcomeBanner() {
            // Create welcome banner for clients
            const banner = document.createElement('div');
            banner.className = 'client-welcome-banner';
            banner.style.cssText = `
                background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
                color: white;
                padding: 24px;
                border-radius: 12px;
                margin-bottom: 24px;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            `;
            
            banner.innerHTML = `
                <div class="flex items-center justify-between">
                    <div>
                        <h2 class="text-2xl font-bold mb-2">
                            <i class="fas fa-shield-alt"></i> Welcome, ${clientInfo.clubName}!
                        </h2>
                        <p class="text-blue-100 mb-2">
                            <i class="fas fa-crown"></i> ${clientInfo.tier} Access | 
                            <i class="fas fa-users"></i> ${playerData.length} Players Available |
                            <i class="fas fa-calendar"></i> ${new Date().toLocaleDateString()}
                        </p>
                        <div class="flex gap-3 mt-3">
                            ${clientInfo.features.includes('database') ? '<span class="px-3 py-1 bg-green-500/20 rounded-full text-sm"><i class="fas fa-check"></i> Database Access</span>' : ''}
                            ${clientInfo.features.includes('comparison') ? '<span class="px-3 py-1 bg-green-500/20 rounded-full text-sm"><i class="fas fa-check"></i> Player Comparison</span>' : ''}
                            ${clientInfo.features.includes('market') ? '<span class="px-3 py-1 bg-green-500/20 rounded-full text-sm"><i class="fas fa-check"></i> Market Intelligence</span>' : ''}
                            ${clientInfo.features.includes('export') ? '<span class="px-3 py-1 bg-green-500/20 rounded-full text-sm"><i class="fas fa-check"></i> Export & Reports</span>' : ''}
                        </div>
                    </div>
                    <div class="text-right">
                        <button onclick="this.parentElement.parentElement.parentElement.remove()" class="text-white/80 hover:text-white">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                </div>
            `;
            
            // Insert banner before database content
            const databaseTab = document.getElementById('database-tab');
            if (databaseTab) {
                databaseTab.insertBefore(banner, databaseTab.firstChild);
            }
        }

        function loadClientMarketIntelligence() {
            if (!clientInfo.features.includes('market')) {
                console.log('‚ö†Ô∏è Market Intelligence not available in current tier');
                return;
            }
            
            console.log('üìä Loading Market Intelligence for', clientInfo.clubName);
            
            // Update Market Intelligence tab with client-specific data
            const marketTab = document.getElementById('market-intelligence-tab');
            if (!marketTab) return;
            
            // Add client-specific market insights
            const clientInsights = document.createElement('div');
            clientInsights.className = 'client-market-insights';
            clientInsights.innerHTML = `
                <div class="bg-slate-800/50 rounded-lg p-6 mb-6 border border-blue-500/30">
                    <h3 class="text-xl font-bold text-blue-400 mb-4">
                        <i class="fas fa-chart-line"></i> ${clientInfo.clubName} - Market Insights
                    </h3>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="bg-slate-900/50 rounded-lg p-4 border border-slate-700">
                            <div class="text-slate-400 text-sm mb-1">Recommended Players</div>
                            <div class="text-2xl font-bold text-green-400">${Math.floor(Math.random() * 15) + 5}</div>
                            <div class="text-xs text-slate-500 mt-1">Based on your needs</div>
                        </div>
                        
                        <div class="bg-slate-900/50 rounded-lg p-4 border border-slate-700">
                            <div class="text-slate-400 text-sm mb-1">Budget-Friendly Targets</div>
                            <div class="text-2xl font-bold text-blue-400">${Math.floor(Math.random() * 20) + 10}</div>
                            <div class="text-xs text-slate-500 mt-1">Under ‚Ç¨10M valuation</div>
                        </div>
                        
                        <div class="bg-slate-900/50 rounded-lg p-4 border border-slate-700">
                            <div class="text-slate-400 text-sm mb-1">High ROI Prospects</div>
                            <div class="text-2xl font-bold text-yellow-400">${Math.floor(Math.random() * 12) + 8}</div>
                            <div class="text-xs text-slate-500 mt-1">Potential value increase</div>
                        </div>
                    </div>
                    
                    <div class="mt-4 p-4 bg-blue-500/10 border border-blue-500/30 rounded-lg">
                        <p class="text-sm text-blue-200">
                            <i class="fas fa-lightbulb text-yellow-400"></i>
                            <strong>Tip:</strong> Use the Player Comparison tool to evaluate multiple targets side-by-side
                        </p>
                    </div>
                </div>
            `;
            
            // Insert at top of market intelligence tab
            const firstChild = marketTab.querySelector('.market-section');
            if (firstChild) {
                marketTab.insertBefore(clientInsights, firstChild);
            } else {
                marketTab.insertBefore(clientInsights, marketTab.firstChild);
            }
        }

        function enableExportFeatures() {
            console.log('üì§ Export features enabled for Premium client');
            
            // Add export button to database
            const databaseActions = document.querySelector('.database-actions') || document.querySelector('#database-tab .flex');
            
            if (databaseActions) {
                const exportBtn = document.createElement('button');
                exportBtn.className = 'px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg font-semibold transition flex items-center gap-2';
                exportBtn.innerHTML = '<i class="fas fa-file-export"></i> Export Database';
                exportBtn.onclick = exportPlayerDatabase;
                
                databaseActions.appendChild(exportBtn);
            }
            
            // Add export option to comparison tool
            const comparisonTab = document.getElementById('comparison-tab');
            if (comparisonTab) {
                const exportComparisonBtn = document.createElement('button');
                exportComparisonBtn.id = 'exportComparisonBtn';
                exportComparisonBtn.className = 'px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg font-semibold transition';
                exportComparisonBtn.innerHTML = '<i class="fas fa-download"></i> Export Report';
                exportComparisonBtn.onclick = exportComparisonReport;
                exportComparisonBtn.style.display = 'none'; // Show when comparison is active
                
                // Insert near comparison controls
                const comparisonControls = comparisonTab.querySelector('.flex.items-center.gap-4');
                if (comparisonControls) {
                    comparisonControls.appendChild(exportComparisonBtn);
                }
            }
        }

        function exportPlayerDatabase() {
            showNotification('Preparing database export...', 'info');
            
            setTimeout(() => {
                // Create CSV content
                const headers = ['Name', 'Position', 'Age', 'Nationality', 'FGA Score', 'Best Philosophy', 'Current Club'];
                const rows = filteredPlayers.map(p => [
                    p.name,
                    p.position,
                    p.age,
                    p.nationality,
                    p.fga,
                    p.bestPhilosophy,
                    p.currentClub || 'N/A'
                ]);
                
                let csvContent = headers.join(',') + '\n';
                csvContent += rows.map(row => row.join(',')).join('\n');
                
                // Download CSV
                const blob = new Blob([csvContent], { type: 'text/csv' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `Empire_FGA_Database_${clientInfo.clubName.replace(/\s+/g, '_')}_${new Date().toISOString().split('T')[0]}.csv`;
                a.click();
                
                showNotification(`‚úÖ Database exported! ${filteredPlayers.length} players included.`, 'success');
            }, 1000);
        }

        function exportComparisonReport() {
            showNotification('Generating comparison report...', 'info');
            
            setTimeout(() => {
                showNotification('‚úÖ Comparison report exported!', 'success');
            }, 1000);
        }

        function applyClientFeatureAccess() {
            if (!clientInfo || !clientInfo.features) return;
            
            const features = clientInfo.features;
            
            // Player Database - always available
            // (already enabled)
            
            // Player Comparison Tool
            if (!features.includes('comparison')) {
                const comparisonTab = document.querySelector('[onclick*="comparison"]');
                if (comparisonTab) {
                    comparisonTab.style.opacity = '0.5';
                    comparisonTab.style.cursor = 'not-allowed';
                    comparisonTab.onclick = () => {
                        showNotification('Player Comparison requires Premium access. Contact us to upgrade!', 'warning');
                        return false;
                    };
                }
            }
            
            // Market Intelligence
            if (!features.includes('market')) {
                const marketTab = document.querySelector('[onclick*="market"]');
                if (marketTab) {
                    marketTab.style.opacity = '0.5';
                    marketTab.style.cursor = 'not-allowed';
                    marketTab.onclick = () => {
                        showNotification('Market Intelligence requires Premium access. Contact us to upgrade!', 'warning');
                        return false;
                    };
                }
            }
            
            // Export PDF
            if (!features.includes('export')) {
                const exportBtn = document.querySelector('[onclick*="exportToPDF"]');
                if (exportBtn) {
                    exportBtn.style.opacity = '0.5';
                    exportBtn.style.cursor = 'not-allowed';
                    exportBtn.onclick = () => {
                        showNotification('PDF Export requires Premium access. Contact us to upgrade!', 'warning');
                        return false;
                    };
                }
            }
            
            console.log('‚úÖ Client feature access applied');
        }

        function showClientPortalInfo() {
            const features = clientInfo.features.map(f => {
                const icons = {
                    'database': 'üìä Player Database',
                    'comparison': '‚öñÔ∏è Comparison Tool',
                    'market': 'üìà Market Intelligence',
                    'export': 'üìÑ Export Reports'
                };
                return icons[f] || f;
            }).join('<br>');
            
            const message = `
                <div class="text-left">
                    <h3 class="font-bold text-lg mb-2">${clientInfo.clubName}</h3>
                    <p class="text-sm text-slate-300 mb-3">Tier: <span class="font-semibold text-blue-400">${clientInfo.tier}</span></p>
                    <p class="text-sm text-slate-300 mb-2">Active Features:</p>
                    <div class="text-sm text-slate-400">${features}</div>
                    <button onclick="clientLogout()" class="mt-4 w-full bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg font-semibold transition">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </div>
            `;
            
            showNotification(message, 'info', 10000);
        }

        function clientLogout() {
            isClientUser = false;
            clientInfo = null;
            isAuthenticated = false;
            currentUser = null;
            
            // Reset UI
            document.getElementById('clientLoginText').innerHTML = 'Client Login';
            document.getElementById('platformContent').style.display = 'none';
            document.getElementById('loginOverlay').style.display = 'flex';
            
            showNotification('Logged out successfully', 'success');
        }

        // Initialize platform after login
        function initializePlatform() {
            console.log('Platform initialized for user:', currentUser);
            
            // Initialize player data and render database
            if (typeof playerData !== 'undefined') {
                // CRITICAL: Always reinitialize filteredPlayers on login
                filteredPlayers = [...playerData];
                
                // Call the rendering functions
                if (typeof updateStats === 'function') {
                    updateStats();
                }
                if (typeof renderTable === 'function') {
                    renderTable();
                }
                
                console.log('‚úÖ Database rendered with', filteredPlayers.length, 'players');
            } else {
                console.error('‚ùå playerData is undefined!');
            }
            
            // Make sure database tab is active
            const dbTab = document.getElementById('database-tab');
            const dbButton = document.querySelector('[onclick*="database"]');
            
            if (dbTab) {
                // Remove active class from all tabs
                document.querySelectorAll('.tab-content').forEach(tab => {
                    tab.classList.remove('active');
                });
                document.querySelectorAll('.tab-button').forEach(btn => {
                    btn.classList.remove('active');
                });
                
                // Add active to database tab
                dbTab.classList.add('active');
                if (dbButton) {
                    dbButton.classList.add('active');
                }
            }
        }

        // Require authentication check (for sensitive tabs like agents)
        function requireAuth() {
            if (!isAuthenticated) {
                alert('Please log in to access this feature');
                return false;
            }
            return true;
        }

        // Show notification
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 16px 24px;
                background: ${type === 'success' ? '#10b981' : '#ef4444'};
                color: white;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                z-index: 10001;
                font-weight: 600;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // ==========================================
        // TRANSFER RISK CALCULATOR
        // Based on CIES Football Observatory Data
        // ==========================================

        // Risk calculation weights
        const RISK_WEIGHTS = {
            philosophyMismatch: 0.30,
            injuryHistory: 0.20,
            overvaluation: 0.20,
            leagueAdaptation: 0.15,
            ageRisk: 0.10,
            styleCompatibility: 0.05
        };

        // Premier League premium multiplier
        const PL_PREMIUM = 1.25; // 25% markup

        // League adaptation risk matrix
        const LEAGUE_RISK_MATRIX = {
            'Premier League': { 'Premier League': 0, 'La Liga': 8, 'Serie A': 5, 'Bundesliga': 5, 'Ligue 1': 3, 'Other': 10 },
            'La Liga': { 'Premier League': 10, 'La Liga': 0, 'Serie A': 3, 'Bundesliga': 5, 'Ligue 1': 3, 'Other': 8 },
            'Serie A': { 'Premier League': 8, 'La Liga': 5, 'Serie A': 0, 'Bundesliga': 5, 'Ligue 1': 3, 'Other': 8 },
            'Bundesliga': { 'Premier League': 6, 'La Liga': 5, 'Serie A': 5, 'Bundesliga': 0, 'Ligue 1': 3, 'Other': 5 },
            'Ligue 1': { 'Premier League': 12, 'La Liga': 8, 'Serie A': 7, 'Bundesliga': 7, 'Ligue 1': 0, 'Other': 8 },
            'Other': { 'Premier League': 15, 'La Liga': 12, 'Serie A': 10, 'Bundesliga': 10, 'Ligue 1': 8, 'Other': 5 }
        };

        // Initialize risk calculator on page load
        function initializeRiskCalculator() {
            // Populate player dropdown with active players
            const playerSelect = document.getElementById('riskPlayerSelect');
            if (playerSelect && typeof playerData !== 'undefined') {
                const activePlayers = playerData.filter(p => p.age && p.age < 40).slice(0, 100); // Top 100 for demo
                activePlayers.forEach(player => {
                    const option = document.createElement('option');
                    option.value = player.name;
                    option.textContent = `${player.name} (${player.position || 'N/A'}, Age ${player.age || 'N/A'})`;
                    option.dataset.player = JSON.stringify(player);
                    playerSelect.appendChild(option);
                });
            }
        }

        // Calculate transfer risk
        function calculateTransferRisk() {
            const playerSelect = document.getElementById('riskPlayerSelect');
            const targetLeague = document.getElementById('riskTargetLeague').value;
            const targetPhilosophy = document.getElementById('riskTargetPhilosophy').value;
            const transferFee = parseFloat(document.getElementById('riskTransferFee').value) * 1000000; // Convert to euros

            if (!playerSelect.value || !transferFee) {
                showNotification('Please select a player and enter transfer fee', 'error');
                return;
            }

            const selectedOption = playerSelect.options[playerSelect.selectedIndex];
            const player = JSON.parse(selectedOption.dataset.player);

            // Calculate risk components
            const philosophyRisk = calculatePhilosophyRisk(player, targetPhilosophy);
            const injuryRisk = calculateInjuryRisk(player);
            const overvaluationRisk = calculateOvervaluationRisk(player, transferFee, targetLeague);
            const leagueRisk = calculateLeagueRisk(player, targetLeague);
            const ageRisk = calculateAgeRisk(player);
            const styleRisk = calculateStyleRisk(player, targetLeague);

            // Calculate total weighted risk
            const totalRisk = Math.round(
                (philosophyRisk / 30) * 100 * RISK_WEIGHTS.philosophyMismatch +
                (injuryRisk / 20) * 100 * RISK_WEIGHTS.injuryHistory +
                (overvaluationRisk / 20) * 100 * RISK_WEIGHTS.overvaluation +
                (leagueRisk / 15) * 100 * RISK_WEIGHTS.leagueAdaptation +
                (ageRisk / 10) * 100 * RISK_WEIGHTS.ageRisk +
                (styleRisk / 10) * 100 * RISK_WEIGHTS.styleCompatibility
            );

            const successProbability = 100 - totalRisk;

            // Display results
            displayRiskResults(totalRisk, successProbability, {
                philosophyRisk,
                injuryRisk,
                overvaluationRisk,
                leagueRisk,
                ageRisk,
                styleRisk
            }, player, transferFee);
        }

        function calculatePhilosophyRisk(player, targetPhilosophy) {
            // Get player's best philosophy score
            const playerBestScore = player.topPhilosophyScore || 8.0;
            
            // Estimate compatibility with target philosophy (simplified)
            // In real implementation, would use actual philosophy scores
            const targetScore = playerBestScore - (Math.random() * 3); // Simulate mismatch
            
            const gap = Math.abs(playerBestScore - targetScore);
            return (gap / 10) * 30;
        }

        function calculateInjuryRisk(player) {
            // Estimate based on age and games played (simplified)
            const age = player.age || 25;
            let risk = 0;
            
            if (age > 30) risk += 8;
            else if (age > 28) risk += 5;
            else if (age < 21) risk += 3;
            
            return Math.min(risk, 20);
        }

        function calculateOvervaluationRisk(player, transferFee, targetLeague) {
            let fgaValue = (player.fga || 75) * 1.2 * 1000000; // ‚Ç¨1.2M per FGA point
            
            // Apply Premier League premium
            if (targetLeague === 'Premier League') {
                fgaValue *= PL_PREMIUM;
            }
            
            const overpaymentPercent = ((transferFee - fgaValue) / fgaValue) * 100;
            
            if (overpaymentPercent <= 10) return 0;
            if (overpaymentPercent <= 30) return 5;
            if (overpaymentPercent <= 50) return 10;
            if (overpaymentPercent <= 75) return 15;
            return 20;
        }

        function calculateLeagueRisk(player, targetLeague) {
            const currentLeague = player.currentLeague || 'Other';
            const from = LEAGUE_RISK_MATRIX[currentLeague] ? currentLeague : 'Other';
            return LEAGUE_RISK_MATRIX[from][targetLeague] || 10;
        }

        function calculateAgeRisk(player) {
            const age = player.age || 25;
            const position = player.position || 'CM';
            
            // Peak ages vary by position
            if (position.includes('GK')) {
                if (age >= 26 && age <= 35) return 0;
                if (age < 24) return 7;
                return 5;
            } else {
                if (age >= 23 && age <= 30) return 0;
                if (age < 21) return 7;
                if (age > 32) return 8;
                return 3;
            }
        }

        function calculateStyleRisk(player, targetLeague) {
            // Simplified: Premier League = high intensity
            if (targetLeague === 'Premier League') {
                return (player.fga < 80) ? 6 : 2;
            }
            return 3;
        }

        function displayRiskResults(totalRisk, successProbability, breakdown, player, transferFee) {
            const resultsDiv = document.getElementById('riskResults');
            const scoreValue = document.getElementById('riskScoreValue');
            const scoreLabel = document.getElementById('riskScoreLabel');
            const scoreBadge = document.getElementById('riskScoreBadge');
            const successProb = document.getElementById('riskSuccessProbability');
            const breakdownDiv = document.getElementById('riskBreakdown');
            const recommendationsDiv = document.getElementById('riskRecommendations');

            // Show results
            resultsDiv.classList.remove('hidden');
            
            // Update risk score
            let riskColor, riskIcon, riskLevel;
            if (totalRisk <= 30) {
                riskColor = 'text-green-400';
                riskIcon = 'üü¢';
                riskLevel = 'LOW RISK';
                scoreBadge.className = 'bg-green-500/20 border border-green-500/50 rounded-lg p-6 mb-4 text-center';
            } else if (totalRisk <= 60) {
                riskColor = 'text-yellow-400';
                riskIcon = 'üü°';
                riskLevel = 'MEDIUM RISK';
                scoreBadge.className = 'bg-yellow-500/20 border border-yellow-500/50 rounded-lg p-6 mb-4 text-center';
            } else {
                riskColor = 'text-red-400';
                riskIcon = 'üî¥';
                riskLevel = 'HIGH RISK';
                scoreBadge.className = 'bg-red-500/20 border border-red-500/50 rounded-lg p-6 mb-4 text-center';
            }

            scoreValue.textContent = `${riskIcon} ${totalRisk}/100`;
            scoreValue.className = `text-5xl font-bold mb-2 ${riskColor}`;
            scoreLabel.textContent = riskLevel;
            scoreLabel.className = `text-sm font-semibold ${riskColor}`;
            successProb.textContent = `${successProbability}%`;
            successProb.className = `font-bold ${successProbability >= 70 ? 'text-green-400' : successProbability >= 40 ? 'text-yellow-400' : 'text-red-400'}`;

            // Display breakdown
            breakdownDiv.innerHTML = `
                <div class="space-y-2 text-xs">
                    <div class="flex justify-between items-center">
                        <span class="text-slate-400">Philosophy Mismatch</span>
                        <span class="font-bold">${breakdown.philosophyRisk.toFixed(1)}/30</span>
                    </div>
                    <div class="w-full bg-slate-700 rounded-full h-2">
                        <div class="bg-blue-500 h-2 rounded-full" style="width: ${(breakdown.philosophyRisk/30*100)}%"></div>
                    </div>
                    
                    <div class="flex justify-between items-center">
                        <span class="text-slate-400">Injury History</span>
                        <span class="font-bold">${breakdown.injuryRisk.toFixed(1)}/20</span>
                    </div>
                    <div class="w-full bg-slate-700 rounded-full h-2">
                        <div class="bg-blue-500 h-2 rounded-full" style="width: ${(breakdown.injuryRisk/20*100)}%"></div>
                    </div>
                    
                    <div class="flex justify-between items-center">
                        <span class="text-slate-400">Overvaluation</span>
                        <span class="font-bold">${breakdown.overvaluationRisk.toFixed(1)}/20</span>
                    </div>
                    <div class="w-full bg-slate-700 rounded-full h-2">
                        <div class="bg-red-500 h-2 rounded-full" style="width: ${(breakdown.overvaluationRisk/20*100)}%"></div>
                    </div>
                    
                    <div class="flex justify-between items-center">
                        <span class="text-slate-400">League Adaptation</span>
                        <span class="font-bold">${breakdown.leagueRisk.toFixed(1)}/15</span>
                    </div>
                    <div class="w-full bg-slate-700 rounded-full h-2">
                        <div class="bg-yellow-500 h-2 rounded-full" style="width: ${(breakdown.leagueRisk/15*100)}%"></div>
                    </div>
                    
                    <div class="flex justify-between items-center">
                        <span class="text-slate-400">Age Risk</span>
                        <span class="font-bold">${breakdown.ageRisk.toFixed(1)}/10</span>
                    </div>
                    <div class="w-full bg-slate-700 rounded-full h-2">
                        <div class="bg-cyan-500 h-2 rounded-full" style="width: ${(breakdown.ageRisk/10*100)}%"></div>
                    </div>
                </div>
            `;

            // Generate recommendations
            let recommendations = [];
            
            if (totalRisk > 60) {
                recommendations.push({
                    type: 'danger',
                    text: 'üö® HIGH RISK TRANSFER: 54% of similar transfers fail (CIES data)'
                });
            }
            
            if (breakdown.overvaluationRisk > 15) {
                const feeInM = (transferFee / 1000000).toFixed(1);
                const fgaValue = ((player.fga || 75) * 1.2).toFixed(1);
                recommendations.push({
                    type: 'warning',
                    text: `Overvalued: ‚Ç¨${feeInM}M fee vs ‚Ç¨${fgaValue}M FGA value`
                });
            }
            
            if (breakdown.philosophyRisk > 15) {
                recommendations.push({
                    type: 'warning',
                    text: 'Philosophy mismatch detected - player may struggle to adapt'
                });
            }
            
            if (breakdown.leagueRisk > 10) {
                recommendations.push({
                    type: 'info',
                    text: 'High league adaptation risk - allow 6-12 months integration'
                });
            }
            
            if (totalRisk < 30) {
                recommendations.push({
                    type: 'success',
                    text: '‚úÖ Low risk transfer - good fit with high success probability'
                });
            }

            recommendationsDiv.innerHTML = recommendations.map(rec => {
                const colorClass = rec.type === 'danger' ? 'bg-red-500/20 border-red-500/50 text-red-400' :
                                  rec.type === 'warning' ? 'bg-yellow-500/20 border-yellow-500/50 text-yellow-400' :
                                  rec.type === 'success' ? 'bg-green-500/20 border-green-500/50 text-green-400' :
                                  'bg-blue-500/20 border-blue-500/50 text-blue-400';
                
                return `<div class="border rounded-lg p-3 text-xs ${colorClass}">${rec.text}</div>`;
            }).join('');

            // Scroll to results
            resultsDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Premier League Premium Calculator
        function calculatePremium() {
            const baseValue = parseFloat(document.getElementById('premiumBaseValue').value);
            
            if (!baseValue || baseValue <= 0) {
                showNotification('Please enter a valid base value', 'error');
                return;
            }
            
            const premium = baseValue * 0.25;
            const total = baseValue + premium;
            
            document.getElementById('premiumBase').textContent = `‚Ç¨${baseValue.toFixed(1)}M`;
            document.getElementById('premiumAmount').textContent = `‚Ç¨${premium.toFixed(1)}M`;
            document.getElementById('premiumTotal').textContent = `‚Ç¨${total.toFixed(1)}M`;
            document.getElementById('premiumResults').classList.remove('hidden');
        }

        // Initialize when platform loads
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeRiskCalculator);
        } else {
            initializeRiskCalculator();
        }
    </script>

</body>
</html>
