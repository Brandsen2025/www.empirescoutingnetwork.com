<!-- COMPLETE ARGENTINA DATABASE WIDGET (FULL SCREEN VERSION) -->
<div id="esn-arg-container">
    
    <!-- 1. HEADER -->
    <div class="esn-arg-header">
        <h2 style="color: #C5A059; margin: 0; text-transform: uppercase; letter-spacing: 1px;">Liga Profesional</h2>
        <span style="color: #666; font-size: 14px;">Argentina • 2025/2026 Season</span>
    </div>

    <!-- 2. MAIN LAYOUT -->
    <div class="esn-arg-body">
        
        <!-- SIDEBAR (Team List) -->
        <div class="esn-arg-sidebar">
            <input type="text" id="esn-team-search" placeholder="Search Team..." onkeyup="window.filterTeams()">
            <div id="esn-team-list">
                <!-- Teams load here -->
            </div>
        </div>

        <!-- CONTENT (Video Area) -->
        <div class="esn-arg-content">
            <h1 id="esn-selected-title">Select a Team</h1>
            
            <div class="esn-tabs">
                <button class="esn-tab-btn active" onclick="window.switchTab('fullMatches')">Full Matches</button>
                <button class="esn-tab-btn" onclick="window.switchTab('highlights')">Highlights</button>
                <button class="esn-tab-btn" onclick="window.switchTab('academy')">Reserves / U20</button>
            </div>

            <div id="esn-video-grid">
                <p style="color: #555; margin-top: 20px;">Select a team from the left to view matches.</p>
            </div>
        </div>

    </div>

    <!-- 3. POPUP VIDEO PLAYER (FULL WINDOW MODE) -->
    <div id="esn-player-modal" class="esn-modal">
        <div class="esn-modal-content">
            <div class="esn-modal-header">
                <span id="esn-playing-title" style="color:#C5A059; font-weight:bold; font-size: 18px;">Match Title</span>
                <span class="esn-close-btn" onclick="window.closeVideo()">✕ Close</span>
            </div>
            <div class="esn-video-wrapper">
                <iframe id="esn-main-iframe" src="" frameborder="0" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                    allowfullscreen>
                </iframe>
            </div>
        </div>
    </div>

</div>

<!-- CSS STYLES (Includes Full Screen Player Fix) -->
<style>
    /* GLOBAL CONTAINER */
    #esn-arg-container {
        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        background: #000;
        color: #fff;
        width: 100%;
        min-height: 700px;
        border: 1px solid #333;
        display: flex;
        flex-direction: column;
        position: relative;
        box-sizing: border-box;
    }

    /* HEADER & LAYOUT */
    .esn-arg-header { padding: 25px; border-bottom: 2px solid #C5A059; background: #111; }
    .esn-arg-body { display: flex; flex: 1; height: 650px; }
    
    /* SIDEBAR */
    .esn-arg-sidebar { width: 25%; min-width: 220px; background: #111; border-right: 1px solid #333; display: flex; flex-direction: column; }
    #esn-team-search { background: #000; border: none; border-bottom: 1px solid #333; color: white; padding: 15px; width: 100%; box-sizing: border-box; font-size: 14px; }
    #esn-team-search:focus { outline: 1px solid #C5A059; }
    #esn-team-list { overflow-y: auto; flex: 1; }
    
    .esn-team-item { padding: 15px 20px; border-bottom: 1px solid #222; cursor: pointer; display: flex; justify-content: space-between; font-size: 14px; color: #ccc; transition: 0.2s; }
    .esn-team-item:hover { background: #1a1a1a; color: #fff; }
    .esn-team-item.active { background: #1a1a1a; border-left: 4px solid #C5A059; color: #C5A059; font-weight: bold; }

    /* CONTENT AREA */
    .esn-arg-content { width: 75%; padding: 30px; background: #080808; overflow-y: auto; }
    #esn-selected-title { margin-top: 0; text-transform: uppercase; color: #fff; font-size: 28px; }

    .esn-tabs { display: flex; gap: 20px; margin-bottom: 25px; border-bottom: 1px solid #333; }
    .esn-tab-btn { background: none; border: none; color: #666; padding: 12px 0; cursor: pointer; font-weight: bold; font-size: 14px; border-bottom: 3px solid transparent; transition: 0.3s; }
    .esn-tab-btn:hover { color: #fff; }
    .esn-tab-btn.active { color: #C5A059; border-bottom: 3px solid #C5A059; }

    .esn-v-card { background: #151515; border: 1px solid #333; border-radius: 6px; margin-bottom: 12px; padding: 18px; display: flex; justify-content: space-between; align-items: center; cursor: pointer; transition: all 0.2s ease; }
    .esn-v-card:hover { border-color: #C5A059; transform: translateX(8px); background: #1a1a1a; }
    .esn-v-info h4 { margin: 0 0 6px 0; color: #fff; font-size: 16px; }
    .esn-v-info span { color: #777; font-size: 13px; }
    .esn-v-play { color: #C5A059; font-size: 24px; }

    /* FULL SCREEN MODAL STYLES */
    .esn-modal {
        display: none; 
        position: fixed; 
        z-index: 2147483647; 
        left: 0; top: 0; 
        width: 100vw; height: 100vh; 
        background-color: #000; 
    }

    .esn-modal-content {
        width: 100%;
        height: 100%;
        margin: 0;
        background: #000;
        display: flex;
        flex-direction: column;
        border: none;
    }

    .esn-modal-header {
        flex-shrink: 0; 
        padding: 15px 25px;
        background: #111;
        border-bottom: 1px solid #333;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .esn-close-btn { 
        cursor: pointer; 
        color: #fff; 
        font-size: 18px; 
        padding: 5px 15px;
        background: #333;
        border-radius: 4px;
        transition: 0.2s;
    }
    .esn-close-btn:hover { background: #C5A059; color: #000; }
    
    .esn-video-wrapper {
        flex-grow: 1; 
        width: 100%;
        position: relative;
        background: #000;
    }

    .esn-video-wrapper iframe {
        position: absolute;
        top: 0; left: 0;
        width: 100%; height: 100%;
        border: none;
    }

    @media (max-width: 800px) {
        .esn-arg-body { flex-direction: column; height: auto; }
        .esn-arg-sidebar { width: 100%; height: 250px; }
        .esn-arg-content { width: 100%; }
    }
</style>

<!-- JAVASCRIPT LOGIC -->
<script>
(function() {

    // ==========================================
    // 1. DATABASE - ADD YOUR MATCHES HERE
    // ==========================================
     const db = {
        "boca juniors": {
            fullMatches: [
                { title: "vs Barracas Central", date: "Matchday 3", link: "https://player.mux.com/QTNTN3GGEg3gFVCjZzXWapub4bCbnQnNi3BnIF01SAaA" }, 
                { title: "vs Sarmiento", date: "Matchday 2", link: "#" },
                { title: "vs Sarmiento", date: "Matchday 2", link: "#" }
            ],
            highlights: [ { title: "Goal Analysis", date: "vs River", link: "#" } ],
            academy: []
        },
        "independiente": {
            fullMatches: [
                { title: "vs Huracán", date: "Semi-Final", link: "https://player.mux.com/buBY7Cr00XExUSBMQCF2U7JP39jah5yIobl9QlUvU57w" }
            ],
            highlights: [],
            academy: []
        },
        "river plate": {
            fullMatches: [
                 { title: "vs Platense", date: "Quarter-Finals", link: "https://player.mux.com/aocX56007YQEjUrRbXm480200W01CZuQ02WMxxy7534Tt8Sk" }
            ],
            highlights: [],
            academy: []
        }, 
"platense": {
            fullMatches: [
                { title: "vs Belgrano", date: "15 February 2024", link: "https://player.mux.com/SlqvR02pjKaZ01VClO01IsMVDvx8010221kwV3OhhdWIQYuE" },
                { title: "vs River Plate", date: "21 May 2025", link: "https://player.mux.com/aocX56007YQEjUrRbXm480200W01CZuQ02WMxxy7534Tt8Sk" },
                { title: "vs San Lorenzo", date: "25 May 2025", link: "https://player.mux.com/cErfxDk00KU8vlJsgxTFnFgxvMaQSbT01qIG014EOXX1a00" },
                { title: "vs Huracán", date: "01 June 2025", link: "https://player.mux.com/B83pQj9yK8tJajRtN8hlt4lLQYTd8sETVw8cWPYz8NI" }
            ],
            highlights: [],
            academy: []
        }, 
"argentinos juniors": {
            fullMatches: [
                { title: "vs River Plate", date: "1 August 2025", link: "#" }
            ],
            highlights: [],
            academy: []
        },
 "atl. tucumán": {
            fullMatches: [
                { title: "vs River Plate", date: "Matchday 6", link: "#" }
            ],
            highlights: [],
            academy: []
        }, 
"san lorenzo": {
            fullMatches: [
                { title: "vs platense", date: "25 May 2025", link: "https://player.mux.com/cErfxDk00KU8vlJsgxTFnFgxvMaQSbT01qIG014EOXX1a00" }
            ],
            highlights: [],
            academy: []
        },
"banfield": {
            fullMatches: [
                { title: "vs Talleres", date: "30 October 2023", link: "https://player.mux.com/joySVKHfLihFy02PTL56mw351wVAZag2XXo3F46OWD4s" },
                { title: "vs Argentinos Juniors", date: "10 February 2024", link: "https://player.mux.com/mqqynSvxk02zqDmJlYWglmryD79dBZfN1QsIEpqS02hFo" },
                { title: "vs Belgrano", date: "6 November 2024", link: "https://player.mux.com/6ih2kQATS6ZpNUK6WYVvELAEa8eKiaYZpwvEfgKxZtc" },
                { title: "vs Independiente", date: "13 June 2024", link: "https://player.mux.com/600c01anoOGG97fQGAGM02CJY2Y1zDzxjO3EaqR02L6YzjU" },
                { title: "vs River Plate", date: "2 November 2024", link: "https://player.mux.com/T1OlsJGb02Zc01aLRa008QCpaWhfolgUcgN5gzd004csDi00" },
                { title: "vs Tigre", date: "18 November 2024", link: "https://player.mux.com/4q5MexMQjpfTWKVyJd017eKqG59UYexXpq902e2wa02wRk" },
                { title: "vs Lañus", date: "30 November 2024", link: "https://player.mux.com/T20143FMJjk9OpappWruPp01fXMbzQVCqqqXAeDFd00xwE" },
                
            ],
            highlights: [],
            academy: []
        },

    };

    const allTeams = [
        "Argentinos Juniors", "Atl. Tucumán", "Banfield", "Barracas Central", 
        "Belgrano", "Boca Juniors", "Central Córdoba", "Colón", "Defensa y Justicia", 
        "Estudiantes LP", "Gimnasia LP", "Godoy Cruz", "Huracán", "Independiente", 
        "Instituto", "Lanús", "Newell's Old Boys", "Platense", "Racing Club", 
        "Riestra", "River Plate", "Rosario Central", "San Lorenzo", "Sarmiento", 
        "Talleres", "Tigre", "Unión", "Vélez Sarsfield"
    ].sort();

    // ==========================================
    // 2. SYSTEM LOGIC
    // ==========================================

    let currentTeamKey = null;
    let currentTab = 'fullMatches';

    setTimeout(function() {
        const list = document.getElementById('esn-team-list');
        if(!list) return;
        list.innerHTML = "";
        allTeams.forEach(t => {
            let div = document.createElement('div');
            div.className = 'esn-team-item';
            div.innerText = t;
            div.onclick = function() { window.selectTeam(t, this); };
            list.appendChild(div);
        });
    }, 500);

    window.selectTeam = function(name, el) {
        currentTeamKey = name.toLowerCase();
        document.getElementById('esn-selected-title').innerText = name;
        let items = document.querySelectorAll('.esn-team-item');
        items.forEach(i => i.classList.remove('active'));
        if(el) el.classList.add('active');
        window.switchTab('fullMatches');
    };

    window.switchTab = function(category) {
        currentTab = category;
        let tabs = document.querySelectorAll('.esn-tab-btn');
        tabs.forEach(t => t.classList.remove('active'));
        
        if(category === 'fullMatches') tabs[0].classList.add('active');
        if(category === 'highlights') tabs[1].classList.add('active');
        if(category === 'academy') tabs[2].classList.add('active');

        renderVideos();
    };

    function renderVideos() {
        const grid = document.getElementById('esn-video-grid');
        grid.innerHTML = "";

        if (!currentTeamKey || !db[currentTeamKey] || !db[currentTeamKey][currentTab] || db[currentTeamKey][currentTab].length === 0) {
            grid.innerHTML = '<p style="color:#444">No videos available yet.</p>';
            return;
        }

        db[currentTeamKey][currentTab].forEach(vid => {
            let card = document.createElement('div');
            card.className = 'esn-v-card';
            card.onclick = function() { window.playVideo(vid.link, vid.title); };
            card.innerHTML = `
                <div class="esn-v-info">
                    <h4>${vid.title}</h4>
                    <span>${vid.date}</span>
                </div>
                <div class="esn-v-play">▶</div>
            `;
            grid.appendChild(card);
        });
    }

    window.filterTeams = function() {
        let term = document.getElementById('esn-team-search').value.toLowerCase();
        let items = document.querySelectorAll('.esn-team-item');
        items.forEach(item => {
            item.style.display = item.innerText.toLowerCase().includes(term) ? 'flex' : 'none';
        });
    };

    // ==========================================
    // 3. VIDEO PLAYER LOGIC (FULL SCREEN)
    // ==========================================
    
    window.playVideo = function(url, title) {
        const modal = document.getElementById('esn-player-modal');
        const iframe = document.getElementById('esn-main-iframe');
        const titleSpan = document.getElementById('esn-playing-title');

        titleSpan.innerText = title;

        // Auto-Convert YouTube links
        if (url.includes("youtube.com/watch?v=")) {
            url = url.replace("watch?v=", "embed/");
            if (url.includes("&")) url = url.split("&")[0]; 
        } else if (url.includes("youtu.be/")) {
             url = url.replace("youtu.be/", "youtube.com/embed/");
        }

        iframe.src = url;
        modal.style.display = "block";
    };

    window.closeVideo = function() {
        const modal = document.getElementById('esn-player-modal');
        const iframe = document.getElementById('esn-main-iframe');
        modal.style.display = "none";
        iframe.src = "";
    };

})();
</script>